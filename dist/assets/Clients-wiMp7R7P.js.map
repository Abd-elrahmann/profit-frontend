{"version":3,"file":"Clients-wiMp7R7P.js","sources":["../../node_modules/@mui/icons-material/esm/ChevronLeft.js","../../node_modules/@mui/icons-material/esm/ChevronRight.js","../../src/components/modals/EditDocuments.jsx","../../src/utilities/statementExporter.js","../../src/pages/Clients/Clients.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'ChevronRight');","import React, { useState } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  CircularProgress,\r\n  Alert,\r\n  Divider\r\n} from '@mui/material';\r\nimport { Close as CloseIcon, CloudUpload, Delete, Print, Download } from '@mui/icons-material';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport Api from '../../config/Api';\r\nimport { saveAs } from 'file-saver';\r\nimport { useQueryClient } from '@tanstack/react-query';\r\nimport { notifySuccess, notifyError } from '../../utilities/toastify';\r\nconst EditDocuments = ({ open, onClose, clientId, documents, hasKafeel = false }) => {\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [uploadedFiles, setUploadedFiles] = useState({});\r\n  const [deleteFields, setDeleteFields] = useState([]);\r\n  const queryClient = useQueryClient();\r\n  const handleDrop = (acceptedFiles, fieldName) => {\r\n    if (acceptedFiles.length > 0) {\r\n      setUploadedFiles(prev => ({\r\n        ...prev,\r\n        [fieldName]: acceptedFiles[0]\r\n      }));\r\n    }\r\n  };\r\n\r\n  const removeFile = (fieldName) => {\r\n    setUploadedFiles(prev => {\r\n      const newFiles = { ...prev };\r\n      delete newFiles[fieldName];\r\n      return newFiles;\r\n    });\r\n  };\r\n\r\n  const handleDeleteExisting = (fieldName) => {\r\n    setDeleteFields(prev => [...prev, fieldName]);\r\n  };\r\n\r\n  const handleUndoDelete = (fieldName) => {\r\n    setDeleteFields(prev => prev.filter(field => field !== fieldName));\r\n  };\r\n\r\n  const getFilePreview = (file) => {\r\n    if (file.type.startsWith('image/')) {\r\n      return URL.createObjectURL(file);\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleDownloadFile = async (fileUrl, fileName) => {\r\n    try {\r\n      const response = await fetch(fileUrl);\r\n      const blob = await response.blob();\r\n      saveAs(blob, fileName);\r\n    } catch (error) {\r\n      console.error('Error downloading file:', error);\r\n      notifyError('حدث خطأ أثناء تحميل الملف');\r\n    }\r\n  };\r\n\r\n  const handlePrintFile = async (fileUrl) => {\r\n    try {\r\n      const printWindow = window.open(fileUrl, '_blank');\r\n      printWindow?.print();\r\n    } catch (error) {\r\n      console.error('Error printing file:', error);\r\n      notifyError('حدث خطأ أثناء محاولة الطباعة');\r\n    }\r\n  };\r\n\r\n  const DocumentDropzone = ({ fieldName, label, acceptedTypes, existingFile }) => {\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n      accept: acceptedTypes,\r\n      onDrop: (files) => handleDrop(files, fieldName),\r\n      multiple: false,\r\n    });\r\n\r\n    const file = uploadedFiles[fieldName];\r\n    const isDeleted = deleteFields.includes(fieldName);\r\n\r\n    if (existingFile && !isDeleted && !file) {\r\n      const fileName = existingFile.split('/').pop();\r\n      return (\r\n        <Paper sx={{ p: 2 }}>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Typography>{label}</Typography>\r\n            <Box>\r\n              <IconButton onClick={() => handlePrintFile(existingFile)}>\r\n                <Print />\r\n              </IconButton>\r\n              <IconButton onClick={() => handleDownloadFile(existingFile, fileName)}>\r\n                <Download />\r\n              </IconButton>\r\n              <IconButton onClick={() => handleDeleteExisting(fieldName)} color=\"error\">\r\n                <Delete />\r\n              </IconButton>\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n      );\r\n    }\r\n\r\n    if (isDeleted && !file) {\r\n      return (\r\n        <Paper sx={{ p: 2, bgcolor: '#fff5f5' }}>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Typography color=\"error\">{label} (سيتم الحذف)</Typography>\r\n            <Button onClick={() => handleUndoDelete(fieldName)}>تراجع</Button>\r\n          </Box>\r\n        </Paper>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Paper\r\n        {...getRootProps()}\r\n        sx={{\r\n          p: 3,\r\n          border: '2px dashed',\r\n          borderColor: isDragActive ? 'primary.main' : '#ccc',\r\n          textAlign: 'center',\r\n          bgcolor: isDragActive ? 'action.hover' : '#fafafa',\r\n          cursor: 'pointer',\r\n          '&:hover': {\r\n            borderColor: 'primary.main',\r\n            bgcolor: 'action.hover',\r\n          },\r\n        }}\r\n      >\r\n        <input {...getInputProps()} />\r\n        {file ? (\r\n          <Box>\r\n            {file.type.startsWith('image/') ? (\r\n              <Box>\r\n                <img \r\n                  src={getFilePreview(file)} \r\n                  alt={file.name}\r\n                  style={{ maxWidth: '200px', maxHeight: 120, marginBottom: 8 }}\r\n                />\r\n                <Typography variant=\"body2\">{file.name}</Typography>\r\n              </Box>\r\n            ) : (\r\n              <Box>\r\n                <CloudUpload sx={{ fontSize: 40, color: 'primary.main', mb: 1 }} />\r\n                <Typography variant=\"body2\">{file.name}</Typography>\r\n              </Box>\r\n            )}\r\n            <Button\r\n              startIcon={<Delete />}\r\n              color=\"error\"\r\n              size=\"small\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                removeFile(fieldName);\r\n              }}\r\n              sx={{ mt: 1 }}\r\n            >\r\n              إزالة\r\n            </Button>\r\n          </Box>\r\n        ) : (\r\n          <Box>\r\n            <CloudUpload sx={{ fontSize: 40, color: '#9e9e9e', mb: 1 }} />\r\n            <Typography variant=\"body2\">{label}</Typography>\r\n            <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" mt={1}>\r\n              اسحب وأفلت الملف هنا أو انقر للاختيار\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </Paper>\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const formData = new FormData();\r\n\r\n      // Add files\r\n      Object.keys(uploadedFiles).forEach(key => {\r\n        formData.append(key, uploadedFiles[key]);\r\n      });\r\n\r\n      // Add delete fields\r\n      if (deleteFields.length > 0) {\r\n        formData.append('deleteFields', JSON.stringify(deleteFields));\r\n      }\r\n\r\n      await Api.patch(`/api/clients/${clientId}/documents`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      notifySuccess('تم تحديث المستندات بنجاح');\r\n      onClose();\r\n      await queryClient.invalidateQueries({ queryKey: ['clients'] });\r\n      await queryClient.invalidateQueries({ queryKey: ['client-details', clientId] });\r\n      \r\n      await queryClient.refetchQueries({ queryKey: ['client-details', clientId] });\r\n      \r\n      setUploadedFiles({});\r\n      setDeleteFields([]);\r\n    } catch (error) {\r\n      console.error('Error updating documents:', error);\r\n      notifyError(error.response?.data?.message || 'حدث خطأ أثناء تحديث المستندات');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog \r\n      open={open} \r\n      onClose={onClose}\r\n      maxWidth=\"md\"\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: {\r\n          borderRadius: 2,\r\n          direction: 'rtl'\r\n        }\r\n      }}\r\n    >\r\n      <DialogTitle sx={{ \r\n        display: 'flex', \r\n        justifyContent: 'space-between', \r\n        alignItems: 'center',\r\n        pb: 1\r\n      }}>\r\n        <Typography variant=\"h6\" fontWeight=\"bold\">\r\n          تعديل المرفقات\r\n        </Typography>\r\n        <IconButton onClick={onClose} size=\"small\">\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n\r\n      <DialogContent sx={{ pb: 1 }}>\r\n        {/* Client Documents Section */}\r\n        <Box mb={4}>\r\n          <Typography variant=\"h6\" color=\"primary\" mb={2} mt={2}>\r\n         مرفقات العميل\r\n          </Typography>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <DocumentDropzone\r\n                fieldName=\"clientIdImage\"\r\n                label=\"صورة هوية العميل\"\r\n                acceptedTypes={{ 'image/*': ['.png', '.jpg', '.jpeg'] }}\r\n                existingFile={documents?.clientIdImage}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <DocumentDropzone\r\n                fieldName=\"clientWorkCard\"\r\n                label=\"بطاقة عمل العميل\"\r\n                acceptedTypes={{ \r\n                  'application/pdf': ['.pdf'],\r\n                  'image/*': ['.png', '.jpg', '.jpeg'] \r\n                }}\r\n                existingFile={documents?.clientWorkCard}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <DocumentDropzone\r\n                fieldName=\"salaryReport\"\r\n                label=\"تقرير الراتب\"\r\n                acceptedTypes={{ \r\n                  'application/pdf': ['.pdf'],\r\n                  'application/msword': ['.doc', '.docx'] \r\n                }}\r\n                existingFile={documents?.salaryReport}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <DocumentDropzone\r\n                fieldName=\"simaReport\"\r\n                label=\"تقرير سمة\"\r\n                acceptedTypes={{ \r\n                  'application/pdf': ['.pdf'],\r\n                  'application/msword': ['.doc', '.docx'] \r\n                }}\r\n                existingFile={documents?.simaReport}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n\r\n        {/* Kafeel Documents Section - Only show if client has kafeel */}\r\n        {hasKafeel && (\r\n          <>\r\n            <Divider sx={{ my: 3 }} />\r\n            <Box>\r\n              <Typography variant=\"h6\" color=\"primary\" mb={2} mt={2}>\r\n                مرفقات الكفيل\r\n              </Typography>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                  <DocumentDropzone\r\n                    fieldName=\"kafeelIdImage\"\r\n                    label=\"صورة هوية الكفيل\"\r\n                    acceptedTypes={{ 'image/*': ['.png', '.jpg', '.jpeg'] }}\r\n                    existingFile={documents?.kafeelIdImage}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <DocumentDropzone\r\n                    fieldName=\"kafeelWorkCard\"\r\n                    label=\"بطاقة عمل الكفيل\"\r\n                    acceptedTypes={{ \r\n                      'application/pdf': ['.pdf'],\r\n                      'image/*': ['.png', '.jpg', '.jpeg'] \r\n                    }}\r\n                    existingFile={documents?.kafeelWorkCard}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </>\r\n        )}\r\n      </DialogContent>\r\n\r\n      <DialogActions sx={{ px: 3, py: 2,gap: 2 }}>\r\n        <Button onClick={onClose} variant=\"outlined\" color=\"inherit\" disabled={isSubmitting}>\r\n          إلغاء\r\n        </Button>\r\n        <Button\r\n          onClick={handleSubmit}\r\n          variant=\"contained\"\r\n          disabled={isSubmitting && Object.keys(uploadedFiles).length === 0 && deleteFields.length === 0}\r\n          sx={{\r\n            bgcolor: \"#0d40a5\",\r\n            \"&:hover\": { bgcolor: \"#0b3589\" },\r\n            minWidth: 120\r\n          }}\r\n        >\r\n          {isSubmitting ? (\r\n            <CircularProgress size={24} color=\"inherit\" />\r\n          ) : (\r\n            'حفظ التغييرات'\r\n          )}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default EditDocuments;\r\n","import { jsPDF } from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\n\r\n// Register Arabic fonts (make sure these font files exist in your public/assets/fonts directory)\r\nconst registerArabicFonts = (doc) => {\r\n  try {\r\n    doc.addFont('/assets/fonts/Amiri-Regular.ttf', 'Amiri', 'normal');\r\n    doc.addFont('/assets/fonts/Amiri-Bold.ttf', 'Amiri', 'bold');\r\n  } catch (error) {\r\n    console.warn('Arabic fonts not found, using default fonts', error);\r\n  }\r\n};\r\n\r\nexport const exportStatementToPDF = async (statementData, clientName) => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      // Create new PDF document\r\n      const doc = new jsPDF();\r\n      \r\n      // Register Arabic fonts\r\n      registerArabicFonts(doc);\r\n      \r\n      // Set document properties\r\n      doc.setProperties({\r\n        title: `كشف حساب - ${clientName}`,\r\n        subject: 'كشف حساب العميل',\r\n        author: 'نظام إدارة السلف',\r\n        keywords: 'كشف, حساب, عميل, سلف',\r\n        creator: 'نظام إدارة السلف'\r\n      });\r\n\r\n      // Set Arabic as primary font\r\n      doc.setFont('Amiri', 'normal');\r\n      doc.setFontSize(16);\r\n      \r\n      // Title\r\n      doc.text('كشف حساب العميل', 105, 20, { align: 'center' });\r\n      doc.setFontSize(12);\r\n      doc.text(`العميل: ${clientName}`, 105, 30, { align: 'center' });\r\n      doc.text(`رقم الهوية: ${statementData.client.nationalId}`, 105, 37, { align: 'center' });\r\n      \r\n      // Summary section\r\n      doc.setFontSize(10);\r\n      let yPosition = 50;\r\n      \r\n      doc.text(`الرصيد الافتتاحي: ${statementData.openingBalance.toLocaleString('en-US')} ريال`, 14, yPosition);\r\n      yPosition += 7;\r\n      doc.text(`الرصيد الختامي: ${statementData.closingBalance.toLocaleString('en-US')} ريال`, 14, yPosition);\r\n      yPosition += 7;\r\n      doc.text(`إجمالي المدين: ${statementData.client.debit.toLocaleString('en-US')} ريال`, 14, yPosition);\r\n      yPosition += 7;\r\n      doc.text(`إجمالي الدائن: ${statementData.client.credit.toLocaleString('en-US')} ريال`, 14, yPosition);\r\n      \r\n      yPosition += 15;\r\n      \r\n      // Prepare table data (RTL order - reversed columns)\r\n      const tableData = statementData.transactions.map(transaction => [\r\n        transaction.balance.toLocaleString('en-US') + ' ريال',\r\n        transaction.credit > 0 ? transaction.credit.toLocaleString('en-US') + ' ريال' : 0,\r\n        transaction.debit > 0 ? transaction.debit.toLocaleString('en-US') + ' ريال' : 0,\r\n        transaction.description,\r\n        getTransactionTypeArabic(transaction.type),\r\n        new Date(transaction.date).toLocaleDateString('en-US')\r\n      ]);\r\n      \r\n      // Table headers (RTL order - reversed)\r\n      const headers = [\r\n        ['الرصيد', 'دائن', 'مدين', 'الوصف', 'نوع المعاملة', 'التاريخ']\r\n      ];\r\n      \r\n      // Create table with RTL support\r\n      autoTable(doc, {\r\n        startY: yPosition,\r\n        head: headers,\r\n        body: tableData,\r\n        theme: 'grid',\r\n        tableLineColor: [0, 0, 0],\r\n        tableLineWidth: 0.1,\r\n        styles: {\r\n          font: 'Amiri',\r\n          fontStyle: 'normal',\r\n          fontSize: 8,\r\n          cellPadding: 2,\r\n          lineColor: [0, 0, 0],\r\n          lineWidth: 0.1\r\n        },\r\n        headStyles: {\r\n          fillColor: [13, 64, 165],\r\n          textColor: 255,\r\n          fontStyle: 'bold',\r\n          fontSize: 9\r\n        },\r\n        columnStyles: {\r\n          0: { cellWidth: 25 }, // الرصيد\r\n          1: { cellWidth: 25 }, // دائن\r\n          2: { cellWidth: 25 }, // مدين\r\n          3: { cellWidth: 50 }, // الوصف\r\n          4: { cellWidth: 25 }, // نوع المعاملة\r\n          5: { cellWidth: 25 }  // التاريخ\r\n        },\r\n        margin: { top: yPosition, right: 14, left: 14 },\r\n        tableWidth: 'auto',\r\n        horizontalPageBreak: true\r\n      });\r\n      \r\n      // Footer\r\n      const pageCount = doc.internal.getNumberOfPages();\r\n      for (let i = 1; i <= pageCount; i++) {\r\n        doc.setPage(i);\r\n        doc.setFontSize(8);\r\n        doc.text(\r\n          `صفحة ${i} من ${pageCount}`,\r\n          doc.internal.pageSize.width / 2,\r\n          doc.internal.pageSize.height - 10,\r\n          { align: 'center' }\r\n        );\r\n        doc.text(\r\n          `تم الإنشاء في: ${new Date().toLocaleDateString('ar-SA')}`,\r\n          doc.internal.pageSize.width - 14,\r\n          doc.internal.pageSize.height - 10,\r\n          { align: 'left' }\r\n        );\r\n      }\r\n      \r\n      // Save PDF\r\n      const fileName = `كشف_حساب_${clientName}_${new Date().toISOString().split('T')[0]}.pdf`;\r\n      doc.save(fileName);\r\n      resolve();\r\n    } catch (error) {\r\n      console.error('PDF export error:', error.message);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const exportStatementToExcel = async (statementData, clientName) => {\r\n  try {\r\n    // Create workbook\r\n    const workbook = XLSX.utils.book_new();\r\n    \r\n    // Summary data\r\n    const summaryData = [\r\n      ['كشف حساب العميل'],\r\n      [`العميل: ${clientName}`],\r\n      [`رقم الهوية: ${statementData.client.nationalId}`],\r\n      [''],\r\n      ['الرصيد الافتتاحي', statementData.openingBalance],\r\n      ['الرصيد الختامي', statementData.closingBalance],\r\n      ['إجمالي المدين', statementData.client.debit],\r\n      ['إجمالي الدائن', statementData.client.credit],\r\n      ['']\r\n    ];\r\n    \r\n    // Transactions data (RTL order - matching PDF)\r\n    const transactionsData = statementData.transactions.map(transaction => ({\r\n      'الرصيد': transaction.balance,\r\n      'دائن': transaction.credit > 0 ? transaction.credit : '-',\r\n      'مدين': transaction.debit > 0 ? transaction.debit : '-',\r\n      'الوصف': transaction.description,\r\n      'نوع المعاملة': getTransactionTypeArabic(transaction.type),\r\n      'التاريخ': new Date(transaction.date).toLocaleDateString('en-US')\r\n    }));\r\n    \r\n    // Create summary sheet\r\n    const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\r\n    \r\n    // Create transactions sheet\r\n    const transactionsSheet = XLSX.utils.json_to_sheet(transactionsData);\r\n    \r\n    // Add sheets to workbook\r\n    XLSX.utils.book_append_sheet(workbook, summarySheet, 'ملخص');\r\n    XLSX.utils.book_append_sheet(workbook, transactionsSheet, 'المعاملات');\r\n    \r\n    // Generate Excel file\r\n    const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n    const blob = new Blob([excelBuffer], { \r\n      type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' \r\n    });\r\n    \r\n    const fileName = `كشف_حساب_${clientName}_${new Date().toISOString().split('T')[0]}.xlsx`;\r\n    saveAs(blob, fileName);\r\n    \r\n  } catch (error) {\r\n    console.error('Excel export error:', error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTransactionTypeArabic = (type) => {\r\n  const types = {\r\n    'LOAN_DISBURSEMENT': 'صرف سلفة',\r\n    'REPAYMENT': 'سداد',\r\n    'ADJUSTMENT': 'تعديل',\r\n    'INTEREST': 'فائدة'\r\n  };\r\n  return types[type] || type;\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  Paper,\r\n  Tabs,\r\n  Tab,\r\n  IconButton,\r\n  Chip,\r\n  InputAdornment,\r\n  CircularProgress,\r\n  Pagination,\r\n  Table,\r\n  TableBody,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add,\r\n  Edit,\r\n  Save,\r\n  Search,\r\n  Download,\r\n  CheckCircle,\r\n  Print,\r\n  Delete,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Share,\r\n  PictureAsPdf,\r\n  TableChart,\r\n} from \"@mui/icons-material\";\r\nimport Api, { handleApiError } from \"../../config/Api\";\r\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport { debounce } from \"lodash\";\r\nimport AddClient from \"../../components/modals/AddClient\";\r\nimport DeleteModal from \"../../components/modals/DeleteModal\";\r\nimport EditDocuments from \"../../components/modals/EditDocuments\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { notifyError, notifySuccess } from \"../../utilities/toastify\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { usePermissions } from \"../../components/Contexts/PermissionsContext\";\r\nimport { StyledTableCell, StyledTableRow } from \"../../components/layouts/tableLayout\";\r\nimport { exportStatementToPDF, exportStatementToExcel } from \"../../utilities/statementExporter\";\r\n\r\nconst getClients = async (page = 1, searchQuery = \"\", status = \"\") => {\r\n  let queryParams = new URLSearchParams();\r\n\r\n  if (searchQuery.trim()) {\r\n    if (/^\\d+$/.test(searchQuery.trim())) {\r\n      queryParams.append(\"nationalId\", searchQuery.trim());\r\n    } else {\r\n      queryParams.append(\"name\", searchQuery.trim());\r\n    }\r\n  }\r\n\r\n  if (status.trim()) {\r\n    queryParams.append(\"status\", status.trim());\r\n  }\r\n\r\n  queryParams.append(\"limit\", \"10\");\r\n\r\n  const queryString = queryParams.toString();\r\n  const url = `/api/clients/all/${page}${queryString ? `?${queryString}` : \"\"}`;\r\n\r\n  const response = await Api.get(url);\r\n  return response.data;\r\n};\r\n\r\nconst getClientDetails = async (clientId) => {\r\n  const response = await Api.get(`/api/clients/${clientId}`);\r\n  return response.data;\r\n};\r\n\r\nconst getClientStatement = async (clientId) => {\r\n  const response = await Api.get(`/api/clients/${clientId}/statement`);\r\n  return response.data;\r\n};\r\n\r\nexport default function Clients() {\r\n  const [tab, setTab] = useState(0);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedStatus, setSelectedStatus] = useState(\"\");\r\n  const [selectedClient, setSelectedClient] = useState(null);\r\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [clientToDelete, setClientToDelete] = useState(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [isDocumentsModalOpen, setIsDocumentsModalOpen] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [clientFormData, setClientFormData] = useState({});\r\n  const [kafeelFormData, setKafeelFormData] = useState({});\r\n  const queryClient = useQueryClient();\r\n  const { permissions } = usePermissions();\r\n\r\n  const {\r\n    data: clientsData,\r\n    isLoading: isClientsLoading,\r\n    refetch,\r\n  } = useQuery({\r\n    queryKey: [\"clients\", currentPage, search, selectedStatus],\r\n    queryFn: () => getClients(currentPage, search, selectedStatus),\r\n    retry: 1,\r\n  });\r\n\r\n  const { data: clientDetails } = useQuery({\r\n    queryKey: [\"client-details\", selectedClient?.id],\r\n    queryFn: () =>\r\n      selectedClient ? getClientDetails(selectedClient.id) : null,\r\n    enabled: !!selectedClient,\r\n    retry: 1,\r\n  });\r\n\r\n  const { data: clientStatement } = useQuery({\r\n    queryKey: [\"client-statement\", selectedClient?.id],\r\n    queryFn: () =>\r\n      selectedClient ? getClientStatement(selectedClient.id) : null,\r\n    enabled: !!selectedClient && tab === 4,\r\n    retry: 1,\r\n  });\r\n\r\n  const debouncedSearch = debounce((value) => {\r\n    setSearch(value);\r\n    setCurrentPage(1);\r\n  }, 500);\r\n\r\n  const handleSearchChange = (event) => {\r\n    debouncedSearch(event.target.value);\r\n  };\r\n\r\n  const handlePageChange = (event, newPage) => {\r\n    setCurrentPage(newPage);\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleClientSelect = (client) => {\r\n    setSelectedClient(client);\r\n    setEditMode(false);\r\n  };\r\n\r\n  const handleClientInputChange = (field, value) => {\r\n    setClientFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  const handleKafeelInputChange = (field, value) => {\r\n    setKafeelFormData((prev) => ({\r\n      ...prev,\r\n      [field]:\r\n        field === \"salary\" || field === \"obligations\"\r\n          ? parseFloat(value) || 0\r\n          : value,\r\n    }));\r\n  };\r\n\r\n  const handleSaveChanges = async () => {\r\n    try {\r\n      if (tab === 0) {\r\n        await Api.patch(\r\n          `/api/clients/${selectedClient.id}/client-data`,\r\n          clientFormData\r\n        );\r\n        notifySuccess(\"تم تحديث بيانات العميل بنجاح\");\r\n      } else if (tab === 2) {\r\n        await Api.patch(\r\n          `/api/clients/${selectedClient.id}/kafeel-data`,\r\n          kafeelFormData\r\n        );\r\n        notifySuccess(\"تم تحديث بيانات الكفيل بنجاح\");\r\n      }\r\n\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\"client-details\", selectedClient.id],\r\n      });\r\n      queryClient.invalidateQueries({ queryKey: [\"clients\"] });\r\n\r\n      setEditMode(false);\r\n    } catch (error) {\r\n      notifyError(\r\n        error.response?.data?.message || \"حدث خطأ أثناء تحديث البيانات\"\r\n      );\r\n      handleApiError(error);\r\n    }\r\n  };\r\n\r\n  const handleAddClient = () => {\r\n    setIsAddModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteClient = async (clientId) => {\r\n    try {\r\n      await Api.delete(`/api/clients/${clientId}`);\r\n      notifySuccess(\"تم حذف العميل بنجاح\");\r\n      refetch();\r\n      if (selectedClient?.id === clientId) {\r\n        setSelectedClient(null);\r\n      }\r\n      setIsDeleteModalOpen(false);\r\n      setClientToDelete(null);\r\n    } catch (error) {\r\n      notifyError(error.response?.data?.message || \"حدث خطأ أثناء حذف العميل\");\r\n      handleApiError(error);\r\n    }\r\n  };\r\n\r\n  const openDeleteModal = (client) => {\r\n    setClientToDelete(client);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleDownloadFile = async (\r\n    fileUrl,\r\n    fileName,\r\n    documentType,\r\n    clientName\r\n  ) => {\r\n    try {\r\n      const response = await fetch(fileUrl);\r\n      const blob = await response.blob();\r\n\r\n      const extension = fileName.split(\".\").pop();\r\n      const newFileName = `${documentType}_${clientName}.${extension}`;\r\n\r\n      saveAs(blob, newFileName);\r\n    } catch (error) {\r\n      notifyError(error.response?.data?.message || \"حدث خطأ أثناء تحميل الملف\");\r\n      handleApiError(error);\r\n    }\r\n  };\r\n\r\n  const handlePrintFile = async (fileUrl) => {\r\n    try {\r\n      const response = await fetch(fileUrl);\r\n      const blob = await response.blob();\r\n      const blobUrl = URL.createObjectURL(blob);\r\n      const printWindow = window.open(blobUrl, \"_blank\");\r\n\r\n      printWindow?.addEventListener(\r\n        \"load\",\r\n        () => {\r\n          printWindow.print();\r\n          printWindow.addEventListener(\"afterprint\", () => {\r\n            URL.revokeObjectURL(blobUrl);\r\n          });\r\n        },\r\n        { once: true }\r\n      );\r\n    } catch (error) {\r\n      notifyError(\r\n        error.response?.data?.message || \"حدث خطأ أثناء محاولة الطباعة\"\r\n      );\r\n      handleApiError(error);\r\n    }\r\n  };\r\n\r\n  const handleShareFile = async (fileUrl, fileName, clientName) => {\r\n    try {\r\n      const response = await fetch(fileUrl);\r\n      const blob = await response.blob();\r\n\r\n      const filename = fileName + \".pdf\";\r\n      const file = new File([blob], filename, { type: blob.type });\r\n\r\n      if (navigator.canShare && navigator.canShare({ files: [file] })) {\r\n        await navigator.share({\r\n          title: filename,\r\n          text: `مشاركة مستند: ${clientName}`,\r\n          files: [file]\r\n        });\r\n      } else {\r\n        await navigator.clipboard.writeText(fileUrl);\r\n        notifySuccess(\"تم نسخ رابط الملف لأن المشاركة غير مدعومة\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      notifyError(\"حدث خطأ أثناء مشاركة الملف\");\r\n    }\r\n  };\r\n\r\n  const handleExportPDF = async () => {\r\n    if (!clientStatement) return;\r\n    \r\n    try {\r\n      await exportStatementToPDF(clientStatement, clientDetails.client.name);\r\n      notifySuccess(\"تم تصدير كشف الحساب بصيغة PDF بنجاح\");\r\n    } catch (error) {\r\n      notifyError(\"حدث خطأ أثناء تصدير PDF\");\r\n      console.error(\"PDF Export Error:\", error);\r\n    }\r\n  };\r\n\r\n  const handleExportExcel = async () => {\r\n    if (!clientStatement) return;\r\n    \r\n    try {\r\n      await exportStatementToExcel(clientStatement, clientDetails.client.name);\r\n      notifySuccess(\"تم تصدير كشف الحساب بصيغة Excel بنجاح\");\r\n    } catch (error) {\r\n      notifyError(\"حدث خطأ أثناء تصدير Excel\");\r\n      console.error(\"Excel Export Error:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (clientsData?.clients?.length > 0 && !selectedClient) {\r\n      setSelectedClient(clientsData.clients[0].client);\r\n    }\r\n  }, [clientsData, selectedClient]);\r\n\r\n  useEffect(() => {\r\n    if (clientDetails?.client) {\r\n      setClientFormData({\r\n        name: clientDetails.client.name || \"\",\r\n        phone: clientDetails.client.phone || \"\",\r\n        city: clientDetails.client.city || \"\",\r\n        district: clientDetails.client.district || \"\",\r\n        address: clientDetails.client.address || \"\",\r\n        employer: clientDetails.client.employer || \"\",\r\n        creationReason: clientDetails.client.creationReason || \"\",\r\n        notes: clientDetails.client.notes || \"\",\r\n        birthDate: clientDetails.client.birthDate\r\n          ? new Date(clientDetails.client.birthDate).toISOString().split(\"T\")[0]\r\n          : \"\",\r\n      });\r\n    }\r\n    if (clientDetails?.kafeel) {\r\n      setKafeelFormData({\r\n        name: clientDetails.kafeel.name || \"\",\r\n        nationalId: clientDetails.kafeel.nationalId || \"\",\r\n        birthDate: clientDetails.kafeel.birthDate\r\n          ? new Date(clientDetails.kafeel.birthDate).toISOString().split(\"T\")[0]\r\n          : \"\",\r\n        city: clientDetails.kafeel.city || \"\",\r\n        district: clientDetails.kafeel.district || \"\",\r\n        employer: clientDetails.kafeel.employer || \"\",\r\n        salary: clientDetails.kafeel.salary || \"\",\r\n        obligations: clientDetails.kafeel.obligations || \"\",\r\n        phone: clientDetails.kafeel.phone || \"\",\r\n        email: clientDetails.kafeel.email || \"\",\r\n      });\r\n    }\r\n  }, [clientDetails]);\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case \"ملتزم\":\r\n        return \"success\";\r\n      case \"متأخر\":\r\n        return \"warning\";\r\n      case \"متعثر\":\r\n        return \"error\";\r\n      default:\r\n        return \"default\";\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit'\r\n    });\r\n  };\r\n\r\n\r\n\r\n  const getTransactionType = (type) => {\r\n    const types = {\r\n      'LOAN_DISBURSEMENT': 'صرف سلفة',\r\n      'REPAYMENT': 'سداد',\r\n      'ADJUSTMENT': 'تعديل',\r\n      'INTEREST': 'فائدة'\r\n    };\r\n    return types[type] || type;\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ bgcolor: \"#f6f6f8\", minHeight: \"100vh\" }}>\r\n      <Helmet>\r\n        <title>العملاء</title>\r\n        <meta name=\"description\" content=\"العملاء\" />\r\n      </Helmet>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          p: 2,\r\n          bgcolor: \"#fff\",\r\n          borderBottom: \"1px solid #ddd\",\r\n        }}\r\n      >\r\n        <Typography variant=\"h5\" fontWeight=\"bold\">\r\n          العملاء\r\n        </Typography>\r\n        {permissions.includes(\"clients_Add\") && (\r\n          <Button\r\n          variant=\"contained\"\r\n          startIcon={<Add sx={{ marginLeft: \"10px\" }} />}\r\n          onClick={handleAddClient}\r\n          sx={{\r\n            bgcolor: \"#0d40a5\",\r\n            \"&:hover\": { bgcolor: \"#0b3589\" },\r\n            fontWeight: \"bold\",\r\n            borderRadius: 2,\r\n            px: 2.5,\r\n            py: 1,\r\n          }}\r\n        >\r\n          إضافة عميل جديد\r\n        </Button>\r\n        )}\r\n      </Box>\r\n\r\n      <Box sx={{ display: \"flex\", height: \"calc(100vh - 80px)\" }}>\r\n        <Box\r\n          sx={{\r\n            width: \"350px\",\r\n            borderRight: \"1px solid #ddd\",\r\n            bgcolor: \"#fafafa\",\r\n            height: \"100%\",\r\n            overflowY: \"auto\",\r\n            flexShrink: 0,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{ p: 3, borderBottom: \"1px solid #ddd\", bgcolor: \"#fafafa\" }}\r\n          >\r\n            <TextField\r\n              placeholder=\"البحث بالاسم أو رقم الهوية\"\r\n              fullWidth\r\n              size=\"small\"\r\n              onChange={handleSearchChange}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            <Box sx={{ display: \"flex\", gap: 1, flexWrap: \"wrap\", mt: 2 }}>\r\n              <Chip\r\n                label=\"ملتزم\"\r\n                color={selectedStatus === \"ملتزم\" ? \"primary\" : \"default\"}\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setSelectedStatus((prev) =>\r\n                    prev === \"ملتزم\" ? \"\" : \"ملتزم\"\r\n                  );\r\n                  setCurrentPage(1);\r\n                }}\r\n              />\r\n              <Chip\r\n                label=\"متأخر\"\r\n                color={selectedStatus === \"متأخر\" ? \"primary\" : \"default\"}\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setSelectedStatus((prev) =>\r\n                    prev === \"متأخر\" ? \"\" : \"متأخر\"\r\n                  );\r\n                  setCurrentPage(1);\r\n                }}\r\n              />\r\n              <Chip\r\n                label=\"متعثر\"\r\n                color={selectedStatus === \"متعثر\" ? \"primary\" : \"default\"}\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setSelectedStatus((prev) =>\r\n                    prev === \"متعثر\" ? \"\" : \"متعثر\"\r\n                  );\r\n                  setCurrentPage(1);\r\n                }}\r\n              />\r\n            </Box>\r\n          </Box>\r\n\r\n          {clientsData && !isClientsLoading && (\r\n            <Box\r\n              sx={{ p: 2, borderBottom: \"1px solid #eee\", bgcolor: \"#f9f9f9\" }}\r\n            >\r\n              <Typography variant=\"body2\" color=\"black\">\r\n                صفحة {clientsData.currentPage} من {clientsData.totalPages} -\r\n                إجمالي {clientsData.totalClients} عميل\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n\r\n          {isClientsLoading ? (\r\n            <Box sx={{ display: \"flex\", justifyContent: \"center\", p: 3 }}>\r\n              <CircularProgress />\r\n            </Box>\r\n          ) : clientsData?.clients?.length === 0 ? (\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                p: 4,\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <Typography variant=\"h6\" color=\"text.secondary\" mb={1}>\r\n                لا توجد عملاء\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"black\">\r\n                {search || selectedStatus\r\n                  ? \"لم يتم العثور على عملاء مطابقين للبحث\"\r\n                  : \"لا توجد عملاء مسجلين\"}\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            clientsData?.clients?.map((item) => {\r\n              const client = item.client;\r\n              const isSelected = selectedClient?.id === client.id;\r\n              return (\r\n                <Box\r\n                  key={client.id}\r\n                  sx={{\r\n                    p: 2,\r\n                    borderBottom: \"1px solid #eee\",\r\n                    cursor: \"pointer\",\r\n                    bgcolor: isSelected ? \"#e8efff\" : \"inherit\",\r\n                    \"&:hover\": { bgcolor: \"#f1f1f1\" },\r\n                  }}\r\n                  onClick={() => handleClientSelect(client)}\r\n                >\r\n                  <Box\r\n                    display=\"flex\"\r\n                    justifyContent=\"space-between\"\r\n                    alignItems=\"center\"\r\n                  >\r\n                    <Box>\r\n                      <Typography\r\n                        fontWeight=\"bold\"\r\n                        color={isSelected ? \"primary.main\" : \"text.primary\"}\r\n                      >\r\n                        {client.name}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        رقم الهوية: {client.nationalId}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Box>\r\n                  <Box\r\n                    display=\"flex\"\r\n                    justifyContent=\"space-between\"\r\n                    alignItems=\"center\"\r\n                    mt={1}\r\n                  >\r\n                    <Chip\r\n                      label={client.status}\r\n                      size=\"small\"\r\n                      color={getStatusColor(client.status)}\r\n                      variant=\"outlined\"\r\n                    />\r\n                    {permissions.includes(\"clients_Delete\") && (\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      color=\"error\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        openDeleteModal(client);\r\n                      }}\r\n                    >\r\n                      <Delete fontSize=\"small\" />\r\n                    </IconButton>\r\n                    )}\r\n                  </Box>\r\n                </Box>\r\n              );\r\n            })\r\n          )}\r\n\r\n          {/* Pagination */}\r\n          {clientsData && clientsData.totalPages > 1 && (\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n                p: 2,\r\n                borderTop: \"1px solid #eee\",\r\n                bgcolor: \"#fafafa\",\r\n              }}\r\n            >\r\n              {/* Previous Button */}\r\n              <Button\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                startIcon={<ChevronRight />}\r\n                disabled={currentPage === 1}\r\n                onClick={() => handlePageChange(null, currentPage - 1)}\r\n                sx={{\r\n                  minWidth: \"80px\",\r\n                  \"&:disabled\": {\r\n                    opacity: 0.5,\r\n                  },\r\n                }}\r\n              >\r\n                السابق\r\n              </Button>\r\n\r\n              {/* Page Numbers */}\r\n              <Pagination\r\n                count={clientsData.totalPages}\r\n                page={currentPage}\r\n                onChange={handlePageChange}\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                siblingCount={1}\r\n                boundaryCount={1}\r\n                sx={{\r\n                  \"& .MuiPaginationItem-root\": {\r\n                    fontSize: \"0.875rem\",\r\n                  },\r\n                }}\r\n              />\r\n\r\n              {/* Next Button */}\r\n              <Button\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                endIcon={<ChevronLeft />}\r\n                disabled={currentPage === clientsData.totalPages}\r\n                onClick={() => handlePageChange(null, currentPage + 1)}\r\n                sx={{\r\n                  minWidth: \"80px\",\r\n                  \"&:disabled\": {\r\n                    opacity: 0.5,\r\n                  },\r\n                }}\r\n              >\r\n                التالي\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n\r\n        {selectedClient && clientDetails ? (\r\n          <Box sx={{ flex: 1, p: 4, bgcolor: \"#fff\", overflowY: \"auto\" }}>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n                mb: 3,\r\n              }}\r\n            >\r\n              <Box>\r\n                <Typography variant=\"h6\" fontWeight=\"bold\">\r\n                  {clientDetails.client.name}\r\n                </Typography>\r\n                <Typography color=\"text.secondary\">\r\n                  رقم الهوية: {clientDetails.client.nationalId}\r\n                </Typography>\r\n              </Box>\r\n              {tab !== 1 && tab !== 4 && (\r\n                <Box sx={{ display: \"flex\", gap: 2 }}>\r\n                  {tab === 3 ? (\r\n                    <>\r\n                      {permissions.includes(\"clients_Update\") && (\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<Edit sx={{ marginLeft: \"10px\" }} />}\r\n                        onClick={() => setIsDocumentsModalOpen(true)}\r\n                      >\r\n                        تعديل\r\n                      </Button>\r\n                      )}\r\n                      {permissions.includes(\"clients_Save\") && (\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        startIcon={<Save sx={{ marginLeft: \"10px\" }} />}\r\n                        sx={{\r\n                          bgcolor: \"#0d40a5\",\r\n                          \"&:hover\": { bgcolor: \"#0b3589\" },\r\n                        }}\r\n                        disabled={!editMode}\r\n                      >\r\n                        حفظ التغييرات\r\n                      </Button>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      {permissions.includes(\"clients_Update\") && (\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<Edit sx={{ marginLeft: \"10px\" }} />}\r\n                        onClick={() => setEditMode(!editMode)}\r\n                      >\r\n                        {editMode ? \"إلغاء التعديل\" : \"تعديل\"}\r\n                      </Button>\r\n                      )}\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        startIcon={<Save sx={{ marginLeft: \"10px\" }} />}\r\n                        sx={{\r\n                          bgcolor: \"#0d40a5\",\r\n                          \"&:hover\": { bgcolor: \"#0b3589\" },\r\n                        }}\r\n                        disabled={!editMode}\r\n                        onClick={handleSaveChanges}\r\n                      >\r\n                        حفظ التغييرات\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n\r\n            <Tabs\r\n              value={tab}\r\n              onChange={handleTabChange}\r\n              textColor=\"primary\"\r\n              indicatorColor=\"primary\"\r\n              sx={{ mb: 3 }}\r\n            >\r\n              <Tab label=\"الملف الشخصي\" />\r\n              <Tab label=\"المعلومات المالية\" />\r\n              <Tab label=\"الكفيل\" />\r\n              <Tab label=\"المرفقات\" />\r\n              <Tab label=\"كشف حساب\" />\r\n            </Tabs>\r\n\r\n            {/* الملف الشخصي */}\r\n            {tab === 0 && (\r\n              <Box>\r\n                <Paper sx={{ p: 3, mb: 3 }}>\r\n                  <Typography variant=\"h6\" mb={3}>\r\n                    المعلومات الشخصية\r\n                  </Typography>\r\n                  <Grid container spacing={3}>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        الاسم الكامل\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.name\r\n                            : clientDetails.client.name\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"name\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            width: \"280px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        البريد الإلكتروني\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.email\r\n                            : clientDetails.client.email ||\r\n                              \"لا يوجد بريد إلكتروني\"\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"email\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        رقم الهوية الوطنية\r\n                      </Typography>\r\n                      <TextField\r\n                        value={clientDetails.client.nationalId}\r\n                        fullWidth\r\n                        disabled\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        رقم الجوال\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.phone\r\n                            : clientDetails.client.phone\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"phone\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        تاريخ الميلاد\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.birthDate\r\n                            : clientDetails.client.birthDate\r\n                            ? new Date(clientDetails.client.birthDate)\r\n                                .toISOString()\r\n                                .split(\"T\")[0]\r\n                            : \"\"\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"birthDate\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        type=\"date\"\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        المدينة\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.city\r\n                            : clientDetails.client.city\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"city\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        الحي\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.district\r\n                            : clientDetails.client.district\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"district\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            width: \"280px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        العنوان التفصيلي\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.address\r\n                            : clientDetails.client.address || \"\"\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"address\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            width: \"350px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        جهة العمل\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.employer\r\n                            : clientDetails.client.employer\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\"employer\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        سبب الإنشاء\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? clientFormData.creationReason\r\n                            : clientDetails.client.creationReason || \"\"\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleClientInputChange(\r\n                            \"creationReason\",\r\n                            e.target.value\r\n                          )\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                            \"&:hover fieldset\": {\r\n                              borderColor: \"#0d40a5\",\r\n                            },\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                </Paper>\r\n\r\n                <Paper sx={{ p: 3, mt: 3 }}>\r\n                  <Typography variant=\"h6\" mb={3}>\r\n                    ملاحظات\r\n                  </Typography>\r\n                  <TextField\r\n                    value={\r\n                      editMode\r\n                        ? clientFormData.notes\r\n                        : clientDetails.client.notes || \"\"\r\n                    }\r\n                    onChange={(e) =>\r\n                      handleClientInputChange(\"notes\", e.target.value)\r\n                    }\r\n                    fullWidth\r\n                    multiline\r\n                    rows={3}\r\n                    disabled={!editMode}\r\n                    placeholder=\"لا توجد ملاحظات\"\r\n                    sx={{\r\n                      \"& .MuiOutlinedInput-root\": {\r\n                        backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                        borderRadius: \"6px\",\r\n                        \"&:hover fieldset\": {\r\n                          borderColor: \"#0d40a5\",\r\n                        },\r\n                      },\r\n                    }}\r\n                  />\r\n                </Paper>\r\n              </Box>\r\n            )}\r\n\r\n            {tab === 1 && (\r\n              <Paper sx={{ p: 3 }}>\r\n                <Typography variant=\"h6\" mb={3}>\r\n                  المعلومات المالية\r\n                </Typography>\r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Paper sx={{ p: 3, bgcolor: \"#f8f9fa\" }}>\r\n                      <Typography variant=\"body1\" color=\"text.secondary\" mb={1}>\r\n                        الراتب\r\n                      </Typography>\r\n                      <Typography\r\n                        variant=\"h5\"\r\n                        fontWeight=\"bold\"\r\n                        color=\"primary\"\r\n                      >\r\n                        {clientDetails.client.salary?.toLocaleString()} ريال\r\n                      </Typography>\r\n                    </Paper>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Paper sx={{ p: 3, bgcolor: \"#f8f9fa\" }}>\r\n                      <Typography variant=\"body1\" color=\"text.secondary\" mb={1}>\r\n                        الالتزامات\r\n                      </Typography>\r\n                      <Typography variant=\"h5\" fontWeight=\"bold\" color=\"error\">\r\n                        {clientDetails.client.obligations?.toLocaleString()}{\" \"}\r\n                        ريال\r\n                      </Typography>\r\n                    </Paper>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Paper sx={{ p: 3, bgcolor: \"#f8f9fa\" }}>\r\n                      <Typography variant=\"body1\" color=\"text.secondary\" mb={1}>\r\n                        الحالة\r\n                      </Typography>\r\n                      <Typography\r\n                        variant=\"h5\"\r\n                        fontWeight=\"bold\"\r\n                        color={getStatusColor(clientDetails.client.status)}\r\n                      >\r\n                        {clientDetails.client.status}\r\n                      </Typography>\r\n                    </Paper>\r\n                  </Grid>\r\n                </Grid>\r\n              </Paper>\r\n            )}\r\n\r\n            {tab === 2 && (\r\n              <Paper sx={{ p: 3 }}>\r\n                <Typography variant=\"h6\" mb={3}>\r\n                  معلومات الكفيل\r\n                </Typography>\r\n                {clientDetails.kafeel ? (\r\n                  <Grid container spacing={3}>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        اسم الكفيل\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.name\r\n                            : clientDetails.kafeel.name\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"name\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        رقم هوية الكفيل\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.nationalId\r\n                            : clientDetails.kafeel.nationalId\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"nationalId\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        تاريخ الميلاد\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.birthDate\r\n                            : clientDetails.kafeel.birthDate\r\n                            ? new Date(clientDetails.kafeel.birthDate)\r\n                                .toISOString()\r\n                                .split(\"T\")[0]\r\n                            : \"\"\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"birthDate\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        type=\"date\"\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        المدينة\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.city\r\n                            : clientDetails.kafeel.city\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"city\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        الحي\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.district\r\n                            : clientDetails.kafeel.district\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"district\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        رقم الجوال\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.phone\r\n                            : clientDetails.kafeel.phone\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"phone\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        البريد الإلكتروني\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.email\r\n                            : clientDetails.kafeel.email\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"email\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        جهة العمل\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.employer\r\n                            : clientDetails.kafeel.employer\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"employer\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        الراتب\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.salary\r\n                            : clientDetails.kafeel.salary\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"salary\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        type=\"number\"\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Typography variant=\"body2\" mb={1} fontWeight={500}>\r\n                        الالتزامات\r\n                      </Typography>\r\n                      <TextField\r\n                        value={\r\n                          editMode\r\n                            ? kafeelFormData.obligations\r\n                            : clientDetails.kafeel.obligations\r\n                        }\r\n                        onChange={(e) =>\r\n                          handleKafeelInputChange(\"obligations\", e.target.value)\r\n                        }\r\n                        fullWidth\r\n                        type=\"number\"\r\n                        disabled={!editMode}\r\n                        sx={{\r\n                          \"& .MuiOutlinedInput-root\": {\r\n                            backgroundColor: editMode ? \"#fff\" : \"#f9fafb\",\r\n                            borderRadius: \"6px\",\r\n                          },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                ) : (\r\n                  <Typography\r\n                    variant=\"body1\"\r\n                    color=\"text.secondary\"\r\n                    align=\"center\"\r\n                  >\r\n                    لا يوجد كفيل لهذا العميل\r\n                  </Typography>\r\n                )}\r\n              </Paper>\r\n            )}\r\n\r\n            {tab === 3 && (\r\n              <Box>\r\n                <Box sx={{ mb: 3 }}>\r\n                  <Typography\r\n                    variant=\"h5\"\r\n                    sx={{ mb: 2, color: \"primary.main\" }}\r\n                  >\r\n                    مستندات العميل\r\n                  </Typography>\r\n                  {clientDetails.documents &&\r\n                  clientDetails.documents.length > 0 ? (\r\n                    <Grid container spacing={2}>\r\n                      {Object.entries(clientDetails.documents[0]).map(\r\n                        ([key, value]) => {\r\n                          const clientDocumentTypes = {\r\n                            clientIdImage: \"صورة هوية العميل\",\r\n                            clientWorkCard: \"بطاقة عمل العميل\",\r\n                            salaryReport: \"تقرير الراتب\",\r\n                            simaReport: \"تقرير SIMA\",\r\n                            DEBT_ACKNOWLEDGMENT: \"إقرار الدين\",\r\n                            PROMISSORY_NOTE: \"سند الأمر\",\r\n                          };\r\n\r\n                          if (value && clientDocumentTypes[key]) {\r\n                            return (\r\n                              <Grid item xs={12} key={key}>\r\n                                <Paper\r\n                                  sx={{\r\n                                    p: 2,\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"space-between\",\r\n                                    alignItems: \"center\",\r\n                                  }}\r\n                                >\r\n                                  <Box\r\n                                    display=\"flex\"\r\n                                    alignItems=\"center\"\r\n                                    gap={1}\r\n                                  >\r\n                                    <CheckCircle\r\n                                      color=\"success\"\r\n                                      fontSize=\"small\"\r\n                                    />\r\n                                    <Box>\r\n                                      <Typography fontWeight=\"500\">\r\n                                        {clientDocumentTypes[key]}\r\n                                      </Typography>\r\n                                    </Box>\r\n                                  </Box>\r\n                                  <Box>\r\n                                    <IconButton\r\n                                      onClick={() => handlePrintFile(value)}\r\n                                    >\r\n                                      <Print />\r\n                                    </IconButton>\r\n                                    <IconButton\r\n                                      onClick={() =>\r\n                                        handleDownloadFile(\r\n                                          value,\r\n                                          \"\",\r\n                                          clientDocumentTypes[key],\r\n                                          clientDetails.client.name\r\n                                        )\r\n                                      }\r\n                                    >\r\n                                      <Download />\r\n                                    </IconButton>\r\n                                    <IconButton\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleShareFile(\r\n                                          value,\r\n                                          clientDocumentTypes[key],\r\n                                          clientDetails.client.name\r\n                                        );\r\n                                      }}\r\n                                      title=\"مشاركة\"\r\n                                    >\r\n                                      <Share />\r\n                                    </IconButton>\r\n                                  </Box>\r\n                                </Paper>\r\n                              </Grid>\r\n                            );\r\n                          }\r\n                          return null;\r\n                        }\r\n                      )}\r\n                    </Grid>\r\n                  ) : (\r\n                    <Paper sx={{ p: 3, textAlign: \"center\", mb: 3 }}>\r\n                      <Typography color=\"text.secondary\">\r\n                        لا توجد مستندات للعميل\r\n                      </Typography>\r\n                    </Paper>\r\n                  )}\r\n                </Box>\r\n\r\n                {clientDetails.kafeel && (\r\n                  <Box sx={{ mt: 5, mb: 3 }}>\r\n                    <Typography\r\n                      variant=\"h5\"\r\n                      sx={{ mt: 5, mb: 2, color: \"primary.main\" }}\r\n                    >\r\n                      مستندات الكفيل\r\n                    </Typography>\r\n                    {clientDetails.documents &&\r\n                    clientDetails.documents.length > 0 ? (\r\n                      <Grid container spacing={2}>\r\n                        {Object.entries(clientDetails.documents[0]).map(\r\n                          ([key, value]) => {\r\n                            const kafeelDocumentTypes = {\r\n                              kafeelIdImage: \"صورة هوية الكفيل\",\r\n                              kafeelWorkCard: \"بطاقة عمل الكفيل\",\r\n                            };\r\n\r\n                            if (value && kafeelDocumentTypes[key]) {\r\n                              return (\r\n                                <Grid item xs={12} key={key}>\r\n                                  <Paper\r\n                                    sx={{\r\n                                      p: 2,\r\n                                      display: \"flex\",\r\n                                      justifyContent: \"space-between\",\r\n                                      alignItems: \"center\",\r\n                                    }}\r\n                                  >\r\n                                    <Box\r\n                                      display=\"flex\"\r\n                                      alignItems=\"center\"\r\n                                      gap={1}\r\n                                    >\r\n                                      <CheckCircle\r\n                                        color=\"success\"\r\n                                        fontSize=\"small\"\r\n                                      />\r\n                                      <Box>\r\n                                        <Typography fontWeight=\"500\">\r\n                                          {kafeelDocumentTypes[key]}\r\n                                        </Typography>\r\n                                      </Box>\r\n                                    </Box>\r\n                                    <Box>\r\n                                      <IconButton\r\n                                        onClick={() => handlePrintFile(value)}\r\n                                      >\r\n                                        <Print />\r\n                                      </IconButton>\r\n                                      <IconButton\r\n                                        onClick={() =>\r\n                                          handleDownloadFile(\r\n                                            value,\r\n                                            \"\",\r\n                                            kafeelDocumentTypes[key],\r\n                                            clientDetails.client.name\r\n                                          )\r\n                                        }\r\n                                      >\r\n                                        <Download />\r\n                                      </IconButton>\r\n                                      <IconButton\r\n                                        onClick={(e) => {\r\n                                          e.stopPropagation();\r\n                                          handleShareFile(\r\n                                            value,\r\n                                            kafeelDocumentTypes[key],\r\n                                            clientDetails.client.name\r\n                                          );\r\n                                        }}\r\n                                        title=\"مشاركة\"\r\n                                      >\r\n                                        <Share />\r\n                                      </IconButton>\r\n                                    </Box>\r\n                                  </Paper>\r\n                                </Grid>\r\n                              );\r\n                            }\r\n                            return null;\r\n                          }\r\n                        )}\r\n                      </Grid>\r\n                    ) : (\r\n                      <Paper sx={{ p: 3, textAlign: \"center\" }}>\r\n                        <Typography color=\"text.secondary\">\r\n                          لا توجد مستندات للكفيل\r\n                        </Typography>\r\n                      </Paper>\r\n                    )}\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            )}\r\n\r\n            {tab === 4 && (\r\n              <Box>\r\n                {/* Export Buttons */}\r\n                <Box sx={{ display: 'flex', justifyContent: 'flex-end', gap: 2, mb: 3 }}>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<PictureAsPdf sx={{marginLeft: '10px'}} />}\r\n                    onClick={handleExportPDF}\r\n                    disabled={!clientStatement}\r\n                    sx={{\r\n                      borderColor: '#d32f2f',\r\n                      color: '#d32f2f',\r\n                      '&:hover': {\r\n                        borderColor: '#b71c1c',\r\n                        backgroundColor: 'rgba(211, 47, 47, 0.04)'\r\n                      }\r\n                    }}\r\n                  >\r\n                    تصدير PDF\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<TableChart sx={{marginLeft: '10px'}} />}\r\n                    onClick={handleExportExcel}\r\n                    disabled={!clientStatement}\r\n                    sx={{\r\n                      borderColor: '#2e7d32',\r\n                      color: '#2e7d32',\r\n                      '&:hover': {\r\n                        borderColor: '#1b5e20',\r\n                        backgroundColor: 'rgba(46, 125, 50, 0.04)'\r\n                      }\r\n                    }}\r\n                  >\r\n                    تصدير Excel\r\n                  </Button>\r\n                </Box>\r\n\r\n                {/* Statement Summary */}\r\n                {clientStatement && (\r\n                  <Paper sx={{ p: 3, mb: 3, bgcolor: '#f8f9fa' }}>\r\n                    <Grid container spacing={6} justifyContent=\"center\" alignItems=\"center\">\r\n                      <Grid item xs={12} md={3} alignItems=\"center\">\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          الرصيد الافتتاحي\r\n                        </Typography>\r\n                        <Typography variant=\"h6\" fontWeight=\"bold\" color=\"primary\">\r\n                          {clientStatement.openingBalance}\r\n                        </Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={3} alignItems=\"center\">\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          الرصيد الختامي\r\n                        </Typography>\r\n                        <Typography variant=\"h6\" fontWeight=\"bold\" color=\"primary\">\r\n                          {clientStatement.closingBalance}\r\n                        </Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={3}>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          إجمالي المدين\r\n                        </Typography>\r\n                        <Typography variant=\"h6\" fontWeight=\"bold\" color=\"error\">\r\n                          {clientStatement.client.debit}\r\n                        </Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={3}>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          إجمالي الدائن\r\n                        </Typography>\r\n                        <Typography variant=\"h6\" fontWeight=\"bold\" color=\"success.main\">\r\n                          {clientStatement.client.credit}\r\n                        </Typography>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Paper>\r\n                )}\r\n\r\n                {/* Transactions Table */}\r\n                <Paper sx={{ width: '100%', overflow: 'hidden' }}>\r\n                  <TableContainer sx={{ maxHeight: 600 }}>\r\n                    <Table stickyHeader aria-label=\"كشف حساب العميل\">\r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: 120 }}>\r\n                            التاريخ\r\n                          </StyledTableCell>\r\n                          <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: 120 }}>\r\n                            نوع المعاملة\r\n                          </StyledTableCell>\r\n                          <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: 200 }}>\r\n                            الوصف\r\n                          </StyledTableCell>\r\n                          <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: 120 }}>\r\n                            مدين\r\n                          </StyledTableCell>\r\n                          <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: 120 }}>\r\n                            دائن\r\n                          </StyledTableCell>\r\n                          <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: 120 }}>\r\n                            الرصيد\r\n                          </StyledTableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                        {clientStatement && clientStatement.transactions && clientStatement.transactions.length > 0 ? (\r\n                          clientStatement.transactions.map((transaction, index) => (\r\n                            <StyledTableRow key={index} hover>\r\n                              <StyledTableCell align=\"center\">\r\n                                {formatDate(transaction.date)}\r\n                              </StyledTableCell>\r\n                              <StyledTableCell align=\"center\">\r\n                                {getTransactionType(transaction.type)}\r\n                              </StyledTableCell>\r\n                              <StyledTableCell align=\"center\">\r\n                                {transaction.description}\r\n                              </StyledTableCell>\r\n                              <StyledTableCell align=\"center\" sx={{ color: transaction.debit > 0 ? 'error.main' : 'text.primary' }}>\r\n                                {transaction.debit > 0 ? transaction.debit : 0}\r\n                              </StyledTableCell>\r\n                              <StyledTableCell align=\"center\" sx={{ color: transaction.credit > 0 ? 'success.main' : 'text.primary' }}>\r\n                                {transaction.credit > 0 ? transaction.credit : 0}\r\n                              </StyledTableCell>\r\n                              <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold' }}>\r\n                                {transaction.balance}\r\n                              </StyledTableCell>\r\n                            </StyledTableRow>\r\n                          ))\r\n                        ) : (\r\n                          <StyledTableRow>\r\n                            <StyledTableCell colSpan={6} align=\"center\" sx={{ py: 3 }}>\r\n                              <Typography variant=\"body1\" color=\"text.secondary\">\r\n                                لا توجد معاملات\r\n                              </Typography>\r\n                            </StyledTableCell>\r\n                          </StyledTableRow>\r\n                        )}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </TableContainer>\r\n                </Paper>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        ) : (\r\n          <Box\r\n            sx={{\r\n              flex: 1,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"column\",\r\n              gap: 2,\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\" color=\"text.secondary\">\r\n              {selectedClient\r\n                ? \"جاري تحميل البيانات...\"\r\n                : \"اختر عميلاً لعرض التفاصيل\"}\r\n            </Typography>\r\n            {selectedClient && <CircularProgress size={40} />}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      <AddClient\r\n        open={isAddModalOpen}\r\n        onClose={() => setIsAddModalOpen(false)}\r\n      />\r\n\r\n      <DeleteModal\r\n        open={isDeleteModalOpen}\r\n        onClose={() => setIsDeleteModalOpen(false)}\r\n        onConfirm={() => handleDeleteClient(clientToDelete?.id)}\r\n        title=\"حذف العميل\"\r\n        message={`هل أنت متأكد من حذف العميل ${clientToDelete?.name}؟`}\r\n        ButtonText=\"حذف\"\r\n      />\r\n\r\n      <EditDocuments\r\n        open={isDocumentsModalOpen}\r\n        onClose={() => setIsDocumentsModalOpen(false)}\r\n        clientId={selectedClient?.id}\r\n        documents={clientDetails?.documents?.[0]}\r\n        hasKafeel={!!clientDetails?.kafeel}\r\n      />\r\n    </Box>\r\n  );\r\n}"],"names":["ChevronLeft","createSvgIcon","_jsx","ChevronRight","EditDocuments","open","onClose","clientId","documents","hasKafeel","isSubmitting","setIsSubmitting","useState","uploadedFiles","setUploadedFiles","deleteFields","setDeleteFields","queryClient","useQueryClient","handleDrop","acceptedFiles","fieldName","prev","removeFile","newFiles","handleDeleteExisting","handleUndoDelete","field","getFilePreview","file","handleDownloadFile","fileUrl","fileName","blob","saveAs","error","notifyError","handlePrintFile","DocumentDropzone","label","acceptedTypes","existingFile","getRootProps","getInputProps","isDragActive","useDropzone","files","isDeleted","jsx","Paper","jsxs","Box","Typography","IconButton","Print","Download","Delete","Button","CloudUpload","e","handleSubmit","formData","key","Api","notifySuccess","Dialog","DialogTitle","CloseIcon","DialogContent","Grid","Fragment","Divider","DialogActions","CircularProgress","registerArabicFonts","doc","exportStatementToPDF","statementData","clientName","resolve","reject","jsPDF","yPosition","tableData","transaction","getTransactionTypeArabic","autoTable","pageCount","i","exportStatementToExcel","workbook","XLSX.utils","summaryData","transactionsData","summarySheet","transactionsSheet","excelBuffer","XLSX.write","type","getClients","page","searchQuery","status","queryParams","queryString","url","getClientDetails","getClientStatement","Clients","tab","setTab","search","setSearch","selectedStatus","setSelectedStatus","selectedClient","setSelectedClient","isAddModalOpen","setIsAddModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","clientToDelete","setClientToDelete","editMode","setEditMode","isDocumentsModalOpen","setIsDocumentsModalOpen","currentPage","setCurrentPage","clientFormData","setClientFormData","kafeelFormData","setKafeelFormData","permissions","usePermissions","clientsData","isClientsLoading","refetch","useQuery","clientDetails","clientStatement","debouncedSearch","debounce","value","handleSearchChange","event","handlePageChange","newPage","handleTabChange","newValue","handleClientSelect","client","handleClientInputChange","handleKafeelInputChange","handleSaveChanges","handleApiError","handleAddClient","handleDeleteClient","openDeleteModal","documentType","extension","newFileName","blobUrl","printWindow","handleShareFile","filename","err","handleExportPDF","handleExportExcel","useEffect","getStatusColor","formatDate","dateString","getTransactionType","Helmet","Add","TextField","InputAdornment","Search","Chip","item","isSelected","Pagination","Edit","Save","Tabs","Tab","clientDocumentTypes","CheckCircle","Share","kafeelDocumentTypes","PictureAsPdf","TableChart","TableContainer","Table","TableHead","TableRow","StyledTableCell","TableBody","index","StyledTableRow","AddClient","DeleteModal"],"mappings":"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","x_google_ignoreList":[0,1]}