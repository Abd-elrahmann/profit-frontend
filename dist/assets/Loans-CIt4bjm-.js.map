{"version":3,"file":"Loans-CIt4bjm-.js","sources":["../../node_modules/@mui/icons-material/esm/Pause.js","../../node_modules/@mui/icons-material/esm/PlayArrow.js","../../node_modules/@mui/utils/esm/usePreviousProps/usePreviousProps.js","../../node_modules/@mui/material/esm/useAutocomplete/useAutocomplete.js","../../node_modules/@mui/material/esm/ListSubheader/listSubheaderClasses.js","../../node_modules/@mui/material/esm/ListSubheader/ListSubheader.js","../../node_modules/@mui/material/esm/Autocomplete/autocompleteClasses.js","../../node_modules/@mui/material/esm/Autocomplete/Autocomplete.js","../../src/pages/Loans/loanApis.js","../../src/components/modals/LoansTable.jsx","../../src/components/LoanContractGenerator.jsx","../../src/components/LoanContractsPreview.jsx","../../src/pages/Loans/Loans.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19h4V5H6zm8-14v14h4V5z\"\n}), 'Pause');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 5v14l11-7z\"\n}), 'PlayArrow');","'use client';\n\nimport * as React from 'react';\nfunction usePreviousProps(value) {\n  const ref = React.useRef({});\n  React.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\nexport default usePreviousProps;","'use client';\n\nimport * as React from 'react';\nimport setRef from '@mui/utils/setRef';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport useControlled from '@mui/utils/useControlled';\nimport useId from '@mui/utils/useId';\nimport usePreviousProps from '@mui/utils/usePreviousProps';\nfunction areArraysSame({\n  array1,\n  array2,\n  parser = value => value\n}) {\n  return array1 && array2 && array1.length === array2.length && array1.every((prevOption, index) => parser(prevOption) === parser(array2[index]));\n}\n\n// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript\nfunction stripDiacritics(string) {\n  return string.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n}\nexport function createFilterOptions(config = {}) {\n  const {\n    ignoreAccents = true,\n    ignoreCase = true,\n    limit,\n    matchFrom = 'any',\n    stringify,\n    trim = false\n  } = config;\n  return (options, {\n    inputValue,\n    getOptionLabel\n  }) => {\n    let input = trim ? inputValue.trim() : inputValue;\n    if (ignoreCase) {\n      input = input.toLowerCase();\n    }\n    if (ignoreAccents) {\n      input = stripDiacritics(input);\n    }\n    const filteredOptions = !input ? options : options.filter(option => {\n      let candidate = (stringify || getOptionLabel)(option);\n      if (ignoreCase) {\n        candidate = candidate.toLowerCase();\n      }\n      if (ignoreAccents) {\n        candidate = stripDiacritics(candidate);\n      }\n      return matchFrom === 'start' ? candidate.startsWith(input) : candidate.includes(input);\n    });\n    return typeof limit === 'number' ? filteredOptions.slice(0, limit) : filteredOptions;\n  };\n}\nconst defaultFilterOptions = createFilterOptions();\n\n// Number of options to jump in list box when `Page Up` and `Page Down` keys are used.\nconst pageSize = 5;\nconst defaultIsActiveElementInListbox = listboxRef => listboxRef.current !== null && listboxRef.current.parentElement?.contains(document.activeElement);\nconst MULTIPLE_DEFAULT_VALUE = [];\nfunction getInputValue(value, multiple, getOptionLabel, renderValue) {\n  if (multiple || value == null || renderValue) {\n    return '';\n  }\n  const optionLabel = getOptionLabel(value);\n  return typeof optionLabel === 'string' ? optionLabel : '';\n}\nfunction useAutocomplete(props) {\n  const {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    unstable_isActiveElementInListbox = defaultIsActiveElementInListbox,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    unstable_classNamePrefix = 'Mui',\n    autoComplete = false,\n    autoHighlight = false,\n    autoSelect = false,\n    blurOnSelect = false,\n    clearOnBlur = !props.freeSolo,\n    clearOnEscape = false,\n    componentName = 'useAutocomplete',\n    defaultValue = props.multiple ? MULTIPLE_DEFAULT_VALUE : null,\n    disableClearable = false,\n    disableCloseOnSelect = false,\n    disabled: disabledProp,\n    disabledItemsFocusable = false,\n    disableListWrap = false,\n    filterOptions = defaultFilterOptions,\n    filterSelectedOptions = false,\n    freeSolo = false,\n    getOptionDisabled,\n    getOptionKey,\n    getOptionLabel: getOptionLabelProp = option => option.label ?? option,\n    groupBy,\n    handleHomeEndKeys = !props.freeSolo,\n    id: idProp,\n    includeInputInList = false,\n    inputValue: inputValueProp,\n    isOptionEqualToValue = (option, value) => option === value,\n    multiple = false,\n    onChange,\n    onClose,\n    onHighlightChange,\n    onInputChange,\n    onOpen,\n    open: openProp,\n    openOnFocus = false,\n    options,\n    readOnly = false,\n    renderValue,\n    selectOnFocus = !props.freeSolo,\n    value: valueProp\n  } = props;\n  const id = useId(idProp);\n  let getOptionLabel = getOptionLabelProp;\n  getOptionLabel = option => {\n    const optionLabel = getOptionLabelProp(option);\n    if (typeof optionLabel !== 'string') {\n      if (process.env.NODE_ENV !== 'production') {\n        const erroneousReturn = optionLabel === undefined ? 'undefined' : `${typeof optionLabel} (${optionLabel})`;\n        console.error(`MUI: The \\`getOptionLabel\\` method of ${componentName} returned ${erroneousReturn} instead of a string for ${JSON.stringify(option)}.`);\n      }\n      return String(optionLabel);\n    }\n    return optionLabel;\n  };\n  const ignoreFocus = React.useRef(false);\n  const firstFocus = React.useRef(true);\n  const inputRef = React.useRef(null);\n  const listboxRef = React.useRef(null);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [focusedItem, setFocusedItem] = React.useState(-1);\n  const defaultHighlighted = autoHighlight ? 0 : -1;\n  const highlightedIndexRef = React.useRef(defaultHighlighted);\n\n  // Calculate the initial inputValue on mount only.\n  // useRef ensures it doesn't update dynamically with defaultValue or value props.\n  const initialInputValue = React.useRef(getInputValue(defaultValue ?? valueProp, multiple, getOptionLabel)).current;\n  const [value, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: componentName\n  });\n  const [inputValue, setInputValueState] = useControlled({\n    controlled: inputValueProp,\n    default: initialInputValue,\n    name: componentName,\n    state: 'inputValue'\n  });\n  const [focused, setFocused] = React.useState(false);\n  const resetInputValue = React.useCallback((event, newValue, reason) => {\n    // retain current `inputValue` if new option isn't selected and `clearOnBlur` is false\n    // When `multiple` is enabled, `newValue` is an array of all selected items including the newly selected item\n    const isOptionSelected = multiple ? value.length < newValue.length : newValue !== null;\n    if (!isOptionSelected && !clearOnBlur) {\n      return;\n    }\n    const newInputValue = getInputValue(newValue, multiple, getOptionLabel, renderValue);\n    if (inputValue === newInputValue) {\n      return;\n    }\n    setInputValueState(newInputValue);\n    if (onInputChange) {\n      onInputChange(event, newInputValue, reason);\n    }\n  }, [getOptionLabel, inputValue, multiple, onInputChange, setInputValueState, clearOnBlur, value, renderValue]);\n  const [open, setOpenState] = useControlled({\n    controlled: openProp,\n    default: false,\n    name: componentName,\n    state: 'open'\n  });\n  const [inputPristine, setInputPristine] = React.useState(true);\n  const inputValueIsSelectedValue = !multiple && value != null && inputValue === getOptionLabel(value);\n  const popupOpen = open && !readOnly;\n  const filteredOptions = popupOpen ? filterOptions(options.filter(option => {\n    if (filterSelectedOptions && (multiple ? value : [value]).some(value2 => value2 !== null && isOptionEqualToValue(option, value2))) {\n      return false;\n    }\n    return true;\n  }),\n  // we use the empty string to manipulate `filterOptions` to not filter any options\n  // i.e. the filter predicate always returns true\n  {\n    inputValue: inputValueIsSelectedValue && inputPristine ? '' : inputValue,\n    getOptionLabel\n  }) : [];\n  const previousProps = usePreviousProps({\n    filteredOptions,\n    value,\n    inputValue\n  });\n  React.useEffect(() => {\n    const valueChange = value !== previousProps.value;\n    if (focused && !valueChange) {\n      return;\n    }\n\n    // Only reset the input's value when freeSolo if the component's value changes.\n    if (freeSolo && !valueChange) {\n      return;\n    }\n    resetInputValue(null, value, 'reset');\n  }, [value, resetInputValue, focused, previousProps.value, freeSolo]);\n  const listboxAvailable = open && filteredOptions.length > 0 && !readOnly;\n  const focusItem = useEventCallback(itemToFocus => {\n    if (itemToFocus === -1) {\n      inputRef.current.focus();\n    } else {\n      // Using `data-tag-index` for deprecated `renderTags`. Remove when `renderTags` is gone.\n      const indexType = renderValue ? 'data-item-index' : 'data-tag-index';\n      anchorEl.querySelector(`[${indexType}=\"${itemToFocus}\"]`).focus();\n    }\n  });\n\n  // Ensure the focusedItem is never inconsistent\n  React.useEffect(() => {\n    if (multiple && focusedItem > value.length - 1) {\n      setFocusedItem(-1);\n      focusItem(-1);\n    }\n  }, [value, multiple, focusedItem, focusItem]);\n  function validOptionIndex(index, direction) {\n    if (!listboxRef.current || index < 0 || index >= filteredOptions.length) {\n      return -1;\n    }\n    let nextFocus = index;\n    while (true) {\n      const option = listboxRef.current.querySelector(`[data-option-index=\"${nextFocus}\"]`);\n\n      // Same logic as MenuList.js\n      const nextFocusDisabled = disabledItemsFocusable ? false : !option || option.disabled || option.getAttribute('aria-disabled') === 'true';\n      if (option && option.hasAttribute('tabindex') && !nextFocusDisabled) {\n        // The next option is available\n        return nextFocus;\n      }\n\n      // The next option is disabled, move to the next element.\n      // with looped index\n      if (direction === 'next') {\n        nextFocus = (nextFocus + 1) % filteredOptions.length;\n      } else {\n        nextFocus = (nextFocus - 1 + filteredOptions.length) % filteredOptions.length;\n      }\n\n      // We end up with initial index, that means we don't have available options.\n      // All of them are disabled\n      if (nextFocus === index) {\n        return -1;\n      }\n    }\n  }\n  const setHighlightedIndex = useEventCallback(({\n    event,\n    index,\n    reason\n  }) => {\n    highlightedIndexRef.current = index;\n\n    // does the index exist?\n    if (index === -1) {\n      inputRef.current.removeAttribute('aria-activedescendant');\n    } else {\n      inputRef.current.setAttribute('aria-activedescendant', `${id}-option-${index}`);\n    }\n    if (onHighlightChange && ['mouse', 'keyboard', 'touch'].includes(reason)) {\n      onHighlightChange(event, index === -1 ? null : filteredOptions[index], reason);\n    }\n    if (!listboxRef.current) {\n      return;\n    }\n    const prev = listboxRef.current.querySelector(`[role=\"option\"].${unstable_classNamePrefix}-focused`);\n    if (prev) {\n      prev.classList.remove(`${unstable_classNamePrefix}-focused`);\n      prev.classList.remove(`${unstable_classNamePrefix}-focusVisible`);\n    }\n    let listboxNode = listboxRef.current;\n    if (listboxRef.current.getAttribute('role') !== 'listbox') {\n      listboxNode = listboxRef.current.parentElement.querySelector('[role=\"listbox\"]');\n    }\n\n    // \"No results\"\n    if (!listboxNode) {\n      return;\n    }\n    if (index === -1) {\n      listboxNode.scrollTop = 0;\n      return;\n    }\n    const option = listboxRef.current.querySelector(`[data-option-index=\"${index}\"]`);\n    if (!option) {\n      return;\n    }\n    option.classList.add(`${unstable_classNamePrefix}-focused`);\n    if (reason === 'keyboard') {\n      option.classList.add(`${unstable_classNamePrefix}-focusVisible`);\n    }\n\n    // Scroll active descendant into view.\n    // Logic copied from https://www.w3.org/WAI/content-assets/wai-aria-practices/patterns/combobox/examples/js/select-only.js\n    // In case of mouse clicks and touch (in mobile devices) we avoid scrolling the element and keep both behaviors same.\n    // Consider this API instead once it has a better browser support:\n    // .scrollIntoView({ scrollMode: 'if-needed', block: 'nearest' });\n    if (listboxNode.scrollHeight > listboxNode.clientHeight && reason !== 'mouse' && reason !== 'touch') {\n      const element = option;\n      const scrollBottom = listboxNode.clientHeight + listboxNode.scrollTop;\n      const elementBottom = element.offsetTop + element.offsetHeight;\n      if (elementBottom > scrollBottom) {\n        listboxNode.scrollTop = elementBottom - listboxNode.clientHeight;\n      } else if (element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0) < listboxNode.scrollTop) {\n        listboxNode.scrollTop = element.offsetTop - element.offsetHeight * (groupBy ? 1.3 : 0);\n      }\n    }\n  });\n  const changeHighlightedIndex = useEventCallback(({\n    event,\n    diff,\n    direction = 'next',\n    reason\n  }) => {\n    if (!popupOpen) {\n      return;\n    }\n    const getNextIndex = () => {\n      const maxIndex = filteredOptions.length - 1;\n      if (diff === 'reset') {\n        return defaultHighlighted;\n      }\n      if (diff === 'start') {\n        return 0;\n      }\n      if (diff === 'end') {\n        return maxIndex;\n      }\n      const newIndex = highlightedIndexRef.current + diff;\n      if (newIndex < 0) {\n        if (newIndex === -1 && includeInputInList) {\n          return -1;\n        }\n        if (disableListWrap && highlightedIndexRef.current !== -1 || Math.abs(diff) > 1) {\n          return 0;\n        }\n        return maxIndex;\n      }\n      if (newIndex > maxIndex) {\n        if (newIndex === maxIndex + 1 && includeInputInList) {\n          return -1;\n        }\n        if (disableListWrap || Math.abs(diff) > 1) {\n          return maxIndex;\n        }\n        return 0;\n      }\n      return newIndex;\n    };\n    const nextIndex = validOptionIndex(getNextIndex(), direction);\n    setHighlightedIndex({\n      index: nextIndex,\n      reason,\n      event\n    });\n\n    // Sync the content of the input with the highlighted option.\n    if (autoComplete && diff !== 'reset') {\n      if (nextIndex === -1) {\n        inputRef.current.value = inputValue;\n      } else {\n        const option = getOptionLabel(filteredOptions[nextIndex]);\n        inputRef.current.value = option;\n\n        // The portion of the selected suggestion that has not been typed by the user,\n        // a completion string, appears inline after the input cursor in the textbox.\n        const index = option.toLowerCase().indexOf(inputValue.toLowerCase());\n        if (index === 0 && inputValue.length > 0) {\n          inputRef.current.setSelectionRange(inputValue.length, option.length);\n        }\n      }\n    }\n  });\n  const filteredOptionsChanged = !areArraysSame({\n    array1: previousProps.filteredOptions,\n    array2: filteredOptions,\n    parser: getOptionLabel\n  });\n  const getPreviousHighlightedOptionIndex = () => {\n    const isSameValue = (value1, value2) => {\n      const label1 = value1 ? getOptionLabel(value1) : '';\n      const label2 = value2 ? getOptionLabel(value2) : '';\n      return label1 === label2;\n    };\n    if (highlightedIndexRef.current !== -1 && !areArraysSame({\n      array1: previousProps.filteredOptions,\n      array2: filteredOptions,\n      parser: getOptionLabel\n    }) && previousProps.inputValue === inputValue && (multiple ? value.length === previousProps.value.length && previousProps.value.every((val, i) => getOptionLabel(value[i]) === getOptionLabel(val)) : isSameValue(previousProps.value, value))) {\n      const previousHighlightedOption = previousProps.filteredOptions[highlightedIndexRef.current];\n      if (previousHighlightedOption) {\n        return filteredOptions.findIndex(option => {\n          return getOptionLabel(option) === getOptionLabel(previousHighlightedOption);\n        });\n      }\n    }\n    return -1;\n  };\n  const syncHighlightedIndex = React.useCallback(() => {\n    if (!popupOpen) {\n      return;\n    }\n\n    // Check if the previously highlighted option still exists in the updated filtered options list and if the value and inputValue haven't changed\n    // If it exists and the value and the inputValue haven't changed, just update its index, otherwise continue execution\n    const previousHighlightedOptionIndex = getPreviousHighlightedOptionIndex();\n    if (previousHighlightedOptionIndex !== -1) {\n      highlightedIndexRef.current = previousHighlightedOptionIndex;\n      return;\n    }\n    const valueItem = multiple ? value[0] : value;\n\n    // The popup is empty, reset\n    if (filteredOptions.length === 0 || valueItem == null) {\n      changeHighlightedIndex({\n        diff: 'reset'\n      });\n      return;\n    }\n    if (!listboxRef.current) {\n      return;\n    }\n\n    // Synchronize the value with the highlighted index\n    if (valueItem != null) {\n      const currentOption = filteredOptions[highlightedIndexRef.current];\n\n      // Keep the current highlighted index if possible\n      if (multiple && currentOption && value.findIndex(val => isOptionEqualToValue(currentOption, val)) !== -1) {\n        return;\n      }\n      const itemIndex = filteredOptions.findIndex(optionItem => isOptionEqualToValue(optionItem, valueItem));\n      if (itemIndex === -1) {\n        changeHighlightedIndex({\n          diff: 'reset'\n        });\n      } else {\n        setHighlightedIndex({\n          index: itemIndex\n        });\n      }\n      return;\n    }\n\n    // Prevent the highlighted index to leak outside the boundaries.\n    if (highlightedIndexRef.current >= filteredOptions.length - 1) {\n      setHighlightedIndex({\n        index: filteredOptions.length - 1\n      });\n      return;\n    }\n\n    // Restore the focus to the previous index.\n    setHighlightedIndex({\n      index: highlightedIndexRef.current\n    });\n    // Ignore filteredOptions (and options, isOptionEqualToValue, getOptionLabel) not to break the scroll position\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n  // Only sync the highlighted index when the option switch between empty and not\n  filteredOptions.length,\n  // Don't sync the highlighted index with the value when multiple\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  multiple ? false : value, filterSelectedOptions, changeHighlightedIndex, setHighlightedIndex, popupOpen, inputValue, multiple]);\n  const handleListboxRef = useEventCallback(node => {\n    setRef(listboxRef, node);\n    if (!node) {\n      return;\n    }\n    syncHighlightedIndex();\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (!inputRef.current || inputRef.current.nodeName !== 'INPUT') {\n        if (inputRef.current && inputRef.current.nodeName === 'TEXTAREA') {\n          console.warn([`A textarea element was provided to ${componentName} where input was expected.`, `This is not a supported scenario but it may work under certain conditions.`, `A textarea keyboard navigation may conflict with Autocomplete controls (for example enter and arrow keys).`, `Make sure to test keyboard navigation and add custom event handlers if necessary.`].join('\\n'));\n        } else {\n          console.error([`MUI: Unable to find the input element. It was resolved to ${inputRef.current} while an HTMLInputElement was expected.`, `Instead, ${componentName} expects an input element.`, '', componentName === 'useAutocomplete' ? 'Make sure you have bound getInputProps correctly and that the normal ref/effect resolutions order is guaranteed.' : 'Make sure you have customized the input component correctly.'].join('\\n'));\n        }\n      }\n    }, [componentName]);\n  }\n  React.useEffect(() => {\n    if (filteredOptionsChanged || popupOpen) {\n      syncHighlightedIndex();\n    }\n  }, [syncHighlightedIndex, filteredOptionsChanged, popupOpen]);\n  const handleOpen = event => {\n    if (open) {\n      return;\n    }\n    setOpenState(true);\n    setInputPristine(true);\n    if (onOpen) {\n      onOpen(event);\n    }\n  };\n  const handleClose = (event, reason) => {\n    if (!open) {\n      return;\n    }\n    setOpenState(false);\n    if (onClose) {\n      onClose(event, reason);\n    }\n  };\n  const handleValue = (event, newValue, reason, details) => {\n    if (multiple) {\n      if (value.length === newValue.length && value.every((val, i) => val === newValue[i])) {\n        return;\n      }\n    } else if (value === newValue) {\n      return;\n    }\n    if (onChange) {\n      onChange(event, newValue, reason, details);\n    }\n    setValueState(newValue);\n  };\n  const isTouch = React.useRef(false);\n  const selectNewValue = (event, option, reasonProp = 'selectOption', origin = 'options') => {\n    let reason = reasonProp;\n    let newValue = option;\n    if (multiple) {\n      newValue = Array.isArray(value) ? value.slice() : [];\n      if (process.env.NODE_ENV !== 'production') {\n        const matches = newValue.filter(val => isOptionEqualToValue(option, val));\n        if (matches.length > 1) {\n          console.error([`MUI: The \\`isOptionEqualToValue\\` method of ${componentName} does not handle the arguments correctly.`, `The component expects a single value to match a given option but found ${matches.length} matches.`].join('\\n'));\n        }\n      }\n      const itemIndex = newValue.findIndex(valueItem => isOptionEqualToValue(option, valueItem));\n      if (itemIndex === -1) {\n        newValue.push(option);\n      } else if (origin !== 'freeSolo') {\n        newValue.splice(itemIndex, 1);\n        reason = 'removeOption';\n      }\n    }\n    resetInputValue(event, newValue, reason);\n    handleValue(event, newValue, reason, {\n      option\n    });\n    if (!disableCloseOnSelect && (!event || !event.ctrlKey && !event.metaKey)) {\n      handleClose(event, reason);\n    }\n    if (blurOnSelect === true || blurOnSelect === 'touch' && isTouch.current || blurOnSelect === 'mouse' && !isTouch.current) {\n      inputRef.current.blur();\n    }\n  };\n  function validItemIndex(index, direction) {\n    if (index === -1) {\n      return -1;\n    }\n    let nextFocus = index;\n    while (true) {\n      // Out of range\n      if (direction === 'next' && nextFocus === value.length || direction === 'previous' && nextFocus === -1) {\n        return -1;\n      }\n\n      // Using `data-tag-index` for deprecated `renderTags`. Remove when `renderTags` is removed.\n      const indexType = renderValue ? 'data-item-index' : 'data-tag-index';\n      const option = anchorEl.querySelector(`[${indexType}=\"${nextFocus}\"]`);\n\n      // Same logic as MenuList.js\n      if (!option || !option.hasAttribute('tabindex') || option.disabled || option.getAttribute('aria-disabled') === 'true') {\n        nextFocus += direction === 'next' ? 1 : -1;\n      } else {\n        return nextFocus;\n      }\n    }\n  }\n  const handleFocusItem = (event, direction) => {\n    if (!multiple) {\n      return;\n    }\n    if (inputValue === '') {\n      handleClose(event, 'toggleInput');\n    }\n    let nextItem = focusedItem;\n    if (focusedItem === -1) {\n      if (inputValue === '' && direction === 'previous') {\n        nextItem = value.length - 1;\n      }\n    } else {\n      nextItem += direction === 'next' ? 1 : -1;\n      if (nextItem < 0) {\n        nextItem = 0;\n      }\n      if (nextItem === value.length) {\n        nextItem = -1;\n      }\n    }\n    nextItem = validItemIndex(nextItem, direction);\n    setFocusedItem(nextItem);\n    focusItem(nextItem);\n  };\n  const handleClear = event => {\n    ignoreFocus.current = true;\n    setInputValueState('');\n    if (onInputChange) {\n      onInputChange(event, '', 'clear');\n    }\n    handleValue(event, multiple ? [] : null, 'clear');\n  };\n  const handleKeyDown = other => event => {\n    if (other.onKeyDown) {\n      other.onKeyDown(event);\n    }\n    if (event.defaultMuiPrevented) {\n      return;\n    }\n    if (focusedItem !== -1 && !['ArrowLeft', 'ArrowRight'].includes(event.key)) {\n      setFocusedItem(-1);\n      focusItem(-1);\n    }\n\n    // Wait until IME is settled.\n    if (event.which !== 229) {\n      switch (event.key) {\n        case 'Home':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'start',\n              direction: 'next',\n              reason: 'keyboard',\n              event\n            });\n          }\n          break;\n        case 'End':\n          if (popupOpen && handleHomeEndKeys) {\n            // Prevent scroll of the page\n            event.preventDefault();\n            changeHighlightedIndex({\n              diff: 'end',\n              direction: 'previous',\n              reason: 'keyboard',\n              event\n            });\n          }\n          break;\n        case 'PageUp':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -pageSize,\n            direction: 'previous',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'PageDown':\n          // Prevent scroll of the page\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: pageSize,\n            direction: 'next',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowDown':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: 1,\n            direction: 'next',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowUp':\n          // Prevent cursor move\n          event.preventDefault();\n          changeHighlightedIndex({\n            diff: -1,\n            direction: 'previous',\n            reason: 'keyboard',\n            event\n          });\n          handleOpen(event);\n          break;\n        case 'ArrowLeft':\n          if (!multiple && renderValue) {\n            focusItem(0);\n          } else {\n            handleFocusItem(event, 'previous');\n          }\n          break;\n        case 'ArrowRight':\n          if (!multiple && renderValue) {\n            focusItem(-1);\n          } else {\n            handleFocusItem(event, 'next');\n          }\n          break;\n        case 'Enter':\n          if (highlightedIndexRef.current !== -1 && popupOpen) {\n            const option = filteredOptions[highlightedIndexRef.current];\n            const disabled = getOptionDisabled ? getOptionDisabled(option) : false;\n\n            // Avoid early form validation, let the end-users continue filling the form.\n            event.preventDefault();\n            if (disabled) {\n              return;\n            }\n            selectNewValue(event, option, 'selectOption');\n\n            // Move the selection to the end.\n            if (autoComplete) {\n              inputRef.current.setSelectionRange(inputRef.current.value.length, inputRef.current.value.length);\n            }\n          } else if (freeSolo && inputValue !== '' && inputValueIsSelectedValue === false) {\n            if (multiple) {\n              // Allow people to add new values before they submit the form.\n              event.preventDefault();\n            }\n            selectNewValue(event, inputValue, 'createOption', 'freeSolo');\n          }\n          break;\n        case 'Escape':\n          if (popupOpen) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault();\n            // Avoid the Modal to handle the event.\n            event.stopPropagation();\n            handleClose(event, 'escape');\n          } else if (clearOnEscape && (inputValue !== '' || multiple && value.length > 0 || renderValue)) {\n            // Avoid Opera to exit fullscreen mode.\n            event.preventDefault();\n            // Avoid the Modal to handle the event.\n            event.stopPropagation();\n            handleClear(event);\n          }\n          break;\n        case 'Backspace':\n          // Remove the value on the left of the \"cursor\"\n          if (multiple && !readOnly && inputValue === '' && value.length > 0) {\n            const index = focusedItem === -1 ? value.length - 1 : focusedItem;\n            const newValue = value.slice();\n            newValue.splice(index, 1);\n            handleValue(event, newValue, 'removeOption', {\n              option: value[index]\n            });\n          }\n          if (!multiple && renderValue && !readOnly) {\n            setValueState(null);\n            focusItem(-1);\n          }\n          break;\n        case 'Delete':\n          // Remove the value on the right of the \"cursor\"\n          if (multiple && !readOnly && inputValue === '' && value.length > 0 && focusedItem !== -1) {\n            const index = focusedItem;\n            const newValue = value.slice();\n            newValue.splice(index, 1);\n            handleValue(event, newValue, 'removeOption', {\n              option: value[index]\n            });\n          }\n          if (!multiple && renderValue && !readOnly) {\n            setValueState(null);\n            focusItem(-1);\n          }\n          break;\n        default:\n      }\n    }\n  };\n  const handleFocus = event => {\n    setFocused(true);\n    if (openOnFocus && !ignoreFocus.current) {\n      handleOpen(event);\n    }\n  };\n  const handleBlur = event => {\n    // Ignore the event when using the scrollbar with IE11\n    if (unstable_isActiveElementInListbox(listboxRef)) {\n      inputRef.current.focus();\n      return;\n    }\n    setFocused(false);\n    firstFocus.current = true;\n    ignoreFocus.current = false;\n    if (autoSelect && highlightedIndexRef.current !== -1 && popupOpen) {\n      selectNewValue(event, filteredOptions[highlightedIndexRef.current], 'blur');\n    } else if (autoSelect && freeSolo && inputValue !== '') {\n      selectNewValue(event, inputValue, 'blur', 'freeSolo');\n    } else if (clearOnBlur) {\n      resetInputValue(event, value, 'blur');\n    }\n    handleClose(event, 'blur');\n  };\n  const handleInputChange = event => {\n    const newValue = event.target.value;\n    if (inputValue !== newValue) {\n      setInputValueState(newValue);\n      setInputPristine(false);\n      if (onInputChange) {\n        onInputChange(event, newValue, 'input');\n      }\n    }\n    if (newValue === '') {\n      if (!disableClearable && !multiple) {\n        handleValue(event, null, 'clear');\n      }\n    } else {\n      handleOpen(event);\n    }\n  };\n  const handleOptionMouseMove = event => {\n    const index = Number(event.currentTarget.getAttribute('data-option-index'));\n    if (highlightedIndexRef.current !== index) {\n      setHighlightedIndex({\n        event,\n        index,\n        reason: 'mouse'\n      });\n    }\n  };\n  const handleOptionTouchStart = event => {\n    setHighlightedIndex({\n      event,\n      index: Number(event.currentTarget.getAttribute('data-option-index')),\n      reason: 'touch'\n    });\n    isTouch.current = true;\n  };\n  const handleOptionClick = event => {\n    const index = Number(event.currentTarget.getAttribute('data-option-index'));\n    selectNewValue(event, filteredOptions[index], 'selectOption');\n    isTouch.current = false;\n  };\n  const handleItemDelete = index => event => {\n    const newValue = value.slice();\n    newValue.splice(index, 1);\n    handleValue(event, newValue, 'removeOption', {\n      option: value[index]\n    });\n  };\n  const handleSingleItemDelete = event => {\n    handleValue(event, null, 'removeOption', {\n      option: value\n    });\n  };\n  const handlePopupIndicator = event => {\n    if (open) {\n      handleClose(event, 'toggleInput');\n    } else {\n      handleOpen(event);\n    }\n  };\n\n  // Prevent input blur when interacting with the combobox\n  const handleMouseDown = event => {\n    // Prevent focusing the input if click is anywhere outside the Autocomplete\n    if (!event.currentTarget.contains(event.target)) {\n      return;\n    }\n    if (event.target.getAttribute('id') !== id) {\n      event.preventDefault();\n    }\n  };\n\n  // Focus the input when interacting with the combobox\n  const handleClick = event => {\n    // Prevent focusing the input if click is anywhere outside the Autocomplete\n    if (!event.currentTarget.contains(event.target)) {\n      return;\n    }\n    inputRef.current.focus();\n    if (selectOnFocus && firstFocus.current && inputRef.current.selectionEnd - inputRef.current.selectionStart === 0) {\n      inputRef.current.select();\n    }\n    firstFocus.current = false;\n  };\n  const handleInputMouseDown = event => {\n    if (!disabledProp && (inputValue === '' || !open)) {\n      handlePopupIndicator(event);\n    }\n  };\n  let dirty = freeSolo && inputValue.length > 0;\n  dirty = dirty || (multiple ? value.length > 0 : value !== null);\n  let groupedOptions = filteredOptions;\n  if (groupBy) {\n    // used to keep track of key and indexes in the result array\n    const indexBy = new Map();\n    let warn = false;\n    groupedOptions = filteredOptions.reduce((acc, option, index) => {\n      const group = groupBy(option);\n      if (acc.length > 0 && acc[acc.length - 1].group === group) {\n        acc[acc.length - 1].options.push(option);\n      } else {\n        if (process.env.NODE_ENV !== 'production') {\n          if (indexBy.get(group) && !warn) {\n            console.warn(`MUI: The options provided combined with the \\`groupBy\\` method of ${componentName} returns duplicated headers.`, 'You can solve the issue by sorting the options with the output of `groupBy`.');\n            warn = true;\n          }\n          indexBy.set(group, true);\n        }\n        acc.push({\n          key: index,\n          index,\n          group,\n          options: [option]\n        });\n      }\n      return acc;\n    }, []);\n  }\n  if (disabledProp && focused) {\n    handleBlur();\n  }\n  return {\n    getRootProps: (other = {}) => ({\n      ...other,\n      onKeyDown: handleKeyDown(other),\n      onMouseDown: handleMouseDown,\n      onClick: handleClick\n    }),\n    getInputLabelProps: () => ({\n      id: `${id}-label`,\n      htmlFor: id\n    }),\n    getInputProps: () => ({\n      id,\n      value: inputValue,\n      onBlur: handleBlur,\n      onFocus: handleFocus,\n      onChange: handleInputChange,\n      onMouseDown: handleInputMouseDown,\n      // if open then this is handled imperatively so don't let react override\n      // only have an opinion about this when closed\n      'aria-activedescendant': popupOpen ? '' : null,\n      'aria-autocomplete': autoComplete ? 'both' : 'list',\n      'aria-controls': listboxAvailable ? `${id}-listbox` : undefined,\n      'aria-expanded': listboxAvailable,\n      // Disable browser's suggestion that might overlap with the popup.\n      // Handle autocomplete but not autofill.\n      autoComplete: 'off',\n      ref: inputRef,\n      autoCapitalize: 'none',\n      spellCheck: 'false',\n      role: 'combobox',\n      disabled: disabledProp\n    }),\n    getClearProps: () => ({\n      tabIndex: -1,\n      type: 'button',\n      onClick: handleClear\n    }),\n    getItemProps: ({\n      index = 0\n    } = {}) => ({\n      ...(multiple && {\n        key: index\n      }),\n      ...(renderValue ? {\n        'data-item-index': index\n      } : {\n        'data-tag-index': index\n      }),\n      tabIndex: -1,\n      ...(!readOnly && {\n        onDelete: multiple ? handleItemDelete(index) : handleSingleItemDelete\n      })\n    }),\n    getPopupIndicatorProps: () => ({\n      tabIndex: -1,\n      type: 'button',\n      onClick: handlePopupIndicator\n    }),\n    // deprecated\n    getTagProps: ({\n      index\n    }) => ({\n      key: index,\n      'data-tag-index': index,\n      tabIndex: -1,\n      ...(!readOnly && {\n        onDelete: handleItemDelete(index)\n      })\n    }),\n    getListboxProps: () => ({\n      role: 'listbox',\n      id: `${id}-listbox`,\n      'aria-labelledby': `${id}-label`,\n      ref: handleListboxRef,\n      onMouseDown: event => {\n        // Prevent blur\n        event.preventDefault();\n      }\n    }),\n    getOptionProps: ({\n      index,\n      option\n    }) => {\n      const selected = (multiple ? value : [value]).some(value2 => value2 != null && isOptionEqualToValue(option, value2));\n      const disabled = getOptionDisabled ? getOptionDisabled(option) : false;\n      return {\n        key: getOptionKey?.(option) ?? getOptionLabel(option),\n        tabIndex: -1,\n        role: 'option',\n        id: `${id}-option-${index}`,\n        onMouseMove: handleOptionMouseMove,\n        onClick: handleOptionClick,\n        onTouchStart: handleOptionTouchStart,\n        'data-option-index': index,\n        'aria-disabled': disabled,\n        'aria-selected': selected\n      };\n    },\n    id,\n    inputValue,\n    value,\n    dirty,\n    expanded: popupOpen && anchorEl,\n    popupOpen,\n    focused: focused || focusedItem !== -1,\n    anchorEl,\n    setAnchorEl,\n    focusedItem,\n    // deprecated\n    focusedTag: focusedItem,\n    groupedOptions\n  };\n}\nexport default useAutocomplete;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getListSubheaderUtilityClass(slot) {\n  return generateUtilityClass('MuiListSubheader', slot);\n}\nconst listSubheaderClasses = generateUtilityClasses('MuiListSubheader', ['root', 'colorPrimary', 'colorInherit', 'gutters', 'inset', 'sticky']);\nexport default listSubheaderClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport capitalize from \"../utils/capitalize.js\";\nimport { getListSubheaderUtilityClass } from \"./listSubheaderClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color,\n    disableGutters,\n    inset,\n    disableSticky\n  } = ownerState;\n  const slots = {\n    root: ['root', color !== 'default' && `color${capitalize(color)}`, !disableGutters && 'gutters', inset && 'inset', !disableSticky && 'sticky']\n  };\n  return composeClasses(slots, getListSubheaderUtilityClass, classes);\n};\nconst ListSubheaderRoot = styled('li', {\n  name: 'MuiListSubheader',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`], !ownerState.disableGutters && styles.gutters, ownerState.inset && styles.inset, !ownerState.disableSticky && styles.sticky];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  boxSizing: 'border-box',\n  lineHeight: '48px',\n  listStyle: 'none',\n  color: (theme.vars || theme).palette.text.secondary,\n  fontFamily: theme.typography.fontFamily,\n  fontWeight: theme.typography.fontWeightMedium,\n  fontSize: theme.typography.pxToRem(14),\n  variants: [{\n    props: {\n      color: 'primary'\n    },\n    style: {\n      color: (theme.vars || theme).palette.primary.main\n    }\n  }, {\n    props: {\n      color: 'inherit'\n    },\n    style: {\n      color: 'inherit'\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !ownerState.disableGutters,\n    style: {\n      paddingLeft: 16,\n      paddingRight: 16\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.inset,\n    style: {\n      paddingLeft: 72\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !ownerState.disableSticky,\n    style: {\n      position: 'sticky',\n      top: 0,\n      zIndex: 1,\n      backgroundColor: (theme.vars || theme).palette.background.paper\n    }\n  }]\n})));\nconst ListSubheader = /*#__PURE__*/React.forwardRef(function ListSubheader(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiListSubheader'\n  });\n  const {\n    className,\n    color = 'default',\n    component = 'li',\n    disableGutters = false,\n    disableSticky = false,\n    inset = false,\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    color,\n    component,\n    disableGutters,\n    disableSticky,\n    inset\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListSubheaderRoot, {\n    as: component,\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    ...other\n  });\n});\nif (ListSubheader) {\n  ListSubheader.muiSkipListHighlight = true;\n}\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'default'\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary']),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   * @default false\n   */\n  disableSticky: PropTypes.bool,\n  /**\n   * If `true`, the List Subheader is indented.\n   * @default false\n   */\n  inset: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListSubheader;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getAutocompleteUtilityClass(slot) {\n  return generateUtilityClass('MuiAutocomplete', slot);\n}\nconst autocompleteClasses = generateUtilityClasses('MuiAutocomplete', ['root', 'expanded', 'fullWidth', 'focused', 'focusVisible', 'tag', 'tagSizeSmall', 'tagSizeMedium', 'hasPopupIcon', 'hasClearIcon', 'inputRoot', 'input', 'inputFocused', 'endAdornment', 'clearIndicator', 'popupIndicator', 'popupIndicatorOpen', 'popper', 'popperDisablePortal', 'paper', 'listbox', 'loading', 'noOptions', 'option', 'groupLabel', 'groupUl']);\nexport default autocompleteClasses;","'use client';\n\nvar _ClearIcon, _ArrowDropDownIcon;\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport integerPropType from '@mui/utils/integerPropType';\nimport chainPropTypes from '@mui/utils/chainPropTypes';\nimport composeClasses from '@mui/utils/composeClasses';\nimport useAutocomplete, { createFilterOptions } from \"../useAutocomplete/index.js\";\nimport Popper from \"../Popper/index.js\";\nimport ListSubheader from \"../ListSubheader/index.js\";\nimport Paper from \"../Paper/index.js\";\nimport IconButton from \"../IconButton/index.js\";\nimport Chip from \"../Chip/index.js\";\nimport inputClasses from \"../Input/inputClasses.js\";\nimport inputBaseClasses from \"../InputBase/inputBaseClasses.js\";\nimport outlinedInputClasses from \"../OutlinedInput/outlinedInputClasses.js\";\nimport filledInputClasses from \"../FilledInput/filledInputClasses.js\";\nimport ClearIcon from \"../internal/svg-icons/Close.js\";\nimport ArrowDropDownIcon from \"../internal/svg-icons/ArrowDropDown.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport autocompleteClasses, { getAutocompleteUtilityClass } from \"./autocompleteClasses.js\";\nimport capitalize from \"../utils/capitalize.js\";\nimport useSlot from \"../utils/useSlot.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disablePortal,\n    expanded,\n    focused,\n    fullWidth,\n    hasClearIcon,\n    hasPopupIcon,\n    inputFocused,\n    popupOpen,\n    size\n  } = ownerState;\n  const slots = {\n    root: ['root', expanded && 'expanded', focused && 'focused', fullWidth && 'fullWidth', hasClearIcon && 'hasClearIcon', hasPopupIcon && 'hasPopupIcon'],\n    inputRoot: ['inputRoot'],\n    input: ['input', inputFocused && 'inputFocused'],\n    tag: ['tag', `tagSize${capitalize(size)}`],\n    endAdornment: ['endAdornment'],\n    clearIndicator: ['clearIndicator'],\n    popupIndicator: ['popupIndicator', popupOpen && 'popupIndicatorOpen'],\n    popper: ['popper', disablePortal && 'popperDisablePortal'],\n    paper: ['paper'],\n    listbox: ['listbox'],\n    loading: ['loading'],\n    noOptions: ['noOptions'],\n    option: ['option'],\n    groupLabel: ['groupLabel'],\n    groupUl: ['groupUl']\n  };\n  return composeClasses(slots, getAutocompleteUtilityClass, classes);\n};\nconst AutocompleteRoot = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      fullWidth,\n      hasClearIcon,\n      hasPopupIcon,\n      inputFocused,\n      size\n    } = ownerState;\n    return [{\n      [`& .${autocompleteClasses.tag}`]: styles.tag\n    }, {\n      [`& .${autocompleteClasses.tag}`]: styles[`tagSize${capitalize(size)}`]\n    }, {\n      [`& .${autocompleteClasses.inputRoot}`]: styles.inputRoot\n    }, {\n      [`& .${autocompleteClasses.input}`]: styles.input\n    }, {\n      [`& .${autocompleteClasses.input}`]: inputFocused && styles.inputFocused\n    }, styles.root, fullWidth && styles.fullWidth, hasPopupIcon && styles.hasPopupIcon, hasClearIcon && styles.hasClearIcon];\n  }\n})({\n  [`&.${autocompleteClasses.focused} .${autocompleteClasses.clearIndicator}`]: {\n    visibility: 'visible'\n  },\n  /* Avoid double tap issue on iOS */\n  '@media (pointer: fine)': {\n    [`&:hover .${autocompleteClasses.clearIndicator}`]: {\n      visibility: 'visible'\n    }\n  },\n  [`& .${autocompleteClasses.tag}`]: {\n    margin: 3,\n    maxWidth: 'calc(100% - 6px)'\n  },\n  [`& .${autocompleteClasses.inputRoot}`]: {\n    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 26 + 4\n    },\n    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 52 + 4\n    },\n    [`& .${autocompleteClasses.input}`]: {\n      width: 0,\n      minWidth: 30\n    }\n  },\n  [`& .${inputClasses.root}`]: {\n    paddingBottom: 1,\n    '& .MuiInput-input': {\n      padding: '4px 4px 4px 0px'\n    }\n  },\n  [`& .${inputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n    [`& .${inputClasses.input}`]: {\n      padding: '2px 4px 3px 0'\n    }\n  },\n  [`& .${outlinedInputClasses.root}`]: {\n    padding: 9,\n    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 26 + 4 + 9\n    },\n    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 52 + 4 + 9\n    },\n    [`& .${autocompleteClasses.input}`]: {\n      padding: '7.5px 4px 7.5px 5px'\n    },\n    [`& .${autocompleteClasses.endAdornment}`]: {\n      right: 9\n    }\n  },\n  [`& .${outlinedInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n    // Don't specify paddingRight, as it overrides the default value set when there is only\n    // one of the popup or clear icon as the specificity is equal so the latter one wins\n    paddingTop: 6,\n    paddingBottom: 6,\n    paddingLeft: 6,\n    [`& .${autocompleteClasses.input}`]: {\n      padding: '2.5px 4px 2.5px 8px'\n    }\n  },\n  [`& .${filledInputClasses.root}`]: {\n    paddingTop: 19,\n    paddingLeft: 8,\n    [`.${autocompleteClasses.hasPopupIcon}&, .${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 26 + 4 + 9\n    },\n    [`.${autocompleteClasses.hasPopupIcon}.${autocompleteClasses.hasClearIcon}&`]: {\n      paddingRight: 52 + 4 + 9\n    },\n    [`& .${filledInputClasses.input}`]: {\n      padding: '7px 4px'\n    },\n    [`& .${autocompleteClasses.endAdornment}`]: {\n      right: 9\n    }\n  },\n  [`& .${filledInputClasses.root}.${inputBaseClasses.sizeSmall}`]: {\n    paddingBottom: 1,\n    [`& .${filledInputClasses.input}`]: {\n      padding: '2.5px 4px'\n    }\n  },\n  [`& .${inputBaseClasses.hiddenLabel}`]: {\n    paddingTop: 8\n  },\n  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}`]: {\n    paddingTop: 0,\n    paddingBottom: 0,\n    [`& .${autocompleteClasses.input}`]: {\n      paddingTop: 16,\n      paddingBottom: 17\n    }\n  },\n  [`& .${filledInputClasses.root}.${inputBaseClasses.hiddenLabel}.${inputBaseClasses.sizeSmall}`]: {\n    [`& .${autocompleteClasses.input}`]: {\n      paddingTop: 8,\n      paddingBottom: 9\n    }\n  },\n  [`& .${autocompleteClasses.input}`]: {\n    flexGrow: 1,\n    textOverflow: 'ellipsis',\n    opacity: 0\n  },\n  variants: [{\n    props: {\n      fullWidth: true\n    },\n    style: {\n      width: '100%'\n    }\n  }, {\n    props: {\n      size: 'small'\n    },\n    style: {\n      [`& .${autocompleteClasses.tag}`]: {\n        margin: 2,\n        maxWidth: 'calc(100% - 4px)'\n      }\n    }\n  }, {\n    props: {\n      inputFocused: true\n    },\n    style: {\n      [`& .${autocompleteClasses.input}`]: {\n        opacity: 1\n      }\n    }\n  }, {\n    props: {\n      multiple: true\n    },\n    style: {\n      [`& .${autocompleteClasses.inputRoot}`]: {\n        flexWrap: 'wrap'\n      }\n    }\n  }]\n});\nconst AutocompleteEndAdornment = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'EndAdornment'\n})({\n  // We use a position absolute to support wrapping tags.\n  position: 'absolute',\n  right: 0,\n  top: '50%',\n  transform: 'translate(0, -50%)'\n});\nconst AutocompleteClearIndicator = styled(IconButton, {\n  name: 'MuiAutocomplete',\n  slot: 'ClearIndicator'\n})({\n  marginRight: -2,\n  padding: 4,\n  visibility: 'hidden'\n});\nconst AutocompletePopupIndicator = styled(IconButton, {\n  name: 'MuiAutocomplete',\n  slot: 'PopupIndicator',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.popupIndicator, ownerState.popupOpen && styles.popupIndicatorOpen];\n  }\n})({\n  padding: 2,\n  marginRight: -2,\n  variants: [{\n    props: {\n      popupOpen: true\n    },\n    style: {\n      transform: 'rotate(180deg)'\n    }\n  }]\n});\nconst AutocompletePopper = styled(Popper, {\n  name: 'MuiAutocomplete',\n  slot: 'Popper',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${autocompleteClasses.option}`]: styles.option\n    }, styles.popper, ownerState.disablePortal && styles.popperDisablePortal];\n  }\n})(memoTheme(({\n  theme\n}) => ({\n  zIndex: (theme.vars || theme).zIndex.modal,\n  variants: [{\n    props: {\n      disablePortal: true\n    },\n    style: {\n      position: 'absolute'\n    }\n  }]\n})));\nconst AutocompletePaper = styled(Paper, {\n  name: 'MuiAutocomplete',\n  slot: 'Paper'\n})(memoTheme(({\n  theme\n}) => ({\n  ...theme.typography.body1,\n  overflow: 'auto'\n})));\nconst AutocompleteLoading = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'Loading'\n})(memoTheme(({\n  theme\n}) => ({\n  color: (theme.vars || theme).palette.text.secondary,\n  padding: '14px 16px'\n})));\nconst AutocompleteNoOptions = styled('div', {\n  name: 'MuiAutocomplete',\n  slot: 'NoOptions'\n})(memoTheme(({\n  theme\n}) => ({\n  color: (theme.vars || theme).palette.text.secondary,\n  padding: '14px 16px'\n})));\nconst AutocompleteListbox = styled('ul', {\n  name: 'MuiAutocomplete',\n  slot: 'Listbox'\n})(memoTheme(({\n  theme\n}) => ({\n  listStyle: 'none',\n  margin: 0,\n  padding: '8px 0',\n  maxHeight: '40vh',\n  overflow: 'auto',\n  position: 'relative',\n  [`& .${autocompleteClasses.option}`]: {\n    minHeight: 48,\n    display: 'flex',\n    overflow: 'hidden',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    cursor: 'pointer',\n    paddingTop: 6,\n    boxSizing: 'border-box',\n    outline: '0',\n    WebkitTapHighlightColor: 'transparent',\n    paddingBottom: 6,\n    paddingLeft: 16,\n    paddingRight: 16,\n    [theme.breakpoints.up('sm')]: {\n      minHeight: 'auto'\n    },\n    [`&.${autocompleteClasses.focused}`]: {\n      backgroundColor: (theme.vars || theme).palette.action.hover,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    },\n    '&[aria-disabled=\"true\"]': {\n      opacity: (theme.vars || theme).palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`&.${autocompleteClasses.focusVisible}`]: {\n      backgroundColor: (theme.vars || theme).palette.action.focus\n    },\n    '&[aria-selected=\"true\"]': {\n      backgroundColor: theme.alpha((theme.vars || theme).palette.primary.main, (theme.vars || theme).palette.action.selectedOpacity),\n      [`&.${autocompleteClasses.focused}`]: {\n        backgroundColor: theme.alpha((theme.vars || theme).palette.primary.main, `${(theme.vars || theme).palette.action.selectedOpacity} + ${(theme.vars || theme).palette.action.hoverOpacity}`),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: (theme.vars || theme).palette.action.selected\n        }\n      },\n      [`&.${autocompleteClasses.focusVisible}`]: {\n        backgroundColor: theme.alpha((theme.vars || theme).palette.primary.main, `${(theme.vars || theme).palette.action.selectedOpacity} + ${(theme.vars || theme).palette.action.focusOpacity}`)\n      }\n    }\n  }\n})));\nconst AutocompleteGroupLabel = styled(ListSubheader, {\n  name: 'MuiAutocomplete',\n  slot: 'GroupLabel'\n})(memoTheme(({\n  theme\n}) => ({\n  backgroundColor: (theme.vars || theme).palette.background.paper,\n  top: -8\n})));\nconst AutocompleteGroupUl = styled('ul', {\n  name: 'MuiAutocomplete',\n  slot: 'GroupUl'\n})({\n  padding: 0,\n  [`& .${autocompleteClasses.option}`]: {\n    paddingLeft: 24\n  }\n});\nexport { createFilterOptions };\nconst Autocomplete = /*#__PURE__*/React.forwardRef(function Autocomplete(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiAutocomplete'\n  });\n\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  const {\n    autoComplete = false,\n    autoHighlight = false,\n    autoSelect = false,\n    blurOnSelect = false,\n    ChipProps: ChipPropsProp,\n    className,\n    clearIcon = _ClearIcon || (_ClearIcon = /*#__PURE__*/_jsx(ClearIcon, {\n      fontSize: \"small\"\n    })),\n    clearOnBlur = !props.freeSolo,\n    clearOnEscape = false,\n    clearText = 'Clear',\n    closeText = 'Close',\n    componentsProps,\n    defaultValue = props.multiple ? [] : null,\n    disableClearable = false,\n    disableCloseOnSelect = false,\n    disabled = false,\n    disabledItemsFocusable = false,\n    disableListWrap = false,\n    disablePortal = false,\n    filterOptions,\n    filterSelectedOptions = false,\n    forcePopupIcon = 'auto',\n    freeSolo = false,\n    fullWidth = false,\n    getLimitTagsText = more => `+${more}`,\n    getOptionDisabled,\n    getOptionKey,\n    getOptionLabel: getOptionLabelProp,\n    isOptionEqualToValue,\n    groupBy,\n    handleHomeEndKeys = !props.freeSolo,\n    id: idProp,\n    includeInputInList = false,\n    inputValue: inputValueProp,\n    limitTags = -1,\n    ListboxComponent: ListboxComponentProp,\n    ListboxProps: ListboxPropsProp,\n    loading = false,\n    loadingText = 'Loading…',\n    multiple = false,\n    noOptionsText = 'No options',\n    onChange,\n    onClose,\n    onHighlightChange,\n    onInputChange,\n    onOpen,\n    open,\n    openOnFocus = false,\n    openText = 'Open',\n    options,\n    PaperComponent: PaperComponentProp,\n    PopperComponent: PopperComponentProp,\n    popupIcon = _ArrowDropDownIcon || (_ArrowDropDownIcon = /*#__PURE__*/_jsx(ArrowDropDownIcon, {})),\n    readOnly = false,\n    renderGroup: renderGroupProp,\n    renderInput,\n    renderOption: renderOptionProp,\n    renderTags,\n    renderValue,\n    selectOnFocus = !props.freeSolo,\n    size = 'medium',\n    slots = {},\n    slotProps = {},\n    value: valueProp,\n    ...other\n  } = props;\n  /* eslint-enable @typescript-eslint/no-unused-vars */\n\n  const {\n    getRootProps,\n    getInputProps,\n    getInputLabelProps,\n    getPopupIndicatorProps,\n    getClearProps,\n    getItemProps,\n    getListboxProps,\n    getOptionProps,\n    value,\n    dirty,\n    expanded,\n    id,\n    popupOpen,\n    focused,\n    focusedItem,\n    anchorEl,\n    setAnchorEl,\n    inputValue,\n    groupedOptions\n  } = useAutocomplete({\n    ...props,\n    componentName: 'Autocomplete'\n  });\n  const hasClearIcon = !disableClearable && !disabled && dirty && !readOnly;\n  const hasPopupIcon = (!freeSolo || forcePopupIcon === true) && forcePopupIcon !== false;\n  const {\n    onMouseDown: handleInputMouseDown\n  } = getInputProps();\n  const {\n    ref: listboxRef,\n    ...otherListboxProps\n  } = getListboxProps();\n  const defaultGetOptionLabel = option => option.label ?? option;\n  const getOptionLabel = getOptionLabelProp || defaultGetOptionLabel;\n\n  // If you modify this, make sure to keep the `AutocompleteOwnerState` type in sync.\n  const ownerState = {\n    ...props,\n    disablePortal,\n    expanded,\n    focused,\n    fullWidth,\n    getOptionLabel,\n    hasClearIcon,\n    hasPopupIcon,\n    inputFocused: focusedItem === -1,\n    popupOpen,\n    size\n  };\n  const classes = useUtilityClasses(ownerState);\n  const externalForwardedProps = {\n    slots: {\n      paper: PaperComponentProp,\n      popper: PopperComponentProp,\n      ...slots\n    },\n    slotProps: {\n      chip: ChipPropsProp,\n      listbox: ListboxPropsProp,\n      ...componentsProps,\n      ...slotProps\n    }\n  };\n  const [ListboxSlot, listboxProps] = useSlot('listbox', {\n    elementType: AutocompleteListbox,\n    externalForwardedProps,\n    ownerState,\n    className: classes.listbox,\n    additionalProps: otherListboxProps,\n    ref: listboxRef\n  });\n  const [PaperSlot, paperProps] = useSlot('paper', {\n    elementType: Paper,\n    externalForwardedProps,\n    ownerState,\n    className: classes.paper\n  });\n  const [PopperSlot, popperProps] = useSlot('popper', {\n    elementType: Popper,\n    externalForwardedProps,\n    ownerState,\n    className: classes.popper,\n    additionalProps: {\n      disablePortal,\n      style: {\n        width: anchorEl ? anchorEl.clientWidth : null\n      },\n      role: 'presentation',\n      anchorEl,\n      open: popupOpen\n    }\n  });\n  let startAdornment;\n  const getCustomizedItemProps = params => ({\n    className: classes.tag,\n    disabled,\n    ...getItemProps(params)\n  });\n  if (multiple) {\n    if (value.length > 0) {\n      if (renderTags) {\n        startAdornment = renderTags(value, getCustomizedItemProps, ownerState);\n      } else if (renderValue) {\n        startAdornment = renderValue(value, getCustomizedItemProps, ownerState);\n      } else {\n        startAdornment = value.map((option, index) => {\n          const {\n            key,\n            ...customItemProps\n          } = getCustomizedItemProps({\n            index\n          });\n          return /*#__PURE__*/_jsx(Chip, {\n            label: getOptionLabel(option),\n            size: size,\n            ...customItemProps,\n            ...externalForwardedProps.slotProps.chip\n          }, key);\n        });\n      }\n    }\n  } else if (renderValue && value != null) {\n    startAdornment = renderValue(value, getCustomizedItemProps, ownerState);\n  }\n  if (limitTags > -1 && Array.isArray(startAdornment)) {\n    const more = startAdornment.length - limitTags;\n    if (!focused && more > 0) {\n      startAdornment = startAdornment.splice(0, limitTags);\n      startAdornment.push(/*#__PURE__*/_jsx(\"span\", {\n        className: classes.tag,\n        children: getLimitTagsText(more)\n      }, startAdornment.length));\n    }\n  }\n  const defaultRenderGroup = params => /*#__PURE__*/_jsxs(\"li\", {\n    children: [/*#__PURE__*/_jsx(AutocompleteGroupLabel, {\n      className: classes.groupLabel,\n      ownerState: ownerState,\n      component: \"div\",\n      children: params.group\n    }), /*#__PURE__*/_jsx(AutocompleteGroupUl, {\n      className: classes.groupUl,\n      ownerState: ownerState,\n      children: params.children\n    })]\n  }, params.key);\n  const renderGroup = renderGroupProp || defaultRenderGroup;\n  const defaultRenderOption = (props2, option) => {\n    // Need to clearly apply key because of https://github.com/vercel/next.js/issues/55642\n    const {\n      key,\n      ...otherProps\n    } = props2;\n    return /*#__PURE__*/_jsx(\"li\", {\n      ...otherProps,\n      children: getOptionLabel(option)\n    }, key);\n  };\n  const renderOption = renderOptionProp || defaultRenderOption;\n  const renderListOption = (option, index) => {\n    const optionProps = getOptionProps({\n      option,\n      index\n    });\n    return renderOption({\n      ...optionProps,\n      className: classes.option\n    }, option, {\n      selected: optionProps['aria-selected'],\n      index,\n      inputValue\n    }, ownerState);\n  };\n  const clearIndicatorSlotProps = externalForwardedProps.slotProps.clearIndicator;\n  const popupIndicatorSlotProps = externalForwardedProps.slotProps.popupIndicator;\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(AutocompleteRoot, {\n      ref: ref,\n      className: clsx(classes.root, className),\n      ownerState: ownerState,\n      ...getRootProps(other),\n      children: renderInput({\n        id,\n        disabled,\n        fullWidth: true,\n        size: size === 'small' ? 'small' : undefined,\n        InputLabelProps: getInputLabelProps(),\n        InputProps: {\n          ref: setAnchorEl,\n          className: classes.inputRoot,\n          startAdornment,\n          onMouseDown: event => {\n            if (event.target === event.currentTarget) {\n              handleInputMouseDown(event);\n            }\n          },\n          ...((hasClearIcon || hasPopupIcon) && {\n            endAdornment: /*#__PURE__*/_jsxs(AutocompleteEndAdornment, {\n              className: classes.endAdornment,\n              ownerState: ownerState,\n              children: [hasClearIcon ? /*#__PURE__*/_jsx(AutocompleteClearIndicator, {\n                ...getClearProps(),\n                \"aria-label\": clearText,\n                title: clearText,\n                ownerState: ownerState,\n                ...clearIndicatorSlotProps,\n                className: clsx(classes.clearIndicator, clearIndicatorSlotProps?.className),\n                children: clearIcon\n              }) : null, hasPopupIcon ? /*#__PURE__*/_jsx(AutocompletePopupIndicator, {\n                ...getPopupIndicatorProps(),\n                disabled: disabled,\n                \"aria-label\": popupOpen ? closeText : openText,\n                title: popupOpen ? closeText : openText,\n                ownerState: ownerState,\n                ...popupIndicatorSlotProps,\n                className: clsx(classes.popupIndicator, popupIndicatorSlotProps?.className),\n                children: popupIcon\n              }) : null]\n            })\n          })\n        },\n        inputProps: {\n          className: classes.input,\n          disabled,\n          readOnly,\n          ...getInputProps()\n        }\n      })\n    }), anchorEl ? /*#__PURE__*/_jsx(AutocompletePopper, {\n      as: PopperSlot,\n      ...popperProps,\n      children: /*#__PURE__*/_jsxs(AutocompletePaper, {\n        as: PaperSlot,\n        ...paperProps,\n        children: [loading && groupedOptions.length === 0 ? /*#__PURE__*/_jsx(AutocompleteLoading, {\n          className: classes.loading,\n          ownerState: ownerState,\n          children: loadingText\n        }) : null, groupedOptions.length === 0 && !freeSolo && !loading ? /*#__PURE__*/_jsx(AutocompleteNoOptions, {\n          className: classes.noOptions,\n          ownerState: ownerState,\n          role: \"presentation\",\n          onMouseDown: event => {\n            // Prevent input blur when interacting with the \"no options\" content\n            event.preventDefault();\n          },\n          children: noOptionsText\n        }) : null, groupedOptions.length > 0 ? /*#__PURE__*/_jsx(ListboxSlot, {\n          as: ListboxComponentProp,\n          ...listboxProps,\n          children: groupedOptions.map((option, index) => {\n            if (groupBy) {\n              return renderGroup({\n                key: option.key,\n                group: option.group,\n                children: option.options.map((option2, index2) => renderListOption(option2, option.index + index2))\n              });\n            }\n            return renderListOption(option, index);\n          })\n        }) : null]\n      })\n    }) : null]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Autocomplete.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * If `true`, the portion of the selected suggestion that the user hasn't typed,\n   * known as the completion string, appears inline after the input cursor in the textbox.\n   * The inline completion string is visually highlighted and has a selected state.\n   * @default false\n   */\n  autoComplete: PropTypes.bool,\n  /**\n   * If `true`, the first option is automatically highlighted.\n   * @default false\n   */\n  autoHighlight: PropTypes.bool,\n  /**\n   * If `true`, the selected option becomes the value of the input\n   * when the Autocomplete loses focus unless the user chooses\n   * a different option or changes the character string in the input.\n   *\n   * When using the `freeSolo` mode, the typed value will be the input value\n   * if the Autocomplete loses focus without highlighting an option.\n   * @default false\n   */\n  autoSelect: PropTypes.bool,\n  /**\n   * Control if the input should be blurred when an option is selected:\n   *\n   * - `false` the input is not blurred.\n   * - `true` the input is always blurred.\n   * - `touch` the input is blurred after a touch event.\n   * - `mouse` the input is blurred after a mouse event.\n   * @default false\n   */\n  blurOnSelect: PropTypes.oneOfType([PropTypes.oneOf(['mouse', 'touch']), PropTypes.bool]),\n  /**\n   * Props applied to the [`Chip`](https://mui.com/material-ui/api/chip/) element.\n   * @deprecated Use `slotProps.chip` instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  ChipProps: PropTypes.object,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The icon to display in place of the default clear icon.\n   * @default <ClearIcon fontSize=\"small\" />\n   */\n  clearIcon: PropTypes.node,\n  /**\n   * If `true`, the input's text is cleared on blur if no value is selected.\n   *\n   * Set it to `true` if you want to help the user enter a new value.\n   * Set it to `false` if you want to help the user resume their search.\n   * @default !props.freeSolo\n   */\n  clearOnBlur: PropTypes.bool,\n  /**\n   * If `true`, clear all values when the user presses escape and the popup is closed.\n   * @default false\n   */\n  clearOnEscape: PropTypes.bool,\n  /**\n   * Override the default text for the *clear* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](https://mui.com/material-ui/guides/localization/).\n   * @default 'Clear'\n   */\n  clearText: PropTypes.string,\n  /**\n   * Override the default text for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](https://mui.com/material-ui/guides/localization/).\n   * @default 'Close'\n   */\n  closeText: PropTypes.string,\n  /**\n   * The props used for each slot inside.\n   * @deprecated Use the `slotProps` prop instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  componentsProps: PropTypes.shape({\n    clearIndicator: PropTypes.object,\n    paper: PropTypes.object,\n    popper: PropTypes.object,\n    popupIndicator: PropTypes.object\n  }),\n  /**\n   * The default value. Use when the component is not controlled.\n   * @default props.multiple ? [] : null\n   */\n  defaultValue: chainPropTypes(PropTypes.any, props => {\n    if (props.multiple && props.defaultValue !== undefined && !Array.isArray(props.defaultValue)) {\n      return new Error(['MUI: The Autocomplete expects the `defaultValue` prop to be an array when `multiple={true}` or undefined.', `However, ${props.defaultValue} was provided.`].join('\\n'));\n    }\n    return null;\n  }),\n  /**\n   * If `true`, the input can't be cleared.\n   * @default false\n   */\n  disableClearable: PropTypes.bool,\n  /**\n   * If `true`, the popup won't close when a value is selected.\n   * @default false\n   */\n  disableCloseOnSelect: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, will allow focus on disabled items.\n   * @default false\n   */\n  disabledItemsFocusable: PropTypes.bool,\n  /**\n   * If `true`, the list box in the popup will not wrap focus.\n   * @default false\n   */\n  disableListWrap: PropTypes.bool,\n  /**\n   * If `true`, the `Popper` content will be under the DOM hierarchy of the parent component.\n   * @default false\n   */\n  disablePortal: PropTypes.bool,\n  /**\n   * A function that determines the filtered options to be rendered on search.\n   *\n   * @default createFilterOptions()\n   * @param {Value[]} options The options to render.\n   * @param {object} state The state of the component.\n   * @returns {Value[]}\n   */\n  filterOptions: PropTypes.func,\n  /**\n   * If `true`, hide the selected options from the list box.\n   * @default false\n   */\n  filterSelectedOptions: PropTypes.bool,\n  /**\n   * Force the visibility display of the popup icon.\n   * @default 'auto'\n   */\n  forcePopupIcon: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.bool]),\n  /**\n   * If `true`, the Autocomplete is free solo, meaning that the user input is not bound to provided options.\n   * @default false\n   */\n  freeSolo: PropTypes.bool,\n  /**\n   * If `true`, the input will take up the full width of its container.\n   * @default false\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * The label to display when the tags are truncated (`limitTags`).\n   *\n   * @param {number} more The number of truncated tags.\n   * @returns {ReactNode}\n   * @default (more) => `+${more}`\n   */\n  getLimitTagsText: PropTypes.func,\n  /**\n   * Used to determine the disabled state for a given option.\n   *\n   * @param {Value} option The option to test.\n   * @template Value The option shape. Will be the same shape as an item of the options.\n   * @returns {boolean}\n   */\n  getOptionDisabled: PropTypes.func,\n  /**\n   * Used to determine the key for a given option.\n   * This can be useful when the labels of options are not unique (since labels are used as keys by default).\n   *\n   * @param {Value} option The option to get the key for.\n   * @returns {string | number}\n   */\n  getOptionKey: PropTypes.func,\n  /**\n   * Used to determine the string value for a given option.\n   * It's used to fill the input (and the list box options if `renderOption` is not provided).\n   *\n   * If used in free solo mode, it must accept both the type of the options and a string.\n   *\n   * @param {Value} option\n   * @returns {string}\n   * @default (option) => option.label ?? option\n   */\n  getOptionLabel: PropTypes.func,\n  /**\n   * If provided, the options will be grouped under the returned string.\n   * The groupBy value is also used as the text for group headings when `renderGroup` is not provided.\n   *\n   * @param {Value} option The Autocomplete option.\n   * @returns {string}\n   */\n  groupBy: PropTypes.func,\n  /**\n   * If `true`, the component handles the \"Home\" and \"End\" keys when the popup is open.\n   * It should move focus to the first option and last option, respectively.\n   * @default !props.freeSolo\n   */\n  handleHomeEndKeys: PropTypes.bool,\n  /**\n   * This prop is used to help implement the accessibility logic.\n   * If you don't provide an id it will fall back to a randomly generated one.\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the highlight can move to the input.\n   * @default false\n   */\n  includeInputInList: PropTypes.bool,\n  /**\n   * The input value.\n   */\n  inputValue: PropTypes.string,\n  /**\n   * Used to determine if the option represents the given value.\n   * Uses strict equality by default.\n   * ⚠️ Both arguments need to be handled, an option can only match with one value.\n   *\n   * @param {Value} option The option to test.\n   * @param {Value} value The value to test against.\n   * @returns {boolean}\n   */\n  isOptionEqualToValue: PropTypes.func,\n  /**\n   * The maximum number of tags that will be visible when not focused.\n   * Set `-1` to disable the limit.\n   * @default -1\n   */\n  limitTags: integerPropType,\n  /**\n   * The component used to render the listbox.\n   * @default 'ul'\n   * @deprecated Use `slotProps.listbox.component` instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  ListboxComponent: PropTypes.elementType,\n  /**\n   * Props applied to the Listbox element.\n   * @deprecated Use `slotProps.listbox` instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  ListboxProps: PropTypes.object,\n  /**\n   * If `true`, the component is in a loading state.\n   * This shows the `loadingText` in place of suggestions (only if there are no suggestions to show, for example `options` are empty).\n   * @default false\n   */\n  loading: PropTypes.bool,\n  /**\n   * Text to display when in a loading state.\n   *\n   * For localization purposes, you can use the provided [translations](https://mui.com/material-ui/guides/localization/).\n   * @default 'Loading…'\n   */\n  loadingText: PropTypes.node,\n  /**\n   * If `true`, `value` must be an array and the menu will support multiple selections.\n   * @default false\n   */\n  multiple: PropTypes.bool,\n  /**\n   * Text to display when there are no options.\n   *\n   * For localization purposes, you can use the provided [translations](https://mui.com/material-ui/guides/localization/).\n   * @default 'No options'\n   */\n  noOptionsText: PropTypes.node,\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {Value|Value[]} value The new value of the component.\n   * @param {string} reason One of \"createOption\", \"selectOption\", \"removeOption\", \"blur\" or \"clear\".\n   * @param {string} [details]\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be closed.\n   * Use in controlled mode (see open).\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {string} reason Can be: `\"toggleInput\"`, `\"escape\"`, `\"selectOption\"`, `\"removeOption\"`, `\"blur\"`.\n   */\n  onClose: PropTypes.func,\n  /**\n   * Callback fired when the highlight option changes.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {Value} option The highlighted option.\n   * @param {string} reason Can be: `\"keyboard\"`, `\"mouse\"`, `\"touch\"`.\n   */\n  onHighlightChange: PropTypes.func,\n  /**\n   * Callback fired when the input value changes.\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   * @param {string} value The new value of the text input.\n   * @param {string} reason Can be: `\"input\"` (user input), `\"reset\"` (programmatic change), `\"clear\"`, `\"blur\"`, `\"selectOption\"`, `\"removeOption\"`\n   */\n  onInputChange: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * Callback fired when the popup requests to be opened.\n   * Use in controlled mode (see open).\n   *\n   * @param {React.SyntheticEvent} event The event source of the callback.\n   */\n  onOpen: PropTypes.func,\n  /**\n   * If `true`, the component is shown.\n   */\n  open: PropTypes.bool,\n  /**\n   * If `true`, the popup will open on input focus.\n   * @default false\n   */\n  openOnFocus: PropTypes.bool,\n  /**\n   * Override the default text for the *open popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](https://mui.com/material-ui/guides/localization/).\n   * @default 'Open'\n   */\n  openText: PropTypes.string,\n  /**\n   * A list of options that will be shown in the Autocomplete.\n   */\n  options: PropTypes.array.isRequired,\n  /**\n   * The component used to render the body of the popup.\n   * @default Paper\n   * @deprecated Use `slots.paper` instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  PaperComponent: PropTypes.elementType,\n  /**\n   * The component used to position the popup.\n   * @default Popper\n   * @deprecated Use `slots.popper` instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  PopperComponent: PropTypes.elementType,\n  /**\n   * The icon to display in place of the default popup icon.\n   * @default <ArrowDropDownIcon />\n   */\n  popupIcon: PropTypes.node,\n  /**\n   * If `true`, the component becomes readonly. It is also supported for multiple tags where the tag cannot be deleted.\n   * @default false\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * Render the group.\n   *\n   * @param {AutocompleteRenderGroupParams} params The group to render.\n   * @returns {ReactNode}\n   */\n  renderGroup: PropTypes.func,\n  /**\n   * Render the input.\n   *\n   * **Note:** The `renderInput` prop must return a `TextField` component or a compatible custom component\n   * that correctly forwards `InputProps.ref` and spreads `inputProps`. This ensures proper integration\n   * with the Autocomplete's internal logic (e.g., focus management and keyboard navigation).\n   *\n   * Avoid using components like `DatePicker` or `Select` directly, as they may not forward the required props,\n   * leading to runtime errors or unexpected behavior.\n   *\n   * @param {object} params\n   * @returns {ReactNode}\n   */\n  renderInput: PropTypes.func.isRequired,\n  /**\n   * Render the option, use `getOptionLabel` by default.\n   *\n   * @param {object} props The props to apply on the li element.\n   * @param {Value} option The option to render.\n   * @param {object} state The state of each option.\n   * @param {object} ownerState The state of the Autocomplete component.\n   * @returns {ReactNode}\n   */\n  renderOption: PropTypes.func,\n  /**\n   * Render the selected value when doing multiple selections.\n   *\n   * @deprecated Use `renderValue` prop instead\n   *\n   * @param {Value[]} value The `value` provided to the component.\n   * @param {function} getTagProps A tag props getter.\n   * @param {object} ownerState The state of the Autocomplete component.\n   * @returns {ReactNode}\n   */\n  renderTags: PropTypes.func,\n  /**\n   * Renders the selected value(s) as rich content in the input for both single and multiple selections.\n   *\n   * @param {AutocompleteRenderValue<Value, Multiple, FreeSolo>} value The `value` provided to the component.\n   * @param {function} getItemProps The value item props.\n   * @param {object} ownerState The state of the Autocomplete component.\n   * @returns {ReactNode}\n   */\n  renderValue: PropTypes.func,\n  /**\n   * If `true`, the input's text is selected on focus.\n   * It helps the user clear the selected value.\n   * @default !props.freeSolo\n   */\n  selectOnFocus: PropTypes.bool,\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium']), PropTypes.string]),\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes /* @typescript-to-proptypes-ignore */.shape({\n    chip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    clearIndicator: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    listbox: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    paper: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    popper: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    popupIndicator: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    listbox: PropTypes.elementType,\n    paper: PropTypes.elementType,\n    popper: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the autocomplete.\n   *\n   * The value must have reference equality with the option in order to be selected.\n   * You can customize the equality behavior with the `isOptionEqualToValue` prop.\n   */\n  value: chainPropTypes(PropTypes.any, props => {\n    if (props.multiple && props.value !== undefined && !Array.isArray(props.value)) {\n      return new Error(['MUI: The Autocomplete expects the `value` prop to be an array when `multiple={true}` or undefined.', `However, ${props.value} was provided.`].join('\\n'));\n    }\n    return null;\n  })\n} : void 0;\nexport default Autocomplete;","import Api, { handleApiError } from '../../config/Api';\n\n// Get clients with pagination and search\nexport const getClients = async (page = 1, search = '') => {\n  try {\n    const url = search \n      ? `/api/clients/all/${page}?search=${encodeURIComponent(search)}`\n      : `/api/clients/all/${page}`;\n    const response = await Api.get(url);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Get partners with pagination and search\nexport const getPartners = async (page = 1, search = '') => {\n  try {\n    const url = search\n      ? `/api/partners/all/${page}?search=${encodeURIComponent(search)}`\n      : `/api/partners/all/${page}`;\n    const response = await Api.get(url);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Create new loan\nexport const createLoan = async (loanData) => {\n  try {\n    const response = await Api.post('/api/loans', loanData);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Update loan\nexport const updateLoan = async (loanId, loanData) => {\n  try {\n    const response = await Api.patch(`/api/loans/${loanId}`, loanData);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Activate loan\nexport const activateLoan = async (loanId) => {\n  try {\n    const response = await Api.patch(`/api/loans/${loanId}/activate`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Deactivate loan\nexport const deactivateLoan = async (loanId) => {\n  try {\n    const response = await Api.patch(`/api/loans/${loanId}/deactivate`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Get all loans with pagination\nexport const getLoans = async (page = 1, search = '') => {\n  try {\n    const url = search \n      ? `/api/loans/all/${page}?search=${encodeURIComponent(search)}`\n      : `/api/loans/all/${page}`;\n    const response = await Api.get(url);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Get loan by ID\nexport const getLoanById = async (loanId) => {\n  try {\n    const response = await Api.get(`/api/loans/${loanId}`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Delete loan\nexport const deleteLoan = async (loanId) => {\n  try {\n    const response = await Api.delete(`/api/loans/${loanId}`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};","import React, { useState } from \"react\";\nimport {\n  Box,\n  Paper,\n  Table,\n  TableBody,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  IconButton,\n  Chip,\n  Stack,\n  Typography,\n  CircularProgress,\n  InputBase,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n} from \"@mui/material\";\nimport {\n  Visibility,\n  Delete,\n  PlayArrow,\n  Schedule,\n  Pause,\n  MoreVert,\n} from \"@mui/icons-material\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport {\n  getLoans,\n  deleteLoan,\n  activateLoan,\n  deactivateLoan,\n} from \"../../pages/Loans/loanApis\";\nimport { notifySuccess, notifyError } from \"../../utilities/toastify\";\nimport DeleteModal from \"../../components/modals/DeleteModal\";\nimport { StyledTableCell, StyledTableRow } from \"../layouts/tableLayout\";\nimport dayjs from \"dayjs\";\n\nconst LoansTable = ({ onViewDetails, onViewInstallments }) => {\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loanToDelete, setLoanToDelete] = useState(null);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const queryClient = useQueryClient();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedLoanForMenu, setSelectedLoanForMenu] = useState(null);\n\n  const handleMenuOpen = (event, loan) => {\n    setAnchorEl(event.currentTarget);\n    setSelectedLoanForMenu(loan);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    setSelectedLoanForMenu(null);\n  };\n\n  const { data: loansData, isLoading } = useQuery({\n    queryKey: [\"loans\", page, searchQuery],\n    queryFn: () => getLoans(page, searchQuery),\n    retry: 1,\n  });\n\n  const handleSearchChange = (event) => {\n    setSearchQuery(event.target.value);\n    setPage(1);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage + 1);\n  };\n\n  const handleDeleteLoan = async (loanId) => {\n    try {\n      await deleteLoan(loanId);\n      notifySuccess(\"تم حذف السلفة بنجاح\");\n      queryClient.invalidateQueries([\"loans\"]);\n      setIsDeleteModalOpen(false);\n      setLoanToDelete(null);\n    } catch (error) {\n      notifyError(error.response?.data?.message || \"حدث خطأ أثناء حذف السلفة\");\n    }\n  };\n\n  const handleActivateLoan = async (loanId) => {\n    try {\n      await activateLoan(loanId);\n      notifySuccess(\"تم تفعيل السلفة بنجاح\");\n      queryClient.invalidateQueries([\"loans\"]);\n    } catch (error) {\n      notifyError(\n        error.response?.data?.message || \"حدث خطأ أثناء تفعيل السلفة\"\n      );\n    }\n  };\n\n  const handleDeactivateLoan = async (loanId) => {\n    try {\n      await deactivateLoan(loanId);\n      notifySuccess(\"تم إلغاء تفعيل السلفة بنجاح\");\n      queryClient.invalidateQueries([\"loans\"]);\n    } catch (error) {\n      notifyError(\n        error.response?.data?.message || \"حدث خطأ أثناء إلغاء تفعيل السلفة\"\n      );\n    }\n  };\n\n  const handleViewInstallmentsClick = (loan) => {\n    if (loan.status === \"PENDING\") {\n      notifyError(\"يجب تفعيل السلفة أولاً لعرض الأقساط\");\n      return;\n    }\n    onViewInstallments(loan);\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"PENDING\":\n        return \"warning\";\n      case \"ACTIVE\":\n        return \"success\";\n      case \"COMPLETED\":\n        return \"info\";\n      case \"DEFAULTED\":\n        return \"error\";\n      default:\n        return \"default\";\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case \"PENDING\":\n        return \"قيد المراجعة\";\n      case \"ACTIVE\":\n        return \"نشط\";\n      case \"COMPLETED\":\n        return \"مكتمل\";\n      case \"DEFAULTED\":\n        return \"متأخر\";\n      default:\n        return status;\n    }\n  };\n\n  const getTypeText = (type) => {\n    switch (type) {\n      case \"DAILY\":\n        return \"يومي\";\n      case \"WEEKLY\":\n        return \"أسبوعي\";\n      case \"MONTHLY\":\n        return \"شهري\";\n      default:\n        return type;\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\",\n      }}\n    >\n      {/* Search Bar */}\n      <Box\n        sx={{\n          p: 2,\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n        }}\n      >\n        <InputBase\n          placeholder=\"ابحث باسم العميل أو رقم السلفة...\"\n          value={searchQuery}\n          onChange={handleSearchChange}\n          sx={{\n            width: \"280px\",\n            borderRadius: \"6px\",\n          }}\n        />\n      </Box>\n\n      {/* Table */}\n      <Paper sx={{ flex: 1, width: \"100%\", overflow: \"hidden\" }}>\n        <TableContainer sx={{ height: \"100%\", width: \"100%\" }}>\n          <Table stickyHeader sx={{ width: \"100%\" }}>\n            <TableHead>\n              <StyledTableRow>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  رقم السلفة\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  العميل\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  {\" \"}\n                  المستثمر\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  الحساب البنكي\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  مبلغ السلفة\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  معدل الفائدة\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  المدة\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  النوع\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  {\" \"}\n                  يوم الاستحقاق\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  الحالة\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  تاريخ البدء\n                </StyledTableCell>\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\n                  الإجراءات\n                </StyledTableCell>\n              </StyledTableRow>\n            </TableHead>\n            <TableBody>\n              {isLoading ? (\n                <StyledTableRow>\n                  <StyledTableCell colSpan={12} align=\"center\">\n                    <CircularProgress size={20} />\n                  </StyledTableCell>\n                </StyledTableRow>\n              ) : loansData?.data?.length === 0 ? (\n                <StyledTableRow>\n                  <StyledTableCell colSpan={12} align=\"center\">\n                    <Typography>لا توجد سلف</Typography>\n                  </StyledTableCell>\n                </StyledTableRow>\n              ) : (\n                loansData?.data?.map((loan) => (\n                  <StyledTableRow key={loan.id} hover>\n                    <StyledTableCell>{loan.code}</StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {loan.client?.name}\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {loan.partner?.name}\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {loan.bankAccount?.name}\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\", fontWeight: \"bold\" }}\n                    >\n                      {loan.amount?.toLocaleString()} ر.س\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {loan.interestRate}%\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {loan.durationMonths} شهر\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {getTypeText(loan.type)}\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {loan.repaymentDay}\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      <Chip\n                        label={getStatusText(loan.status)}\n                        color={getStatusColor(loan.status)}\n                        size=\"small\"\n                      />\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      {dayjs(loan.startDate).format(\"DD/MM/YYYY\")}\n                    </StyledTableCell>\n                    <StyledTableCell\n                      align=\"center\"\n                      sx={{ whiteSpace: \"nowrap\" }}\n                    >\n                      <IconButton\n                        size=\"small\"\n                        onClick={(event) => handleMenuOpen(event, loan)}\n                      >\n                        <MoreVert fontSize=\"small\" />\n                      </IconButton>\n                    </StyledTableCell>\n                  </StyledTableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n      {/* Pagination */}\n      {loansData && (\n        <TablePagination\n          component=\"div\"\n          count={loansData.total || 0}\n          page={page - 1}\n          onPageChange={handleChangePage}\n          rowsPerPage={10}\n          rowsPerPageOptions={[10]}\n          labelDisplayedRows={({ from, to, count }) =>\n            `عرض ${from}-${to} من ${count}`\n          }\n          labelRowsPerPage=\"صفوف لكل صفحة:\"\n        />\n      )}\n\n      {/* Delete Confirmation Modal */}\n      <DeleteModal\n        open={isDeleteModalOpen}\n        onClose={() => {\n          setIsDeleteModalOpen(false);\n          setLoanToDelete(null);\n        }}\n        onConfirm={() => handleDeleteLoan(loanToDelete?.id)}\n        title=\"حذف السلفة\"\n        message={`هل أنت متأكد من حذف سلفة العميل ${loanToDelete?.client?.name}؟`}\n        ButtonText=\"حذف\"\n      />\n\n      {/* Actions Menu */}\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleMenuClose}\n      >\n        {/* View Loan Details */}\n        <MenuItem\n          onClick={() => {\n            onViewDetails(selectedLoanForMenu?.id);\n            handleMenuClose();\n          }}\n          sx={{ color: \"#1976D2\" }} // Blue\n        >\n          <ListItemIcon>\n            <Visibility fontSize=\"small\" sx={{ color: \"#1976D2\" }} />\n          </ListItemIcon>\n          عرض السلفة\n        </MenuItem>\n\n        {/* View Installments */}\n        <MenuItem\n          onClick={() => {\n            handleViewInstallmentsClick(selectedLoanForMenu);\n            handleMenuClose();\n          }}\n          sx={{ color: \"#2E7D32\" }} // Green\n        >\n          <ListItemIcon>\n            <Schedule fontSize=\"small\" sx={{ color: \"#2E7D32\" }} />\n          </ListItemIcon>\n          عرض الأقساط\n        </MenuItem>\n\n        {/* Activate Loan (PENDING) */}\n        {selectedLoanForMenu?.status === \"PENDING\" && (\n          <MenuItem\n            onClick={() => {\n              handleActivateLoan(selectedLoanForMenu?.id);\n              handleMenuClose();\n            }}\n            sx={{ color: \"#FB8C00\" }} // Orange\n          >\n            <ListItemIcon>\n              <PlayArrow fontSize=\"small\" sx={{ color: \"#FB8C00\" }} />\n            </ListItemIcon>\n            تفعيل السلفة\n          </MenuItem>\n        )}\n\n        {/* Deactivate Loan (ACTIVE) */}\n        {selectedLoanForMenu?.status === \"ACTIVE\" && (\n          <MenuItem\n            onClick={() => {\n              handleDeactivateLoan(selectedLoanForMenu?.id);\n              handleMenuClose();\n            }}\n            sx={{ color: \"#8E24AA\" }} // Purple\n          >\n            <ListItemIcon>\n              <Pause fontSize=\"small\" sx={{ color: \"#8E24AA\" }} />\n            </ListItemIcon>\n            إلغاء تفعيل السلفة\n          </MenuItem>\n        )}\n\n        {/* Delete Loan */}\n        {selectedLoanForMenu?.status !== \"ACTIVE\" && (\n          <MenuItem\n            onClick={() => {\n              setLoanToDelete(selectedLoanForMenu);\n              setIsDeleteModalOpen(true);\n              handleMenuClose();\n            }}\n            sx={{ color: \"#D32F2F\" }} // Red\n          >\n            <ListItemIcon>\n              <Delete fontSize=\"small\" sx={{ color: \"#D32F2F\" }} />\n            </ListItemIcon>\n            حذف السلفة\n          </MenuItem>\n        )}\n      </Menu>\n    </Box>\n  );\n};\n\nexport default LoansTable;\n","// components/contracts/LoanContractGenerator.jsx\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport html2pdf from \"html2pdf.js\";\nimport Api, { handleApiError } from \"../config/Api\";\nimport { notifyError } from \"../utilities/toastify\";\n\nconst numberToArabicWords = (num) => {\n  const ones = [\n    \"\",\n    \"واحد\",\n    \"اثنان\",\n    \"ثلاثة\",\n    \"أربعة\",\n    \"خمسة\",\n    \"ستة\",\n    \"سبعة\",\n    \"ثمانية\",\n    \"تسعة\",\n  ];\n  const tens = [\n    \"\",\n    \"\",\n    \"عشرون\",\n    \"ثلاثون\",\n    \"أربعون\",\n    \"خمسون\",\n    \"ستون\",\n    \"سبعون\",\n    \"ثمانون\",\n    \"تسعون\",\n  ];\n  const teens = [\n    \"عشرة\",\n    \"أحد عشر\",\n    \"اثنا عشر\",\n    \"ثلاثة عشر\",\n    \"أربعة عشر\",\n    \"خمسة عشر\",\n    \"ستة عشر\",\n    \"سبعة عشر\",\n    \"ثمانية عشر\",\n    \"تسعة عشر\",\n  ];\n  const hundreds = [\n    \"\",\n    \"مائة\",\n    \"مائتان\",\n    \"ثلاثمائة\",\n    \"أربعمائة\",\n    \"خمسمائة\",\n    \"ستمائة\",\n    \"سبعمائة\",\n    \"ثمانمائة\",\n    \"تسعمائة\",\n  ];\n  \n  if (num === 0) return \"صفر\";\n  if (num < 0) return \"سالب \" + numberToArabicWords(-num);\n  \n  let result = \"\";\n  \n  // Handle millions\n  if (num >= 1000000) {\n    const millionsPart = Math.floor(num / 1000000);\n    if (millionsPart === 1) {\n      result += \"مليون \";\n    } else if (millionsPart === 2) {\n      result += \"مليونان \";\n    } else if (millionsPart < 11) {\n      result += ones[millionsPart] + \" ملايين \";\n    } else {\n      result += numberToArabicWords(millionsPart) + \" مليون \";\n    }\n    num %= 1000000;\n  }\n  \n  // Handle thousands\n  if (num >= 1000) {\n    const thousandsPart = Math.floor(num / 1000);\n    if (thousandsPart === 1) {\n      result += \"ألف \";\n    } else if (thousandsPart === 2) {\n      result += \"ألفان \";\n    } else if (thousandsPart >= 10 && thousandsPart <= 19) {\n      if (thousandsPart === 10) {\n        result += \"عشرة آلاف \";\n      } else {\n        result += teens[thousandsPart - 10] + \" ألف \";\n      }\n    } else if (thousandsPart < 11) {\n      result += ones[thousandsPart] + \" آلاف \";\n    } else {\n      result += numberToArabicWords(thousandsPart) + \" ألف \";\n    }\n    num %= 1000;\n  }\n  \n  // Handle hundreds\n  if (num >= 100) {\n    const hundredsPart = Math.floor(num / 100);\n    result += hundreds[hundredsPart] + \" \";\n    num %= 100;\n  }\n  \n  // Handle tens and ones\n  if (num >= 20) {\n    const tensPart = Math.floor(num / 10);\n    const onesPart = num % 10;\n    if (onesPart > 0) {\n      result += ones[onesPart] + \" و\" + tens[tensPart];\n    } else {\n      result += tens[tensPart];\n    }\n  } else if (num >= 10) {\n    result += teens[num - 10];\n  } else if (num > 0) {\n    result += ones[num];\n  }\n  \n  return result.trim();\n};\nconst getCurrentDates = () => {\n  const now = new Date();\n\n  const hijriFormatter = new Intl.DateTimeFormat(\n    \"ar-SA-u-ca-islamic-umalqura\",\n    {\n      day: \"numeric\",\n      month: \"long\",\n      year: \"numeric\",\n      timeZone: \"Asia/Riyadh\",\n    }\n  );\n\n  let hijriDate = hijriFormatter.format(now);\n\n  hijriDate = hijriDate.replace(/\\s+/g, \" \").trim();\n  hijriDate = hijriDate.replace(\" \", \" من \");\n  if (!hijriDate.includes(\"هـ\")) hijriDate = `${hijriDate} هـ`;\n\n  const gregorianFormatter = new Intl.DateTimeFormat(\"ar-SA-u-ca-gregory\", {\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\",\n    timeZone: \"Asia/Riyadh\",\n  });\n\n  const gregorianDate = gregorianFormatter.format(now);\n\n  return {\n    gregorianDate: `الموافق ${gregorianDate}`,\n    hijriDate,\n  };\n};\n\nconst LoanContractGenerator = React.forwardRef(\n  (\n    {\n      loanData,\n      clientData,\n      templateContent,\n      onContractGenerated,\n      contractType = \"DEBT_ACKNOWLEDGMENT\",\n      autoGenerate = false,\n    },\n    ref\n  ) => {\n    const [contractHtml, setContractHtml] = useState(\"\");\n    const [isGenerating, setIsGenerating] = useState(false);\n\n    const uploadPDFToServer = useCallback(\n      async (pdfBlob) => {\n        try {\n          const formData = new FormData();\n          const filename =\n            contractType === \"DEBT_ACKNOWLEDGMENT\"\n              ? `إقرار الدين_${loanData.id}_${Date.now()}.pdf`\n              : `سند الأمر_${loanData.id}_${Date.now()}.pdf`;\n          formData.append(\"file\", pdfBlob, filename);\n\n          const endpoint =\n            contractType === \"DEBT_ACKNOWLEDGMENT\"\n              ? `/api/loans/${loanData.id}/upload-debt-acknowledgment`\n              : `/api/loans/${loanData.id}/upload-promissory-note`;\n\n          console.log(\"Uploading to endpoint:\", endpoint);\n\n          const response = await Api.post(endpoint, formData, {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          });\n\n          console.log(\"Upload response:\", response.data);\n          return response.data;\n        } catch (error) {\n          console.error(\"Error uploading PDF:\", error);\n          throw error;\n        }\n      },\n      [contractType, loanData?.id]\n    );\n\n    const generatePDF = useCallback(\n      async (htmlContent = contractHtml) => {\n        const contentToUse = htmlContent || contractHtml;\n\n        if (!contentToUse) {\n          console.error(\"No contract HTML to generate PDF\");\n          notifyError(\"لا يوجد محتوى عقد لتحويله إلى PDF\");\n          return;\n        }\n\n        try {\n          setIsGenerating(true);\n\n          // إنشاء عنصر ثابت في الصفحة\n          const previewContainer = document.createElement(\"div\");\n          previewContainer.id = `contract-preview-${Date.now()}`;\n          previewContainer.style.width = \"210mm\";\n          previewContainer.style.minHeight = \"297mm\";\n          previewContainer.innerHTML = `\n        <div style=\"\n          font-family: 'Cairo', 'Noto Sans Arabic', sans-serif;\n          padding: 20mm;\n          background: white;\n          direction: rtl;\n        \">\n          ${contentToUse}\n        </div>\n      `;\n          document.body.appendChild(previewContainer);\n\n          const options = {\n            margin: 0,\n            filename: `${contractType.toLowerCase()}_${\n              clientData.id\n            }_${Date.now()}.pdf`,\n            image: { type: \"jpeg\", quality: 1.0 },\n            html2canvas: {\n              scale: 3,\n              useCORS: true,\n              letterRendering: true,\n              allowTaint: true,\n              logging: true,\n              backgroundColor: \"#ffffff\",\n            },\n            jsPDF: {\n              unit: \"mm\",\n              format: \"a4\",\n              orientation: \"portrait\",\n              compress: false,\n              hotfixes: [\"px_scaling\"],\n            },\n          };\n\n          console.log(\"Generating PDF for:\", contractType);\n\n          // انتظر قليلاً للتأكد من تحميل الخطوط والصور\n          await new Promise((resolve) => setTimeout(resolve, 1000));\n\n          // Generate PDF from the preview container\n          const container = document.getElementById(previewContainer.id);\n          const pdfBlob = await html2pdf()\n            .from(container)\n            .set(options)\n            .outputPdf(\"blob\");\n\n          // تنظيف عنصر المعاينة\n          document.body.removeChild(previewContainer);\n\n          await uploadPDFToServer(pdfBlob);\n\n          console.log(\n            \"PDF generated and uploaded successfully for:\",\n            contractType\n          );\n\n          if (onContractGenerated) {\n            onContractGenerated(pdfBlob, contractType);\n          }\n\n          return pdfBlob;\n        } catch (error) {\n          console.error(\"Error generating PDF:\", error);\n          notifyError(\"حدث خطأ أثناء إنشاء ملف PDF\");\n          handleApiError(error);\n          throw error;\n        } finally {\n          setIsGenerating(false);\n        }\n      },\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [contractType, loanData?.id, uploadPDFToServer, onContractGenerated]\n    );\n\n    const generateContract = useCallback(\n      async (generatePdf = autoGenerate, customLoanData = null) => {\n        const loanDataToUse = customLoanData || loanData;\n\n        if (!loanDataToUse || !templateContent) {\n          console.error(\"Missing data:\", {\n            loanDataToUse,\n            templateContent,\n          });\n          notifyError(\"بيانات السلفة أو العميل أو قالب العقد غير متوفر\");\n          return;\n        }\n\n        try {\n          console.log(\"Generating contract:\", contractType);\n          console.log(\"Loan Data to use:\", loanDataToUse);\n\n          const { gregorianDate, hijriDate } = getCurrentDates();\n          const finalDate = `${hijriDate}\\n${gregorianDate}`;\n\n          const amount = loanDataToUse.amount || 0;\n          const amountInWords = numberToArabicWords(amount);\n\n          console.log(\"Amount:\", amount, \"Amount in words:\", amountInWords);\n\n          let filledTemplate = templateContent\n            .replace(/{{اسم_العميل}}/g, clientData.name || \"\")\n            .replace(/{{رقم_هوية_العميل}}/g, clientData.nationalId || \"\")\n            .replace(/{{عنوان_العميل}}/g, clientData.city + \" - \" + clientData.district || \"\")\n\n            .replace(\n              /{{المبلغ_رقما}}/g,\n              `${amount?.toLocaleString(\"en-US\") || \"0\"} ريال سعودي`\n            )\n            .replace(/{{المبلغ_كتابة}}/g, `${amountInWords} ريال سعودي`)\n            .replace(\n              /{{قيمة_السند_رقما}}/g,\n              `${amount?.toLocaleString(\"ar-SA\") || \"0\"} ريال سعودي`\n            )\n            .replace(/{{قيمة_السند_كتابة}}/g, `${amountInWords} ريال سعودي`)\n\n            .replace(/{{التاريخ_الهجري}}/g, hijriDate)\n            .replace(/{{التاريخ_الميلادي}}/g, gregorianDate)\n            .replace(/{{تاريخ_الانشاء}}/g, finalDate)\n            .replace(/{{تاريخ_الاستحقاق}}/g, \"لدي الاطلاع\")\n\n            .replace(/{{اسم_الدائن}}/g, \"أحمد لحول\")\n            .replace(/{{اسم_المدين}}/g, clientData.name || \"\")\n            .replace(/{{رقم_السند}}/g, `LOAN-${Date.now()}`)\n            .replace(/{{رقم_الإقرار}}/g, `ACK-${Date.now()}`)\n            .replace(/{{مدينة_الاصدار}}/g, \"شروة - المملكة العربية السعودية\")\n            .replace(/{{مدينة_الوفاء}}/g, \"الرياض - المملكة العربية السعودية\")\n            .replace(/{{سبب_انشاء_السند}}/g, \"سلفة مالية\")\n\n            .replace(/{{رقم_هوية_الدائن}}/g, \"1234567890\")\n            .replace(/{{رقم_هوية_المدين}}/g, clientData.nationalId || \"\")\n            .replace(/{{رقم_هوية_الكفيل}}/g, clientData.nationalId || \"\")\n            .replace(/{{هوية_الدائن}}/g, \"1234567890\")\n            .replace(/{{هوية_المدين}}/g, clientData.nationalId || \"\")\n            .replace(/{{اسم_الكفيل}}/g, clientData.name || \"\")\n            .replace(/{{هوية_الكفيل}}/g, clientData.nationalId || \"\");\n\n          console.log(\"Filled Template generated successfully\");\n          console.log(\"Filled Template Content:\", filledTemplate);\n          console.log(\"Contract HTML length:\", filledTemplate.length);\n\n          setContractHtml(filledTemplate);\n\n          if (generatePdf) {\n            console.log(\"Auto-generating PDF for:\", contractType);\n\n            setTimeout(async () => {\n              try {\n                await generatePDF(filledTemplate);\n              } catch (error) {\n                console.error(\"Error in auto-generating PDF:\", error);\n              }\n            }, 500);\n\n            return filledTemplate;\n          }\n\n          return filledTemplate;\n        } catch (error) {\n          console.error(\"Error generating contract:\", error);\n          throw error;\n        }\n      },\n      [\n        loanData,\n        clientData,\n        templateContent,\n        contractType,\n        autoGenerate,\n        generatePDF,\n      ]\n    );\n    useEffect(() => {\n      if (autoGenerate && loanData && clientData && templateContent) {\n        console.log(\"Auto-generating contract:\", contractType);\n        generateContract(true);\n      }\n    }, [\n      autoGenerate,\n      loanData,\n      clientData,\n      templateContent,\n      contractType,\n      generateContract,\n    ]);\n\n    React.useImperativeHandle(ref, () => ({\n      generateContract,\n      generatePDF: () => generatePDF(contractHtml),\n    }));\n\n    if (autoGenerate) {\n      return null;\n    }\n\n    return (\n      <div\n        style={{\n          width: \"100%\",\n          border: \"1px solid #ddd\",\n          marginBottom: \"20px\",\n          padding: \"10px\",\n        }}\n      >\n        {isGenerating && (\n          <div\n            style={{\n              textAlign: \"center\",\n              padding: \"20px\",\n              backgroundColor: \"#f5f5f5\",\n            }}\n          >\n            جاري إنشاء PDF...\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nexport default LoanContractGenerator;","import React from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Box,\r\n  Typography,\r\n  IconButton,\r\n  Paper,\r\n  Divider,\r\n  Tabs,\r\n  Tab,\r\n} from '@mui/material';\r\nimport { Close as CloseIcon, Print, Download } from '@mui/icons-material';\r\n\r\nconst LoanContractsPreview = ({ \r\n  open, \r\n  onClose, \r\n  debtAckHtml, \r\n  promissoryNoteHtml, \r\n  onSaveContracts, \r\n  loading = false,\r\n  clientName = \"\",\r\n  loanAmount = 0\r\n}) => {\r\n  const [activeTab, setActiveTab] = React.useState(0);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    const contractElement = document.getElementById(`contract-tab-${activeTab}`);\r\n    if (contractElement) {\r\n      const printWindow = window.open('', '_blank');\r\n      printWindow.document.write(`\r\n        <html>\r\n          <head>\r\n            <title>${activeTab === 0 ? ' إقرار الدين' : 'سند الأمر'}</title>\r\n            <style>\r\n              body { \r\n                font-family: \"Noto Sans Arabic\", \"Cairo\", sans-serif;\r\n                margin: 0;\r\n                padding: 20px;\r\n                direction: rtl;\r\n              }\r\n              .contract-content { \r\n                max-width: 900px; \r\n                margin: 0 auto; \r\n                border: 1px solid #ddd;\r\n                padding: 30px;\r\n                border-radius: 12px;\r\n                background: #fff;\r\n              }\r\n              @media print {\r\n                body { padding: 0; }\r\n                .contract-content { \r\n                  border: none; \r\n                  box-shadow: none;\r\n                  padding: 15px;\r\n                }\r\n              }\r\n            </style>\r\n          </head>\r\n          <body>\r\n            <div class=\"contract-content\">\r\n              ${contractElement.innerHTML}\r\n            </div>\r\n          </body>\r\n        </html>\r\n      `);\r\n      printWindow.document.close();\r\n      printWindow.focus();\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.close();\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  const contracts = [\r\n    { \r\n      name: 'إقرار الدين', \r\n      html: debtAckHtml,\r\n      id: 'debt-acknowledgment'\r\n    },\r\n    { \r\n      name: 'سند الأمر', \r\n      html: promissoryNoteHtml,\r\n      id: 'promissory-note'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Dialog \r\n      open={open} \r\n      onClose={onClose}\r\n      maxWidth=\"lg\"\r\n      fullWidth\r\n      fullScreen={true}\r\n      dir=\"rtl\"\r\n      PaperProps={{\r\n        sx: {\r\n          borderRadius: 2,\r\n          maxHeight: '100vh'\r\n        }\r\n      }}\r\n    >\r\n      <DialogTitle \r\n        className=\"no-print\"\r\n        sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          pb: 1,\r\n          borderBottom: '1px solid #e0e0e0',\r\n          '@media print': {\r\n            display: 'none !important'\r\n          }\r\n        }}\r\n      >\r\n        <Box>\r\n          <Typography variant=\"h6\" fontWeight=\"bold\">\r\n            معاينة عقود السلفة\r\n          </Typography>\r\n          {clientName && (\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              العميل: {clientName} - المبلغ: {loanAmount.toLocaleString()} ر.س\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n        <IconButton onClick={onClose} size=\"small\">\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n\r\n      {/* Tabs */}\r\n      <Box \r\n        className=\"no-print\"\r\n        sx={{ \r\n          borderBottom: 1, \r\n          borderColor: 'divider',\r\n          '@media print': {\r\n            display: 'none !important'\r\n          }\r\n        }}\r\n      >\r\n        <Tabs value={activeTab} onChange={handleTabChange} centered>\r\n          <Tab \r\n            label=\"إقرار الدين\" \r\n            sx={{\r\n              fontWeight: activeTab === 0 ? 'bold' : 'normal',\r\n              color: activeTab === 0 ? '#0d40a5' : 'text.secondary'\r\n            }}\r\n          />\r\n          <Tab \r\n            label=\"سند الأمر\" \r\n            sx={{\r\n              fontWeight: activeTab === 1 ? 'bold' : 'normal',\r\n              color: activeTab === 1 ? '#0d40a5' : 'text.secondary'\r\n            }}\r\n          />\r\n        </Tabs>\r\n      </Box>\r\n\r\n      <DialogContent sx={{ \r\n        p: 0,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        '@media print': {\r\n          p: 0,\r\n          m: 0\r\n        }\r\n      }}>\r\n        {contracts.map((contract, index) => (\r\n          <Box\r\n            key={contract.id}\r\n            id={`contract-tab-${index}`}\r\n            sx={{\r\n              display: activeTab === index ? 'block' : 'none',\r\n              '@media print': {\r\n                display: 'block !important',\r\n                pageBreakAfter: index === 0 ? 'always' : 'auto'\r\n              }\r\n            }}\r\n          >\r\n            <Paper \r\n              sx={{ \r\n                m: 3, \r\n                p: 4, \r\n                minHeight: '500px',\r\n                bgcolor: 'white',\r\n                boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n                border: '1px solid #e0e0e0',\r\n                '@media print': {\r\n                  m: 0,\r\n                  p: 2,\r\n                  boxShadow: 'none',\r\n                  border: 'none',\r\n                  minHeight: 'auto',\r\n                  pageBreakInside: 'avoid'\r\n                }\r\n              }}\r\n            >\r\n              {contract.html ? (\r\n                <Box\r\n                  dangerouslySetInnerHTML={{ __html: contract.html }}\r\n                  sx={{\r\n                    '& *': {\r\n                      fontFamily: '\"Noto Sans Arabic\", \"Cairo\", \"Segoe UI\", sans-serif !important',\r\n                      lineHeight: 1.8\r\n                    },\r\n                    '& h1, & h2, & h3': {\r\n                      textAlign: 'center',\r\n                      color: '#1976d2',\r\n                      marginBottom: '20px'\r\n                    },\r\n                    '& p': {\r\n                      marginBottom: '15px',\r\n                      textAlign: 'justify'\r\n                    },\r\n                    '& strong': {\r\n                      color: '#1976d2',\r\n                      fontWeight: 'bold'\r\n                    }\r\n                  }}\r\n                />\r\n              ) : (\r\n                <Box sx={{ \r\n                  display: 'flex', \r\n                  justifyContent: 'center', \r\n                  alignItems: 'center', \r\n                  height: '400px',\r\n                  flexDirection: 'column',\r\n                  color: 'text.secondary'\r\n                }}>\r\n                  <Typography variant=\"h6\" mb={2}>\r\n                    لا يوجد محتوى للعرض\r\n                  </Typography>\r\n                  <Typography variant=\"body2\">\r\n                    يرجى التأكد من وجود قالب العقد وبيانات العميل\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Paper>\r\n          </Box>\r\n        ))}\r\n      </DialogContent>\r\n\r\n      <Divider className=\"no-print\" />\r\n      \r\n      <DialogActions \r\n        className=\"no-print\"\r\n        sx={{ \r\n          p: 3, \r\n          gap: 2,\r\n          flexDirection: 'row-reverse',\r\n          bgcolor: '#fafafa',\r\n          '@media print': {\r\n            display: 'none !important'\r\n          }\r\n        }}\r\n      >\r\n        <Button \r\n          onClick={onClose}\r\n          disabled={loading}\r\n          variant=\"outlined\"\r\n          sx={{ \r\n            minWidth: '100px',\r\n            borderColor: 'grey.300',\r\n            color: 'text.secondary',\r\n            '&:hover': {\r\n              borderColor: 'grey.400',\r\n              bgcolor: 'grey.50'\r\n            }\r\n          }}\r\n        >\r\n          إغلاق\r\n        </Button>\r\n        \r\n        <Button\r\n          variant=\"outlined\"\r\n          startIcon={<Print sx={{marginLeft: '10px'}} />}\r\n          onClick={handlePrint}\r\n          disabled={loading || !contracts[activeTab]?.html}\r\n          sx={{ \r\n            minWidth: '120px',\r\n            borderColor: '#1976d2',\r\n            color: '#1976d2',\r\n            '&:hover': {\r\n              borderColor: '#1565c0',\r\n              bgcolor: '#e3f2fd'\r\n            }\r\n          }}\r\n        >\r\n          طباعة\r\n        </Button>\r\n        \r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<Download sx={{marginLeft: '10px'}} />}\r\n          onClick={() => onSaveContracts(contracts[activeTab].id)}\r\n          disabled={loading || !contracts[activeTab]?.html}\r\n          sx={{\r\n            bgcolor: \"#0d40a5\",\r\n            \"&:hover\": { bgcolor: \"#0b3589\" },\r\n            minWidth: '140px'\r\n          }}\r\n        >\r\n          {loading ? 'جاري الحفظ...' : 'حفظ العقد'}\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<Download sx={{marginLeft: '10px'}} />}\r\n          onClick={() => onSaveContracts('both')}\r\n          disabled={loading || !debtAckHtml || !promissoryNoteHtml}\r\n          sx={{\r\n            bgcolor: \"#2e7d32\",\r\n            \"&:hover\": { bgcolor: \"#1b5e20\" },\r\n            minWidth: '180px'\r\n          }}\r\n        >\r\n          {loading ? 'جاري الحفظ...' : 'حفظ كلا العقدين'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default LoanContractsPreview;","import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Box,\n  Typography,\n  Grid,\n  TextField,\n  Button,\n  Paper,\n  Stack,\n  Tooltip,\n  Divider,\n  Tabs,\n  Tab,\n  Autocomplete,\n  CircularProgress,\n  MenuItem,\n  Alert,\n  Chip,\n\n} from \"@mui/material\";\nimport { Close as CloseIcon } from \"@mui/icons-material\";\nimport { debounce } from \"lodash\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport {\n  getClients,\n  createLoan,\n  getLoanById,\n  updateLoan,\n  getPartners,\n} from \"./loanApis\";\nimport { getBanks } from \"../Banks/bankApis\";\nimport { notifySuccess, notifyError } from \"../../utilities/toastify\";\nimport LoansTable from \"../../components/modals/LoansTable\";\nimport AddClient from \"../../components/modals/AddClient\";\nimport LoanContractGenerator from \"../../components/LoanContractGenerator\";\nimport LoanContractsPreview from \"../../components/LoanContractsPreview\";\nimport Api from \"../../config/Api\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Loans = () => {\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState(0);\n  const [selectedClient, setSelectedClient] = useState(null);\n  const [selectedBank, setSelectedBank] = useState(null);\n  const [selectedPartner, setSelectedPartner] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [banksSearchQuery, setBanksSearchQuery] = useState(\"\");\n  const [partnersSearchQuery, setPartnersSearchQuery] = useState(\"\");\n  const [clientsPage, setClientsPage] = useState(1);\n  const [banksPage, setBanksPage] = useState(1);\n  const [partnersPage, setPartnersPage] = useState(1);\n  const [isAddClientOpen, setIsAddClientOpen] = useState(false);\n\n  const [loanForm, setLoanForm] = useState({\n    amount: \"\",\n    interestRate: \"\",\n    durationMonths: \"\",\n    type: \"\",\n    startDate: new Date().toISOString().split(\"T\")[0],\n    repaymentDay: \"\",\n  });\n\n  const [selectedLoan, setSelectedLoan] = useState(null);\n  const [installments, setInstallments] = useState([]);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [isViewMode, setIsViewMode] = useState(false);\n  const queryClient = useQueryClient();\n  // eslint-disable-next-line no-unused-vars\n  const [generateContracts, setGenerateContracts] = useState(true);\n  const [savedLoanData, setSavedLoanData] = useState(null);\n  const [debtAckTemplate, setDebtAckTemplate] = useState(\"\");\n  const [promissoryNoteTemplate, setPromissoryNoteTemplate] = useState(\"\");\n  const [contractsGenerated, setContractsGenerated] = useState(0);\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [previewContracts, setPreviewContracts] = useState({\n    debtAck: \"\",\n    promissoryNote: \"\",\n  });\n  const [isCreatingLoan, setIsCreatingLoan] = useState(false);\n\n  const debtAckGeneratorRef = useRef(null);\n  const promissoryNoteGeneratorRef = useRef(null);\n\n  const { data: clientsData, isLoading: isClientsLoading } = useQuery({\n    queryKey: [\"clients\", clientsPage, searchQuery],\n    queryFn: () => getClients(clientsPage, searchQuery),\n    enabled: activeTab === 1,\n  });\n\n  const { data: banksData, isLoading: isBanksLoading } = useQuery({\n    queryKey: [\"banks\", banksPage, banksSearchQuery],\n    queryFn: () => getBanks(banksPage, banksSearchQuery),\n    enabled: activeTab === 1,\n  });\n\n  const { data: partnersData, isLoading: isPartnersLoading } = useQuery({\n    queryKey: [\"partners\", partnersPage, partnersSearchQuery],\n    queryFn: () => getPartners(partnersPage, partnersSearchQuery),\n    enabled: activeTab === 1,\n  });\n\n  useEffect(() => {\n    if (activeTab === 1) {\n      fetchContractTemplates();\n      calculateInstallments();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeTab]);\n\n  const fetchContractTemplates = async () => {\n    try {\n      console.log(\"Fetching contract templates...\");\n      const [debtResponse, promissoryResponse] = await Promise.all([\n        Api.get(\"/api/templates/DEBT_ACKNOWLEDGMENT\"),\n        Api.get(\"/api/templates/PROMISSORY_NOTE\"),\n      ]);\n\n      setDebtAckTemplate(debtResponse.data.content || \"\");\n      setPromissoryNoteTemplate(promissoryResponse.data.content || \"\");\n\n      console.log(\"Templates fetched successfully\");\n    } catch (error) {\n      console.warn(\"Could not fetch contract templates:\", error);\n    }\n  };\n\n  useEffect(() => {\n    if (activeTab === 1) {\n      calculateInstallments();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    loanForm.amount,\n    loanForm.interestRate,\n    loanForm.durationMonths,\n    activeTab,\n  ]);\n\n  const debouncedSearch = debounce((value) => {\n    setSearchQuery(value);\n    setClientsPage(1);\n  }, 500);\n\n  const debouncedBanksSearch = debounce((value) => {\n    setBanksSearchQuery(value);\n    setBanksPage(1);\n  }, 500);\n\n  const debouncedPartnersSearch = debounce((value) => {\n    setPartnersSearchQuery(value);\n    setPartnersPage(1);\n  }, 500);\n\n  const handleSearchChange = (event, value) => {\n    debouncedSearch(value);\n  };\n\n  const handleBanksSearchChange = (event, value) => {\n    debouncedBanksSearch(value);\n  };\n\n  const handlePartnersSearchChange = (event, value) => {\n    debouncedPartnersSearch(value);\n  };\n\n  const handleClientSelect = (event, newValue) => {\n    setSelectedClient(newValue);\n  };\n\n  const handleBankSelect = (event, newValue) => {\n    setSelectedBank(newValue);\n  };\n\n  const handlePartnerSelect = (event, newValue) => {\n    setSelectedPartner(newValue);\n  };\n\n  const formatAmount = (amount) => {\n    if (!amount) return \"\";\n    return amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n\n  const handleOpenPreview = async () => {\n    try {\n      if (!selectedClient || !loanForm.amount) {\n        notifyError(\"يرجى ملء بيانات العميل والسلفة أولاً\");\n        return;\n      }\n\n      const previewLoanData = {\n        id: `preview-${Date.now()}`,\n        amount: parseFloat(loanForm.amount.replace(/,/g, \"\")),\n        durationMonths: parseInt(loanForm.durationMonths),\n        startDate: loanForm.startDate,\n        client: selectedClient.client,\n      };\n\n      const debtAckHtml = await debtAckGeneratorRef.current.generateContract(\n        false,\n        previewLoanData\n      );\n      const promissoryNoteHtml =\n        await promissoryNoteGeneratorRef.current.generateContract(\n          false,\n          previewLoanData\n        );\n\n      setPreviewContracts({\n        debtAck: debtAckHtml,\n        promissoryNote: promissoryNoteHtml,\n      });\n      setPreviewOpen(true);\n    } catch (error) {\n      console.error(\"Error generating preview:\", error);\n      notifyError(\"حدث خطأ أثناء توليد معاينة العقود\");\n    }\n  };\n\n  const handleSaveContracts = async (contractType) => {\n    try {\n      if (!savedLoanData) {\n        notifyError(\"لم يتم إنشاء السلفة بعد. يرجى إنشاء السلفة أولاً\");\n        return;\n      }\n  \n      console.log(\"Saving contracts for loan:\", savedLoanData.id);\n      \n      if (contractType === \"both\" || contractType === \"debt-acknowledgment\") {\n        console.log(\"Generating debt acknowledgment...\");\n        await debtAckGeneratorRef.current?.generatePDF();\n      }\n      \n      if (contractType === \"both\" || contractType === \"promissory-note\") {\n        console.log(\"Generating promissory note...\");\n        await promissoryNoteGeneratorRef.current?.generatePDF();\n      }\n  \n      notifySuccess(\"تم حفظ العقود بنجاح\");\n      setSavedLoanData(null);\n      setContractsGenerated(0);\n      setPreviewContracts({\n        debtAck: \"\",\n        promissoryNote: \"\",\n      });\n      setPreviewOpen(false);\n      setInstallments([]);\n      setIsEditMode(false);\n      setIsViewMode(false);\n      setActiveTab(0);\n    } catch (error) {\n      console.error(\"Error saving contracts:\", error);\n      notifyError(\"حدث خطأ أثناء حفظ العقود\");\n    }\n  };\n\n  const calculateInstallments = () => {\n    const amount = parseFloat(loanForm.amount.replace(/,/g, \"\")) || 0;\n    const interestRate = parseFloat(loanForm.interestRate) || 0;\n    const durationMonths = parseInt(loanForm.durationMonths) || 0;\n    const loanType = loanForm.type;\n\n    if (amount > 0 && durationMonths > 0) {\n      const profit = amount * (interestRate / 100);\n      const total = amount + profit;\n\n      const repaymentCount =\n        loanType === \"DAILY\"\n          ? durationMonths * 30\n          : loanType === \"WEEKLY\"\n          ? durationMonths * 4\n          : durationMonths;\n\n      const installmentAmount = total / repaymentCount;\n      const principalPerInstallment = amount / repaymentCount;\n      const interestPerInstallment = profit / repaymentCount;\n\n      const calculatedInstallments = [];\n      let remainingBalance = total;\n\n      for (let i = 1; i <= repaymentCount; i++) {\n        const dueDate = new Date(loanForm.startDate);\n        if (loanType === \"DAILY\") {\n          dueDate.setDate(dueDate.getDate() + i);\n        } else if (loanType === \"WEEKLY\") {\n          dueDate.setDate(dueDate.getDate() + i * 7);\n        } else {\n          dueDate.setMonth(dueDate.getMonth() + i);\n          if (loanForm.repaymentDay) {\n            dueDate.setDate(parseInt(loanForm.repaymentDay));\n          }\n        }\n\n        remainingBalance -= installmentAmount;\n\n        calculatedInstallments.push({\n          installmentNumber: i,\n          dueDate: dueDate,\n          principal: principalPerInstallment,\n          interest: interestPerInstallment,\n          installment: installmentAmount,\n          remainingBalance: Math.max(0, remainingBalance),\n          status: \"PENDING\",\n          paidAmount: 0,\n        });\n      }\n\n      setInstallments(calculatedInstallments);\n    } else {\n      setInstallments([]);\n    }\n  };\n\n  const getSimulationSummary = () => {\n    if (installments.length === 0) return null;\n\n    const totalInterest = installments.reduce(\n      (sum, inst) => sum + inst.interest,\n      0\n    );\n    const totalAmount =\n      (parseFloat(loanForm.amount.replace(/,/g, \"\")) || 0) + totalInterest;\n    const monthlyInstallment = installments[0]?.installment || 0;\n\n    return {\n      monthlyInstallment,\n      totalInterest,\n      totalAmount,\n    };\n  };\n\n  const handleCreateLoan = async () => {\n    if (!selectedClient) {\n      notifyError(\"يرجى اختيار عميل\");\n      return;\n    }\n  \n    try {\n      setIsCreatingLoan(true);\n  \n      const loanData = {\n        clientId: selectedClient.client.id,\n        amount: parseFloat(loanForm.amount.replace(/,/g, \"\")),\n        interestRate: parseFloat(loanForm.interestRate),\n        durationMonths: parseInt(loanForm.durationMonths),\n        type: loanForm.type,\n        startDate: loanForm.startDate,\n        repaymentDay: parseInt(loanForm.repaymentDay),\n        bankAccountId: selectedBank?.id || null,\n        partnerId: selectedPartner?.id || null,\n      };\n  \n      console.log(\"Creating loan with data:\", loanData);\n  \n      const response = await createLoan(loanData);\n      const newLoan = response?.data?.loan || response?.loan;\n  \n      console.log(\"Loan created successfully:\", newLoan);\n      notifySuccess(\"تم إنشاء السلفة بنجاح\");\n  \n      setSavedLoanData({\n        ...newLoan,\n        client: selectedClient.client,\n      });\n      \n      queryClient.invalidateQueries([\"loans\"]);\n      \n    } catch (error) {\n      console.error(\"Error creating loan:\", error);\n      notifyError(\n        error.response?.data?.message || \"حدث خطأ أثناء إنشاء السلفة\"\n      );\n    } finally {\n      setIsCreatingLoan(false);\n    }\n  };\n\n  const handleContractGenerated = (pdfBlob, contractType) => {\n    console.log(`Contract generated: ${contractType}`);\n    const newCount = contractsGenerated + 1;\n    setContractsGenerated(newCount);\n  };\n\n  const resetLoanForm = () => {\n    setSelectedClient(null);\n    setSelectedLoan(null);\n    setSelectedBank(null);\n    setSelectedPartner(null);\n    setLoanForm({\n      amount: \"\",\n      interestRate: \"\",\n      durationMonths: \"\",\n      type: \"\",\n      startDate: new Date().toISOString().split(\"T\")[0],\n      repaymentDay: \"10\",\n    });\n    setInstallments([]);\n    setIsEditMode(false);\n    setIsViewMode(false);\n    setContractsGenerated(0);\n    setSavedLoanData(null);\n    setIsCreatingLoan(false);\n  };\n\n  const handleUpdateLoan = async () => {\n    if (!selectedLoan) {\n      notifyError(\"لا يوجد سلفة محددة للتعديل\");\n      return;\n    }\n\n    try {\n      const loanData = {\n        amount: parseFloat(loanForm.amount.replace(/,/g, \"\")),\n        interestRate: parseFloat(loanForm.interestRate),\n        durationMonths: parseInt(loanForm.durationMonths),\n        type: loanForm.type,\n        startDate: loanForm.startDate,\n        repaymentDay: parseInt(loanForm.repaymentDay),\n        bankAccountId: selectedBank?.id || null,\n        partnerId: selectedPartner?.id || null,\n      };\n\n      await updateLoan(selectedLoan.id, loanData);\n      notifySuccess(\"تم تعديل السلفة بنجاح\");\n\n      resetLoanForm();\n      queryClient.invalidateQueries([\"loans\"]);\n      setActiveTab(0);\n    } catch (error) {\n      notifyError(\n        error.response?.data?.message || \"حدث خطأ أثناء تعديل السلفة\"\n      );\n    }\n  };\n\n  const handleViewLoanDetails = async (loanId) => {\n    try {\n      const loan = await getLoanById(loanId);\n      setSelectedLoan(loan);\n      setIsViewMode(true);\n      setIsEditMode(false);\n\n      if (loan.client) {\n        setSelectedClient({ client: loan.client });\n      }\n\n      if (loan.bankAccount) {\n        setSelectedBank(loan.bankAccount);\n      }\n\n      if (loan.partner) {\n        setSelectedPartner(loan.partner);\n      }\n\n      const repaymentCount =\n        loan.type === \"DAILY\"\n          ? loan.durationMonths * 30\n          : loan.type === \"WEEKLY\"\n          ? loan.durationMonths * 4\n          : loan.durationMonths;\n\n      const principalPerInstallment = loan.amount / repaymentCount;\n      const interestPerInstallment = loan.interestAmount / repaymentCount;\n\n      let remainingBalance = loan.totalAmount;\n      const formattedRepayments = loan.repayments.map((repayment, index) => {\n        const currentInstallment = {\n          installmentNumber: index + 1,\n          dueDate: repayment.dueDate,\n          principal: principalPerInstallment,\n          interest: interestPerInstallment,\n          installment: repayment.amount,\n          remainingBalance: Math.max(0, remainingBalance),\n          status: repayment.status,\n          paidAmount: repayment.paidAmount || 0,\n        };\n\n        remainingBalance -= repayment.amount;\n        return currentInstallment;\n      });\n\n      setInstallments(formattedRepayments);\n\n      setLoanForm({\n        amount: loan.amount.toString(),\n        interestRate: loan.interestRate.toString(),\n        durationMonths: loan.durationMonths.toString(),\n        type: loan.type,\n        startDate: loan.startDate.split(\"T\")[0],\n        repaymentDay: loan.repaymentDay?.toString() || \"10\",\n      });\n\n      setActiveTab(1);\n    } catch (error) {\n      notifyError(\n        error.response?.data?.message || \"حدث خطأ أثناء تحميل بيانات السلفة\"\n      );\n    }\n  };\n\n  // تحديث الدالة لفتح صفحة الأقساط\n  const handleViewInstallments = (loan) => {\n    navigate(`/installments/${loan.id}`);\n  };\n\n  const handleEditLoan = () => {\n    if (selectedLoan.status !== \"PENDING\") {\n      notifyError(\"يمكن تعديل القروض في حالة 'قيد المراجعة' فقط\");\n      return;\n    }\n    setIsEditMode(true);\n    setIsViewMode(false);\n  };\n\n  const handleInputChange = (field, value) => {\n    if (field === \"amount\") {\n      const rawValue = value.replace(/,/g, \"\");\n      if (!isNaN(rawValue)) {\n        value = formatAmount(rawValue);\n      }\n    }\n    setLoanForm((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  const handleSaveLoan = () => {\n    if (isEditMode) {\n      handleUpdateLoan();\n    } else {\n      handleCreateLoan();\n    }\n  };\n\n  const simulationSummary = getSimulationSummary();\n\n  const isFormValid = () => {\n    return selectedClient && \n           loanForm.amount && \n           loanForm.interestRate && \n           loanForm.durationMonths && \n           loanForm.repaymentDay && \n           loanForm.type;\n  };\n\n  const canEditLoan = selectedLoan && selectedLoan.status === \"PENDING\";\n  const isReadOnlyMode = isViewMode && selectedLoan && selectedLoan.status !== \"PENDING\";\n\n  return (\n    <Box\n      sx={{\n        bgcolor: \"#f6f6f8\",\n        minHeight: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Box\n        sx={{\n          display: \"flex\",\n          flexDirection: \"row-reverse\",\n          flex: 1,\n          height: \"calc(100vh - 80px)\",\n          width: \"100%\",\n        }}\n      >\n        {activeTab === 1 && (\n          <Box\n            sx={{\n              width: \"350px\",\n              borderRight: \"1px solid #ddd\",\n              bgcolor: \"#fafafa\",\n              height: \"100%\",\n              overflowY: \"auto\",\n              flexShrink: 0,\n            }}\n          >\n            <Box\n              sx={{ p: 3, borderBottom: \"1px solid #ddd\", bgcolor: \"#fafafa\" }}\n            >\n              <Typography variant=\"h6\" fontWeight=\"bold\" mb={3}>\n                محاكاة السلفة\n              </Typography>\n              {simulationSummary ? (\n                <Stack spacing={3}>\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                    }}\n                  >\n                    <Typography color=\"text.secondary\">القسط الشهري</Typography>\n                    <Typography\n                      color=\"#0d40a5\"\n                      fontWeight=\"bold\"\n                      fontSize=\"20px\"\n                    >\n                      {formatAmount(\n                        simulationSummary.monthlyInstallment.toFixed(2)\n                      )}{\" \"}\n                      ر.س\n                    </Typography>\n                  </Box>\n\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                    }}\n                  >\n                    <Typography color=\"text.secondary\">\n                      إجمالي الفائدة\n                    </Typography>\n                    <Typography color=\"#333\" fontSize=\"16px\">\n                      {formatAmount(simulationSummary.totalInterest.toFixed(2))}{\" \"}\n                      ر.س\n                    </Typography>\n                  </Box>\n\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                    }}\n                  >\n                    <Typography color=\"text.secondary\">\n                      المبلغ الإجمالي المستحق\n                    </Typography>\n                    <Typography color=\"#333\" fontSize=\"16px\">\n                      {formatAmount(simulationSummary.totalAmount.toFixed(2))}{\" \"}\n                      ر.س\n                    </Typography>\n                  </Box>\n\n                  <Divider />\n\n                  <Box\n                    sx={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                    }}\n                  >\n                    <Typography color=\"text.secondary\">حالة السلفة</Typography>\n                    <Chip\n                      label={\n                        isViewMode ? \"عرض\" : \n                        isEditMode ? \"تحت التعديل\" : \n                        \"جديد\"\n                      }\n                      sx={{\n                        backgroundColor: \n                          isViewMode ? \"rgba(100, 100, 100, 0.2)\" :\n                          isEditMode ? \"rgba(214, 158, 46, 0.2)\" : \n                          \"rgba(56, 161, 105, 0.2)\",\n                        color: \n                          isViewMode ? \"#666\" :\n                          isEditMode ? \"#D69E2E\" : \n                          \"#38A169\",\n                        fontWeight: \"bold\",\n                      }}\n                    />\n                  </Box>\n                </Stack>\n              ) : (\n                <Alert severity=\"info\">أدخل بيانات السلفة لعرض المحاكاة</Alert>\n              )}\n            </Box>\n\n            <Box sx={{ p: 3 }}>\n              <Typography variant=\"h6\" fontWeight=\"bold\" mb={3}>\n                الإجراءات\n              </Typography>\n              <Stack spacing={2}>\n                {!isViewMode && (\n                  <Button\n                    variant=\"contained\"\n                    onClick={handleSaveLoan}\n                    disabled={!isFormValid()}\n                    sx={{\n                      bgcolor: \"#0d40a5\",\n                      height: \"48px\",\n                      fontSize: \"16px\",\n                      fontWeight: \"bold\",\n                      \"&:hover\": { bgcolor: \"rgba(13, 64, 165, 0.9)\" },\n                    }}\n                  >\n                    {isEditMode ? \"حفظ التعديلات\" : \"إنشاء السلفة\"}\n                  </Button>\n                )}\n\n                {isViewMode && canEditLoan && (\n                  <Button\n                    variant=\"contained\"\n                    onClick={handleEditLoan}\n                    sx={{\n                      bgcolor: \"primary.main\",\n                      height: \"48px\",\n                      fontSize: \"16px\",\n                      fontWeight: \"bold\",\n                      \"&:hover\": { bgcolor: \"primary.dark\" },\n                    }}\n                  >\n                    تعديل السلفة\n                  </Button>\n                )}\n\n                <Button\n                  variant=\"outlined\"\n                  onClick={handleOpenPreview}\n                  disabled={!savedLoanData}\n                  sx={{\n                    borderColor: \"#0d40a5\",\n                    color: \"#0d40a5\",\n                    height: \"48px\",\n                    fontSize: \"16px\",\n                    fontWeight: \"bold\",\n                    \"&:hover\": { bgcolor: \"rgba(13, 64, 165, 0.1)\" },\n                  }}\n                >\n                  معاينة العقود\n                </Button>\n                \n                {isEditMode && (\n                  <Button\n                    variant=\"outlined\"\n                    onClick={() => {\n                      setIsEditMode(false);\n                      setIsViewMode(true);\n                    }}\n                    sx={{\n                      borderColor: \"rgba(255, 0, 0, 0.5)\",\n                      color: \"error.main\",\n                      height: \"48px\",\n                      fontSize: \"16px\",\n                      fontWeight: \"bold\",\n                      \"&:hover\": { bgcolor: \"rgba(255, 0, 0, 0.1)\" },\n                    }}\n                  >\n                    إلغاء التعديل\n                  </Button>\n                )}\n              </Stack>\n            </Box>\n          </Box>\n        )}\n\n        <Box\n          sx={{\n            flex: 1,\n            p: 4,\n            bgcolor: \"#fff\",\n            overflowY: \"auto\",\n            width: \"100%\",\n          }}\n        >\n          <Box sx={{ width: \"100%\" }}>\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\", mb: 4 }}>\n              <Tabs\n                value={activeTab}\n                onChange={(e, newValue) => {\n                  setActiveTab(newValue);\n                  if (newValue === 0) {\n                    resetLoanForm();\n                  }\n                }}\n              >\n                <Tab\n                  label=\"عرض جميع السلف\"\n                  sx={{\n                    fontWeight: \"bold\",\n                    borderBottom:\n                      activeTab === 0 ? \"3px solid #0d40a5\" : \"none\",\n                    color: activeTab === 0 ? \"#0d40a5\" : \"text.secondary\",\n                  }}\n                />\n                <Tab\n                  label={\n                    isViewMode ? \"عرض تفاصيل السلفة\" : \n                    isEditMode ? \"تعديل السلفة\" : \n                    \"إنشاء سلفة جديدة\"\n                  }\n                  sx={{\n                    fontWeight: \"bold\",\n                    borderBottom:\n                      activeTab === 1 ? \"3px solid #0d40a5\" : \"none\",\n                    color: activeTab === 1 ? \"#0d40a5\" : \"text.secondary\",\n                  }}\n                />\n              </Tabs>\n            </Box>\n\n            {activeTab === 0 ? (\n              <Box\n                sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\" }}\n              >\n                <LoansTable \n                  onViewDetails={handleViewLoanDetails} \n                  onViewInstallments={handleViewInstallments}\n                />\n              </Box>\n            ) : (\n              <Box>\n                <Paper\n                  sx={{\n                    p: 4,\n                    mb: 3,\n                    borderRadius: 2,\n                    border: \"1px solid #e5e7eb\",\n                  }}\n                >\n                  <Typography\n                    variant=\"h6\"\n                    fontWeight=\"bold\"\n                    color=\"#333\"\n                    mb={3}\n                    textAlign=\"center\"\n                  >\n                    معلومات العميل\n                  </Typography>\n                  <Grid container spacing={3} justifyContent=\"center\">\n                    <Grid item xs={12} md={8}>\n                      <Autocomplete\n                        options={clientsData?.clients || []}\n                        getOptionLabel={(option) =>\n                          `${option.client.name} - ${option.client.nationalId}`\n                        }\n                        value={selectedClient}\n                        onChange={handleClientSelect}\n                        onInputChange={handleSearchChange}\n                        loading={isClientsLoading}\n                        disabled={isViewMode || isEditMode}\n                        renderInput={(params) => (\n                          <TextField\n                            {...params}\n                            label=\"اختر عميل حالي\"\n                            placeholder=\"ابحث بالاسم أو رقم الهوية\"\n                            InputProps={{\n                              ...params.InputProps,\n                              endAdornment: (\n                                <>\n                                  {isClientsLoading ? (\n                                    <CircularProgress\n                                      color=\"inherit\"\n                                      size={20}\n                                    />\n                                  ) : null}\n                                  {params.InputProps.endAdornment}\n                                </>\n                              ),\n                            }}\n                            sx={{\n                              \"& .MuiOutlinedInput-root\": {\n                                height: \"56px\",\n                                width: \"350px\",\n                                backgroundColor: (isViewMode || isEditMode)\n                                  ? \"#f5f5f5\"\n                                  : \"#f9fafb\",\n                                \"&:hover fieldset\": {\n                                  borderColor: \"#0d40a5\",\n                                },\n                              },\n                            }}\n                          />\n                        )}\n                      />\n                    </Grid>\n                    <Grid\n                      item\n                      xs={12}\n                      md={4}\n                      sx={{ display: \"flex\", alignItems: \"end\" }}\n                    >\n                      {!isViewMode && !isEditMode && (\n                        <Button\n                          variant=\"text\"\n                          sx={{\n                            color: \"#0d40a5\",\n                            fontWeight: \"bold\",\n                            fontSize: \"14px\",\n                          }}\n                          onClick={() => setIsAddClientOpen(true)}\n                        >\n                          أو إنشاء عميل جديد\n                        </Button>\n                      )}\n                    </Grid>\n                  </Grid>\n                </Paper>\n\n                <Paper\n                  sx={{\n                    p: 4,\n                    mb: 3,\n                    borderRadius: 2,\n                    border: \"1px solid #e5e7eb\",\n                    backgroundColor: \"#fff\",\n                  }}\n                >\n                  <Typography\n                    variant=\"h6\"\n                    fontWeight=\"bold\"\n                    color=\"#333\"\n                    mb={3}\n                    textAlign=\"center\"\n                  >\n                    {isViewMode ? \"تفاصيل السلفة\" : \n                   isEditMode ? \"تعديل تفاصيل السلفة\" : \n                   \"حدد تفاصيل السلفة\"}\n                  </Typography>\n\n                  <Grid container spacing={3} justifyContent=\"center\">\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        type=\"text\"\n                        label=\"مبلغ السلفة\"\n                        value={formatAmount(loanForm.amount)}\n                        onChange={(e) =>\n                          handleInputChange(\"amount\", e.target.value)\n                        }\n                        InputLabelProps={{\n                          shrink: true,\n                        }}\n                        disabled={isReadOnlyMode}\n                        onKeyDown={(e) => {\n                          if (e.key === \"-\" || e.key === \"+\") e.preventDefault();\n                        }}\n                        sx={{\n                          \"& .MuiOutlinedInput-root\": {\n                            height: \"56px\",\n                            width: \"250px\",\n                            backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                          },\n                        }}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        type=\"number\"\n                        label=\"معدل الفائدة السنوي (%)\"\n                        value={loanForm.interestRate}\n                        onChange={(e) =>\n                          handleInputChange(\"interestRate\", e.target.value)\n                        }\n                        InputLabelProps={{\n                          shrink: true,\n                        }}\n                        disabled={isReadOnlyMode}\n                        onKeyDown={(e) => {\n                          if (e.key === \"-\" || e.key === \"+\") e.preventDefault();\n                        }}\n                        sx={{\n                          \"& .MuiOutlinedInput-root\": {\n                            height: \"56px\",\n                            width: \"250px\",\n                            backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                          },\n                        }}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        type=\"number\"\n                        label=\"مدة السلفة (بالأشهر)\"\n                        value={loanForm.durationMonths}\n                        onChange={(e) =>\n                          handleInputChange(\"durationMonths\", e.target.value)\n                        }\n                        disabled={isReadOnlyMode}\n                        onKeyDown={(e) => {\n                          if (e.key === \"-\" || e.key === \"+\") e.preventDefault();\n                        }}\n                        sx={{\n                          \"& .MuiOutlinedInput-root\": {\n                            height: \"56px\",\n                            width: \"250px\",\n                            backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                          },\n                        }}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        type=\"number\"\n                        label=\"عدد الأقساط\"\n                        value={loanForm.durationMonths}\n                        onChange={(e) =>\n                          handleInputChange(\"durationMonths\", e.target.value)\n                        }\n                        disabled={isReadOnlyMode}\n                        onKeyDown={(e) => {\n                          if (e.key === \"-\" || e.key === \"+\") e.preventDefault();\n                        }}\n                        sx={{\n                          \"& .MuiOutlinedInput-root\": {\n                            height: \"56px\",\n                            width: \"250px\",\n                            backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                          },\n                        }}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        type=\"text\"\n                        label=\"نوع السلفة\"\n                        select\n                        value={loanForm.type}\n                        onChange={(e) =>\n                          handleInputChange(\"type\", e.target.value)\n                        }\n                        disabled={isReadOnlyMode}\n                        sx={{\n                          \"& .MuiOutlinedInput-root\": {\n                            height: \"56px\",\n                            width: \"250px\",\n                            backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                          },\n                        }}\n                      >\n                        <MenuItem value=\"DAILY\">يومي</MenuItem>\n                        <MenuItem value=\"WEEKLY\">أسبوعي</MenuItem>\n                        <MenuItem value=\"MONTHLY\">شهري</MenuItem>\n                      </TextField>\n                    </Grid>\n\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        type=\"number\"\n                        label=\"يوم السداد\"\n                        value={loanForm.repaymentDay}\n                        onChange={(e) =>\n                          handleInputChange(\"repaymentDay\", e.target.value)\n                        }\n                        inputProps={{ min: 1, max: 31 }}\n                        disabled={isReadOnlyMode}\n                        onKeyDown={(e) => {\n                          if (e.key === \"-\" || e.key === \"+\") e.preventDefault();\n                        }}\n                        sx={{\n                          \"& .MuiOutlinedInput-root\": {\n                            height: \"56px\",\n                            width: \"250px\",\n                            backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                          },\n                        }}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12} md={6}>\n                      <Autocomplete\n                        options={banksData?.data || []}\n                        getOptionLabel={(option) =>\n                          `${option.name} - ${option.accountNumber}`\n                        }\n                        value={selectedBank}\n                        onChange={handleBankSelect}\n                        onInputChange={handleBanksSearchChange}\n                        loading={isBanksLoading}\n                        disabled={isReadOnlyMode}\n                        renderInput={(params) => (\n                          <TextField\n                            {...params}\n                            label=\"اختر الحساب البنكي\"\n                            placeholder=\"ابحث باسم الحساب أو رقم الحساب\"\n                            InputProps={{\n                              ...params.InputProps,\n                              endAdornment: (\n                                <>\n                                  {isBanksLoading ? (\n                                    <CircularProgress\n                                      color=\"inherit\"\n                                      size={20}\n                                    />\n                                  ) : null}\n                                  {params.InputProps.endAdornment}\n                                </>\n                              ),\n                            }}\n                            sx={{\n                              \"& .MuiOutlinedInput-root\": {\n                                height: \"56px\",\n                                width: \"250px\",\n                                backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                              },\n                            }}\n                          />\n                        )}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12} md={6}>\n                      <Autocomplete\n                        options={partnersData?.partners || []}\n                        getOptionLabel={(option) => option.name}\n                        value={selectedPartner}\n                        onChange={handlePartnerSelect}\n                        onInputChange={handlePartnersSearchChange}\n                        loading={isPartnersLoading}\n                        disabled={isReadOnlyMode}\n                        renderInput={(params) => (\n                          <TextField\n                            {...params}\n                            label=\"اختر المستثمر\"\n                            placeholder=\"ابحث باسم المستثمر\"\n                            InputProps={{\n                              ...params.InputProps,\n                              endAdornment: (\n                                <>\n                                  {isPartnersLoading ? (\n                                    <CircularProgress\n                                      color=\"inherit\"\n                                      size={20}\n                                    />\n                                  ) : null}\n                                  {params.InputProps.endAdornment}\n                                </>\n                              ),\n                            }}\n                            sx={{\n                              \"& .MuiOutlinedInput-root\": {\n                                height: \"56px\",\n                                width: \"250px\",\n                                backgroundColor: (isViewMode && !isEditMode) ? \"#f5f5f5\" : \"#f9fafb\",\n                              },\n                            }}\n                          />\n                        )}\n                      />\n                    </Grid>\n                  </Grid>\n                </Paper>\n              </Box>\n            )}\n          </Box>\n        </Box>\n      </Box>\n\n      <AddClient\n        open={isAddClientOpen}\n        onClose={() => setIsAddClientOpen(false)}\n        onSuccess={() => {\n          setIsAddClientOpen(false);\n          queryClient.invalidateQueries([\"clients\"]);\n        }}\n      />\n\n      {generateContracts && savedLoanData && selectedClient && (\n        <>\n          <LoanContractGenerator\n            ref={debtAckGeneratorRef}\n            loanData={savedLoanData}\n            clientData={selectedClient?.client}\n            templateContent={debtAckTemplate}\n            onContractGenerated={handleContractGenerated}\n            contractType=\"DEBT_ACKNOWLEDGMENT\"\n            autoGenerate={false}\n          />\n\n          <LoanContractGenerator\n            ref={promissoryNoteGeneratorRef}\n            loanData={savedLoanData}\n            clientData={selectedClient?.client}\n            templateContent={promissoryNoteTemplate}\n            onContractGenerated={handleContractGenerated}\n            contractType=\"PROMISSORY_NOTE\"\n            autoGenerate={false}\n          />\n\n          <LoanContractsPreview\n            open={previewOpen}\n            onClose={() => setPreviewOpen(false)}\n            debtAckHtml={previewContracts.debtAck}\n            promissoryNoteHtml={previewContracts.promissoryNote}\n            onSaveContracts={handleSaveContracts}\n            loading={isCreatingLoan}\n            clientName={selectedClient?.client?.name}\n            loanAmount={parseFloat(loanForm.amount.replace(/,/g, \"\")) || 0}\n          />\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default Loans;"],"names":["Pause","createSvgIcon","_jsx","PlayArrow","usePreviousProps","value","ref","React.useRef","React.useEffect","areArraysSame","array1","array2","parser","prevOption","index","stripDiacritics","string","createFilterOptions","config","ignoreAccents","ignoreCase","limit","matchFrom","stringify","trim","options","inputValue","getOptionLabel","input","filteredOptions","option","candidate","defaultFilterOptions","pageSize","defaultIsActiveElementInListbox","listboxRef","MULTIPLE_DEFAULT_VALUE","getInputValue","multiple","renderValue","optionLabel","useAutocomplete","props","unstable_isActiveElementInListbox","unstable_classNamePrefix","autoComplete","autoHighlight","autoSelect","blurOnSelect","clearOnBlur","clearOnEscape","componentName","defaultValue","disableClearable","disableCloseOnSelect","disabledProp","disabledItemsFocusable","disableListWrap","filterOptions","filterSelectedOptions","freeSolo","getOptionDisabled","getOptionKey","getOptionLabelProp","groupBy","handleHomeEndKeys","idProp","includeInputInList","inputValueProp","isOptionEqualToValue","onChange","onClose","onHighlightChange","onInputChange","onOpen","openProp","openOnFocus","readOnly","selectOnFocus","valueProp","id","useId","ignoreFocus","firstFocus","inputRef","anchorEl","setAnchorEl","React.useState","focusedItem","setFocusedItem","defaultHighlighted","highlightedIndexRef","initialInputValue","setValueState","useControlled","setInputValueState","focused","setFocused","resetInputValue","React.useCallback","event","newValue","reason","newInputValue","open","setOpenState","inputPristine","setInputPristine","inputValueIsSelectedValue","popupOpen","value2","previousProps","valueChange","listboxAvailable","focusItem","useEventCallback","itemToFocus","indexType","validOptionIndex","direction","nextFocus","nextFocusDisabled","setHighlightedIndex","prev","listboxNode","element","scrollBottom","elementBottom","changeHighlightedIndex","diff","nextIndex","maxIndex","newIndex","filteredOptionsChanged","getPreviousHighlightedOptionIndex","isSameValue","value1","label1","label2","val","previousHighlightedOption","syncHighlightedIndex","previousHighlightedOptionIndex","valueItem","currentOption","itemIndex","optionItem","handleListboxRef","node","setRef","handleOpen","handleClose","handleValue","details","i","isTouch","selectNewValue","reasonProp","origin","validItemIndex","handleFocusItem","nextItem","handleClear","handleKeyDown","other","disabled","handleFocus","handleBlur","handleInputChange","handleOptionMouseMove","handleOptionTouchStart","handleOptionClick","handleItemDelete","handleSingleItemDelete","handlePopupIndicator","handleMouseDown","handleClick","handleInputMouseDown","dirty","groupedOptions","acc","group","selected","getListSubheaderUtilityClass","slot","generateUtilityClass","generateUtilityClasses","useUtilityClasses","ownerState","classes","color","disableGutters","inset","disableSticky","slots","capitalize","composeClasses","ListSubheaderRoot","styled","styles","memoTheme","theme","ListSubheader","React.forwardRef","inProps","useDefaultProps","className","component","clsx","getAutocompleteUtilityClass","autocompleteClasses","_ClearIcon","_ArrowDropDownIcon","disablePortal","expanded","fullWidth","hasClearIcon","hasPopupIcon","inputFocused","size","AutocompleteRoot","inputClasses","inputBaseClasses","outlinedInputClasses","filledInputClasses","AutocompleteEndAdornment","AutocompleteClearIndicator","IconButton","AutocompletePopupIndicator","AutocompletePopper","Popper","AutocompletePaper","Paper","AutocompleteLoading","AutocompleteNoOptions","AutocompleteListbox","AutocompleteGroupLabel","AutocompleteGroupUl","Autocomplete","ChipPropsProp","clearIcon","ClearIcon","clearText","closeText","componentsProps","forcePopupIcon","getLimitTagsText","more","limitTags","ListboxComponentProp","ListboxPropsProp","loading","loadingText","noOptionsText","openText","PaperComponentProp","PopperComponentProp","popupIcon","ArrowDropDownIcon","renderGroupProp","renderInput","renderOptionProp","renderTags","slotProps","getRootProps","getInputProps","getInputLabelProps","getPopupIndicatorProps","getClearProps","getItemProps","getListboxProps","getOptionProps","otherListboxProps","externalForwardedProps","ListboxSlot","listboxProps","useSlot","PaperSlot","paperProps","PopperSlot","popperProps","startAdornment","getCustomizedItemProps","params","key","customItemProps","Chip","renderGroup","_jsxs","renderOption","props2","otherProps","renderListOption","optionProps","clearIndicatorSlotProps","popupIndicatorSlotProps","React.Fragment","option2","index2","getClients","page","search","url","Api","error","handleApiError","getPartners","createLoan","loanData","updateLoan","loanId","activateLoan","deactivateLoan","getLoans","getLoanById","deleteLoan","LoansTable","onViewDetails","onViewInstallments","setPage","useState","searchQuery","setSearchQuery","loanToDelete","setLoanToDelete","isDeleteModalOpen","setIsDeleteModalOpen","queryClient","useQueryClient","selectedLoanForMenu","setSelectedLoanForMenu","handleMenuOpen","loan","handleMenuClose","loansData","isLoading","useQuery","handleSearchChange","handleChangePage","newPage","handleDeleteLoan","notifySuccess","notifyError","handleActivateLoan","handleDeactivateLoan","handleViewInstallmentsClick","getStatusColor","status","getStatusText","getTypeText","type","jsxs","Box","jsx","InputBase","TableContainer","Table","TableHead","StyledTableRow","StyledTableCell","TableBody","CircularProgress","Typography","dayjs","MoreVert","TablePagination","from","to","count","DeleteModal","Menu","MenuItem","ListItemIcon","Visibility","Schedule","Delete","numberToArabicWords","num","ones","tens","teens","hundreds","result","millionsPart","thousandsPart","hundredsPart","tensPart","onesPart","getCurrentDates","now","hijriDate","LoanContractGenerator","React","clientData","templateContent","onContractGenerated","contractType","autoGenerate","contractHtml","setContractHtml","isGenerating","setIsGenerating","uploadPDFToServer","useCallback","pdfBlob","formData","filename","endpoint","response","generatePDF","htmlContent","contentToUse","previewContainer","resolve","container","html2pdf","generateContract","generatePdf","customLoanData","loanDataToUse","gregorianDate","finalDate","amount","amountInWords","filledTemplate","useEffect","LoanContractsPreview","debtAckHtml","promissoryNoteHtml","onSaveContracts","clientName","loanAmount","activeTab","setActiveTab","handleTabChange","handlePrint","contractElement","printWindow","contracts","Dialog","DialogTitle","CloseIcon","Tabs","Tab","DialogContent","contract","Divider","DialogActions","Button","Print","Download","Loans","navigate","useNavigate","selectedClient","setSelectedClient","selectedBank","setSelectedBank","selectedPartner","setSelectedPartner","banksSearchQuery","setBanksSearchQuery","partnersSearchQuery","setPartnersSearchQuery","clientsPage","setClientsPage","banksPage","setBanksPage","partnersPage","setPartnersPage","isAddClientOpen","setIsAddClientOpen","loanForm","setLoanForm","selectedLoan","setSelectedLoan","installments","setInstallments","isEditMode","setIsEditMode","isViewMode","setIsViewMode","generateContracts","setGenerateContracts","savedLoanData","setSavedLoanData","debtAckTemplate","setDebtAckTemplate","promissoryNoteTemplate","setPromissoryNoteTemplate","contractsGenerated","setContractsGenerated","previewOpen","setPreviewOpen","previewContracts","setPreviewContracts","isCreatingLoan","setIsCreatingLoan","debtAckGeneratorRef","useRef","promissoryNoteGeneratorRef","clientsData","isClientsLoading","banksData","isBanksLoading","getBanks","partnersData","isPartnersLoading","fetchContractTemplates","calculateInstallments","debtResponse","promissoryResponse","debouncedSearch","debounce","debouncedBanksSearch","debouncedPartnersSearch","handleBanksSearchChange","handlePartnersSearchChange","handleClientSelect","handleBankSelect","handlePartnerSelect","formatAmount","handleOpenPreview","previewLoanData","handleSaveContracts","interestRate","durationMonths","loanType","profit","total","repaymentCount","installmentAmount","principalPerInstallment","interestPerInstallment","calculatedInstallments","remainingBalance","dueDate","getSimulationSummary","totalInterest","sum","inst","totalAmount","handleCreateLoan","newLoan","handleContractGenerated","newCount","resetLoanForm","handleUpdateLoan","handleViewLoanDetails","formattedRepayments","repayment","currentInstallment","handleViewInstallments","handleEditLoan","field","rawValue","handleSaveLoan","simulationSummary","isFormValid","canEditLoan","isReadOnlyMode","Stack","Alert","e","Grid","TextField","Fragment","AddClient"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}