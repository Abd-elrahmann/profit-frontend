{"version":3,"file":"GeneralLedger-k85rAX6Q.js","sources":["../../node_modules/@mui/icons-material/esm/RestartAlt.js","../../src/components/modals/GeneralLedgerSearch.jsx","../../src/utilities/GeneralLedgerExporter.js","../../src/pages/generalLedger/GeneralLedger.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91\"\n}), 'RestartAlt');","import React, { useEffect, useState } from 'react';\nimport {\n  Box,\n  Button,\n  Typography,\n  Modal,\n  Autocomplete,\n  Stack,\n  TextField,\n  Chip,\n  CircularProgress,\n  Paper,\n} from '@mui/material';\nimport { useFormik } from 'formik';\nimport Api from '../../config/Api';\nimport { Search, Cancel, CheckCircle, RestartAlt } from '@mui/icons-material';\nimport { DatePicker } from '@mui/x-date-pickers';\nimport dayjs from 'dayjs';\n\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: { xs: '450px', sm: '600px', md: '700px', lg: '600px' },\n  bgcolor: 'background.paper',\n  border: '1px solid var(--primary)',\n  boxShadow: 24,\n  p: 4,\n  borderRadius: 3,\n};\n\n// API functions\nconst getAccounts = async (page = 1, searchQuery = '') => {\n  const params = new URLSearchParams();\n  if (searchQuery) {\n    params.append('search', searchQuery);\n  }\n  params.append('limit', '10');\n  \n  const response = await Api.get(`/api/accounts/all/${page}${params.toString() ? `?${params.toString()}` : ''}`);\n  return response.data;\n};\n\nconst searchAccounts = async (searchQuery) => {\n  const response = await Api.get(`/api/accounts/all/1?search=${encodeURIComponent(searchQuery)}&limit=10`);\n  return response.data;\n};\n\nconst GeneralLedgerSearch = ({ open, onClose, onSearch }) => {\n  const [accounts, setAccounts] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchInput, setSearchInput] = useState('');\n\n  // Fetch initial accounts\n  useEffect(() => {\n    const fetchInitialAccounts = async () => {\n      if (open) {\n        setIsLoading(true);\n        try {\n          const data = await getAccounts(1, '');\n          setAccounts(data.accounts || []);\n          setSearchResults(data.accounts || []);\n        } catch (error) {\n          console.error('Error fetching accounts:', error);\n          setAccounts([]);\n          setSearchResults([]);\n        } finally {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    fetchInitialAccounts();\n  }, [open]);\n\n  // Handle account search\n  useEffect(() => {\n    const searchAccountsData = async () => {\n      if (searchInput.trim().length > 2) {\n        setIsLoading(true);\n        try {\n          const results = await searchAccounts(searchInput);\n          setSearchResults(results.accounts || []);\n        } catch (error) {\n          console.error('Search error:', error);\n          setSearchResults([]);\n        } finally {\n          setIsLoading(false);\n        }\n      } else {\n        setSearchResults(accounts);\n      }\n    };\n\n    const timeoutId = setTimeout(searchAccountsData, 500);\n    return () => clearTimeout(timeoutId);\n  }, [searchInput, accounts]);\n\n  const formik = useFormik({\n    initialValues: {\n      account: null,\n      fromDate: null,\n      toDate: null,\n    },\n    onSubmit: (values) => {\n      onSearch({\n        account: values.account,\n        fromDate: values.fromDate ? values.fromDate.format('YYYY-MM-DD') : null,\n        toDate: values.toDate ? values.toDate.format('YYYY-MM-DD') : null,\n      });\n      onClose(); // Close modal after search\n    },\n  });\n\n  const handleReset = () => {\n    formik.resetForm();\n    setSearchInput('');\n  };\n\n  const handleAccountChange = (event, value) => {\n    formik.setFieldValue('account', value);\n  };\n\n  const handleInputChange = (event, value) => {\n    setSearchInput(value);\n  };\n\n  const options = searchInput.trim().length > 2 ? searchResults : accounts;\n\n  return (\n    <Modal \n      open={open} \n      onClose={onClose} \n      aria-labelledby=\"general-ledger-search-title\"\n    >\n      <Box sx={style}>\n        <Typography\n          id=\"general-ledger-search-title\"\n          variant=\"h6\"\n          component=\"h2\"\n          sx={{ \n            fontSize: '1.3rem', \n            fontWeight: '600', \n            marginBottom: '20px',\n            color: 'primary.main',\n            textAlign: 'center'\n          }}\n        >\n          بحث في دفتر الأستاذ\n        </Typography>\n\n        <form onSubmit={formik.handleSubmit}>\n          <Stack spacing={3}>\n            {/* Account Selection */}\n            <Autocomplete\n              id=\"account-autocomplete\"\n              options={options}\n              value={formik.values.account}\n              onChange={handleAccountChange}\n              onInputChange={handleInputChange}\n              getOptionLabel={(option) => `${option.code} - ${option.name}`}\n              renderOption={(props, option) => (\n                <Box component=\"li\" {...props} sx={{ py: 1 }}>\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', width: '100%' }}>\n                    <Box>\n                      <Typography variant=\"body1\" fontWeight=\"500\">\n                        {option.code} - {option.name}\n                      </Typography>\n                    </Box>\n                  </Box>\n                </Box>\n              )}\n              renderInput={(params) => (\n                <TextField\n                  {...params}\n                  label=\"اختر الحساب\"\n                  placeholder=\"ابحث باسم الحساب أو الكود...\"\n                  variant=\"outlined\"\n                  required\n                  error={formik.touched.account && !formik.values.account}\n                  helperText={\n                    formik.touched.account && !formik.values.account\n                      ? 'الحساب مطلوب'\n                      : ''\n                  }\n                  InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                      <>\n                        {isLoading ? <CircularProgress size={20} /> : null}\n                        {params.InputProps.endAdornment}\n                      </>\n                    ),\n                  }}\n                />\n              )}\n              loading={isLoading}\n              noOptionsText=\"لا توجد حسابات مطابقة\"\n            />\n\n            {/* Date Range */}\n            <DatePicker\n              label=\"من تاريخ\"\n              value={formik.values.fromDate}\n              onChange={(newValue) => formik.setFieldValue('fromDate', newValue)}\n              maxDate={formik.values.toDate || dayjs()}\n              renderInput={(params) => (\n                <TextField \n                  {...params} \n                  fullWidth \n                  variant=\"outlined\" \n                />\n              )}\n            />\n\n            <DatePicker\n              label=\"إلى تاريخ\"\n              value={formik.values.toDate}\n              onChange={(newValue) => formik.setFieldValue('toDate', newValue)}\n              minDate={formik.values.fromDate || dayjs().startOf('month')}\n              maxDate={dayjs()}\n              renderInput={(params) => (\n                <TextField \n                  {...params} \n                  fullWidth \n                  variant=\"outlined\" \n                />\n              )}\n            />\n\n            {/* Action Buttons */}\n            <Stack direction=\"row\" gap={2}>\n              <Button \n                variant=\"outlined\" \n                fullWidth \n                onClick={handleReset}\n                startIcon={<RestartAlt sx={{marginLeft: '10px'}} />}\n                sx={{\n                  color: 'text.secondary',\n                  borderColor: 'text.secondary',\n                  '&:hover': {\n                    borderColor: 'text.primary',\n                    bgcolor: 'action.hover'\n                  }\n                }}\n              >\n                إعادة تعيين\n              </Button>\n              <Button \n                variant=\"contained\" \n                fullWidth \n                type=\"submit\" \n                disabled={!formik.values.account}\n                startIcon={<Search sx={{marginLeft: '10px'}} />}\n                sx={{\n                  bgcolor: 'primary.main',\n                  '&:hover': { bgcolor: 'primary.dark' },\n                  minWidth: 120,\n                  '&:disabled': {\n                    bgcolor: 'action.disabled',\n                    color: 'text.disabled'\n                  }\n                }}\n              >\n                بحث\n              </Button>\n            </Stack>\n          </Stack>\n        </form>\n      </Box>\n    </Modal>\n  );\n};\n\n\n\nexport default GeneralLedgerSearch;","import { jsPDF } from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\nimport { saveAs } from 'file-saver';\r\nimport dayjs from 'dayjs';\r\n\r\n// Register Arabic fonts\r\nconst registerArabicFonts = (doc) => {\r\n  try {\r\n    doc.addFont('/assets/fonts/Amiri-Regular.ttf', 'Amiri', 'normal');\r\n    doc.addFont('/assets/fonts/Amiri-Bold.ttf', 'Amiri', 'bold');\r\n  } catch (error) {\r\n    console.warn('Arabic fonts not found, using default fonts', error);\r\n  }\r\n};\r\n\r\nexport const exportGeneralLedgerToPDF = async (ledgerData, account, searchParams) => {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      // Create new PDF document\r\n      const doc = new jsPDF();\r\n      \r\n      // Register Arabic fonts\r\n      registerArabicFonts(doc);\r\n      \r\n      // Set document properties\r\n      doc.setProperties({\r\n        title: `دفتر الأستاذ - ${account.name}`,\r\n        subject: 'دفتر الأستاذ العام',\r\n        author: 'نظام إدارة السلف',\r\n        keywords: 'دفتر, أستاذ, محاسبة, سلف',\r\n        creator: 'نظام إدارة السلف'\r\n      });\r\n\r\n      // Set Arabic as primary font\r\n      doc.setFont('Amiri', 'normal');\r\n      doc.setFontSize(16);\r\n      \r\n      // Title\r\n      doc.text('دفتر الأستاذ العام', 105, 20, { align: 'center' });\r\n      doc.setFontSize(12);\r\n      doc.text(`الحساب: ${account.name} (${account.code})`, 105, 30, { align: 'center' });\r\n      \r\n      // Date range\r\n      if (searchParams.fromDate || searchParams.toDate) {\r\n        const fromDate = searchParams.fromDate ? dayjs(searchParams.fromDate).format('DD/MM/YYYY') : 'بداية';\r\n        const toDate = searchParams.toDate ? dayjs(searchParams.toDate).format('DD/MM/YYYY') : 'نهاية';\r\n        doc.text(`الفترة: من ${fromDate} إلى ${toDate}`, 105, 37, { align: 'center' });\r\n      }\r\n      \r\n      // Summary section\r\n      doc.setFontSize(10);\r\n      let yPosition = 50;\r\n      \r\n      doc.text(`الرصيد الافتتاحي: ${ledgerData.openingBalance?.toLocaleString('en-US') || 0} ريال`, 14, yPosition);\r\n      yPosition += 7;\r\n      doc.text(`إجمالي المدين: ${ledgerData.totalDebit?.toLocaleString('en-US') || 0} ريال`, 14, yPosition);\r\n      yPosition += 7;\r\n      doc.text(`إجمالي الدائن: ${ledgerData.totalCredit?.toLocaleString('en-US') || 0} ريال`, 14, yPosition);\r\n      yPosition += 7;\r\n      doc.text(`الرصيد الختامي: ${ledgerData.closingBalance?.toLocaleString('en-US') || 0} ريال`, 14, yPosition);\r\n      yPosition += 7;\r\n      doc.text(`عدد القيود: ${ledgerData.journals?.length || 0}`, 14, yPosition);\r\n      \r\n      yPosition += 15;\r\n      \r\n      // Prepare table data (RTL order)\r\n      const tableData = ledgerData.journals?.map(journal => [\r\n        journal.balance.toLocaleString('en-US') + ' ريال',\r\n        journal.credit > 0 ? journal.credit.toLocaleString('en-US') + ' ريال' : '0',\r\n        journal.debit > 0 ? journal.debit.toLocaleString('en-US') + ' ريال' : '0',\r\n        journal.description || '-',\r\n        journal.reference || '-',\r\n        dayjs(journal.date).format('DD/MM/YYYY HH:mm')\r\n      ]) || [];\r\n      \r\n      // Table headers (RTL order)\r\n      const headers = [\r\n        ['الرصيد', 'دائن', 'مدين', 'الوصف', 'المرجع', 'التاريخ']\r\n      ];\r\n      \r\n      // Create table with RTL support\r\n      autoTable(doc, {\r\n        startY: yPosition,\r\n        head: headers,\r\n        body: tableData,\r\n        theme: 'grid',\r\n        tableLineColor: [0, 0, 0],\r\n        tableLineWidth: 0.1,\r\n        styles: {\r\n          font: 'Amiri',\r\n          fontStyle: 'normal',\r\n          fontSize: 7,\r\n          cellPadding: 2,\r\n          lineColor: [0, 0, 0],\r\n          lineWidth: 0.1,\r\n          halign: 'center'\r\n        },\r\n        headStyles: {\r\n          fillColor: [13, 64, 165],\r\n          textColor: 255,\r\n          fontStyle: 'bold',\r\n          fontSize: 8,\r\n          halign: 'center'\r\n        },\r\n        bodyStyles: {\r\n          halign: 'center'\r\n        },\r\n        columnStyles: {\r\n          0: { cellWidth: 25 }, // الرصيد\r\n          1: { cellWidth: 20 }, // دائن\r\n          2: { cellWidth: 20 }, // مدين\r\n          3: { cellWidth: 50 }, // الوصف\r\n          4: { cellWidth: 25 }, // المرجع\r\n          5: { cellWidth: 25 }  // التاريخ\r\n        },\r\n        margin: { top: yPosition, right: 10, left: 10 },\r\n        tableWidth: 'wrap',\r\n        horizontalPageBreak: true,\r\n        pageBreak: 'auto'\r\n      });\r\n      \r\n      // Footer\r\n      const pageCount = doc.internal.getNumberOfPages();\r\n      for (let i = 1; i <= pageCount; i++) {\r\n        doc.setPage(i);\r\n        doc.setFontSize(8);\r\n        doc.text(\r\n          `صفحة ${i} من ${pageCount}`,\r\n          doc.internal.pageSize.width / 2,\r\n          doc.internal.pageSize.height - 10,\r\n          { align: 'center' }\r\n        );\r\n        doc.text(\r\n          `تم الإنشاء في: ${new Date().toLocaleDateString('ar-SA')}`,\r\n          doc.internal.pageSize.width - 10,\r\n          doc.internal.pageSize.height - 10,\r\n          { align: 'left' }\r\n        );\r\n      }\r\n      \r\n      // Save PDF\r\n      const fileName = `دفتر_الأستاذ_${account.name}_${dayjs().format('YYYY-MM-DD')}.pdf`;\r\n      doc.save(fileName);\r\n      resolve();\r\n    } catch (error) {\r\n      console.error('PDF export error:', error.message);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const exportGeneralLedgerToExcel = async (ledgerData, account, searchParams) => {\r\n  try {\r\n    // Create workbook\r\n    const workbook = XLSX.utils.book_new();\r\n    \r\n    // Summary data\r\n    const summaryData = [\r\n      ['دفتر الأستاذ العام'],\r\n      [`الحساب: ${account.name}`],\r\n      [`كود الحساب: ${account.code}`],\r\n      [`نوع الحساب: ${getAccountTypeArabic(account.type)}`],\r\n      [''],\r\n      ['الرصيد الافتتاحي', ledgerData.openingBalance || 0],\r\n      ['إجمالي المدين', ledgerData.totalDebit || 0],\r\n      ['إجمالي الدائن', ledgerData.totalCredit || 0],\r\n      ['الرصيد الختامي', ledgerData.closingBalance || 0],\r\n      ['عدد القيود', ledgerData.journals?.length || 0],\r\n      ['']\r\n    ];\r\n    \r\n    // Add date range if exists\r\n    if (searchParams.fromDate || searchParams.toDate) {\r\n      const fromDate = searchParams.fromDate ? dayjs(searchParams.fromDate).format('DD/MM/YYYY') : 'بداية';\r\n      const toDate = searchParams.toDate ? dayjs(searchParams.toDate).format('DD/MM/YYYY') : 'نهاية';\r\n      summaryData.splice(4, 0, [`الفترة: من ${fromDate} إلى ${toDate}`]);\r\n    }\r\n    \r\n    // Journals data\r\n    const journalsData = ledgerData.journals?.map(journal => ({\r\n      'التاريخ': dayjs(journal.date).format('DD/MM/YYYY HH:mm'),\r\n      'المرجع': journal.reference || '-',\r\n      'الوصف': journal.description || '-',\r\n      'مدين': journal.debit > 0 ? journal.debit : 0,\r\n      'دائن': journal.credit > 0 ? journal.credit : 0,\r\n      'الرصيد': journal.balance,\r\n      'الحالة': getJournalStatusArabic(journal.status),\r\n      'المرحل بواسطة': journal.postedBy || 'غير محدد'\r\n    })) || [];\r\n    \r\n    // Create summary sheet\r\n    const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\r\n    \r\n    // Create journals sheet\r\n    const journalsSheet = XLSX.utils.json_to_sheet(journalsData);\r\n    \r\n    // Auto-size columns for better Excel display\r\n    const wscols = [\r\n      { wch: 20 }, // التاريخ\r\n      { wch: 15 }, // المرجع\r\n      { wch: 40 }, // الوصف\r\n      { wch: 12 }, // مدين\r\n      { wch: 12 }, // دائن\r\n      { wch: 15 }, // الرصيد\r\n      { wch: 10 }, // الحالة\r\n      { wch: 15 }  // المرحل بواسطة\r\n    ];\r\n    journalsSheet['!cols'] = wscols;\r\n    \r\n    // Add sheets to workbook\r\n    XLSX.utils.book_append_sheet(workbook, summarySheet, 'ملخص');\r\n    XLSX.utils.book_append_sheet(workbook, journalsSheet, 'القيود');\r\n    \r\n    // Generate Excel file\r\n    const excelBuffer = XLSX.write(workbook, { \r\n      bookType: 'xlsx', \r\n      type: 'array',\r\n      bookSST: false \r\n    });\r\n    \r\n    const blob = new Blob([excelBuffer], { \r\n      type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' \r\n    });\r\n    \r\n    const fileName = `دفتر_الأستاذ_${account.name}_${dayjs().format('YYYY-MM-DD')}.xlsx`;\r\n    saveAs(blob, fileName);\r\n    \r\n  } catch (error) {\r\n    console.error('Excel export error:', error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getJournalStatusArabic = (status) => {\r\n  const statusMap = {\r\n    'POSTED': 'مرحل',\r\n    'DRAFT': 'مسودة',\r\n    'PENDING': 'قيد الانتظار',\r\n    'CANCELLED': 'ملغي'\r\n  };\r\n  return statusMap[status] || status;\r\n};\r\n\r\nconst getAccountTypeArabic = (type) => {\r\n  const typeMap = {\r\n    'ASSET': 'أصول',\r\n    'LIABILITY': 'خصوم',\r\n    'EQUITY': 'حقوق ملكية',\r\n    'REVENUE': 'إيرادات',\r\n    'EXPENSE': 'مصروفات'\r\n  };\r\n  return typeMap[type] || type;\r\n};","import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  Table,\r\n  TableContainer,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Chip,\r\n  IconButton,\r\n  CircularProgress,\r\n  Button,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  Alert,\r\n} from '@mui/material';\r\nimport {\r\n  PictureAsPdf,\r\n  TableChart,\r\n  Search,\r\n  Download,\r\n  Print,\r\n  Share,\r\n} from '@mui/icons-material';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport Api from '../../config/Api';\r\nimport dayjs from 'dayjs';\r\nimport { StyledTableCell, StyledTableRow } from '../../components/layouts/tableLayout';\r\nimport GeneralLedgerSearch from '../../components/modals/GeneralLedgerSearch';\r\nimport { exportGeneralLedgerToPDF, exportGeneralLedgerToExcel } from '../../utilities/GeneralLedgerExporter';\r\nimport { notifySuccess, notifyError } from '../../utilities/toastify';\r\n\r\n// API function to get account details with journals\r\nconst getAccountLedger = async (accountId, fromDate = null, toDate = null) => {\r\n  const params = new URLSearchParams();\r\n  if (fromDate) {\r\n    params.append('fromDate', fromDate);\r\n  }\r\n  if (toDate) {\r\n    params.append('toDate', toDate);\r\n  }\r\n  \r\n  const queryString = params.toString();\r\n  const response = await Api.get(`/api/accounts/${accountId}${queryString ? `?${queryString}` : ''}`);\r\n  return response.data;\r\n};\r\n\r\nexport default function GeneralLedger() {\r\n  const [searchModalOpen, setSearchModalOpen] = useState(false);\r\n  const [searchParams, setSearchParams] = useState(null);\r\n  const [exportLoading, setExportLoading] = useState({ pdf: false, excel: false });\r\n\r\n  // Query for account ledger data\r\n  const { data: ledgerData, isLoading: isLoadingLedger, error } = useQuery({\r\n    queryKey: ['account-ledger', searchParams?.account?.id, searchParams?.fromDate, searchParams?.toDate],\r\n    queryFn: () => \r\n      searchParams ? \r\n      getAccountLedger(searchParams.account.id, searchParams.fromDate, searchParams.toDate) : \r\n      null,\r\n    enabled: !!searchParams,\r\n    retry: 1,\r\n  });\r\n\r\n  const handleSearch = (params) => {\r\n    setSearchParams(params);\r\n  };\r\n\r\n  const handleExportPDF = async () => {\r\n    if (!ledgerData || !searchParams) return;\r\n    \r\n    setExportLoading(prev => ({ ...prev, pdf: true }));\r\n    try {\r\n      await exportGeneralLedgerToPDF(ledgerData, searchParams.account, searchParams);\r\n      notifySuccess(\"تم تصدير دفتر الأستاذ بصيغة PDF بنجاح\");\r\n    } catch (error) {\r\n      notifyError(\"حدث خطأ أثناء تصدير PDF\");\r\n      console.error(\"PDF Export Error:\", error);\r\n    } finally {\r\n      setExportLoading(prev => ({ ...prev, pdf: false }));\r\n    }\r\n  };\r\n\r\n  const handleExportExcel = async () => {\r\n    if (!ledgerData || !searchParams) return;\r\n    \r\n    setExportLoading(prev => ({ ...prev, excel: true }));\r\n    try {\r\n      await exportGeneralLedgerToExcel(ledgerData, searchParams.account, searchParams);\r\n      notifySuccess(\"تم تصدير دفتر الأستاذ بصيغة Excel بنجاح\");\r\n    } catch (error) {\r\n      notifyError(\"حدث خطأ أثناء تصدير Excel\");\r\n      console.error(\"Excel Export Error:\", error);\r\n    } finally {\r\n      setExportLoading(prev => ({ ...prev, excel: false }));\r\n    }\r\n  };\r\n\r\n  // Calculate summary statistics\r\n  const totalDebit = ledgerData?.journals?.reduce((sum, journal) => sum + (journal.debit || 0), 0) || 0;\r\n  const totalCredit = ledgerData?.journals?.reduce((sum, journal) => sum + (journal.credit || 0), 0) || 0;\r\n  const closingBalance = ledgerData?.account?.balance || 0;\r\n\r\n  return (\r\n    <Box sx={{ minHeight: \"100vh\" }}>\r\n      <Helmet>\r\n        <title>دفتر الأستاذ العام</title>\r\n        <meta name=\"description\" content=\"دفتر الأستاذ العام للمحاسبة\" />\r\n      </Helmet>\r\n\r\n      {/* Toolbar */}\r\n      <Box sx={{ p: 3, pb: 0 }}>\r\n        <Paper sx={{ p: 2, borderRadius: 2, boxShadow: '0 2px 12px rgba(0,0,0,0.1)' }}>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            {/* Export Buttons */}\r\n            <Box sx={{ display: 'flex', gap: 2 }}>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={<PictureAsPdf />}\r\n                onClick={handleExportPDF}\r\n                disabled={exportLoading.pdf || !ledgerData}\r\n                sx={{\r\n                  borderColor: '#d32f2f',\r\n                  color: '#d32f2f',\r\n                  '&:hover': {\r\n                    borderColor: '#b71c1c',\r\n                    backgroundColor: 'rgba(211, 47, 47, 0.04)'\r\n                  }\r\n                }}\r\n              >\r\n                {exportLoading.pdf ? (\r\n                  <CircularProgress size={20} sx={{ color: '#d32f2f' }} />\r\n                ) : (\r\n                  'PDF'\r\n                )}\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={<TableChart />}\r\n                onClick={handleExportExcel}\r\n                disabled={exportLoading.excel || !ledgerData}\r\n                sx={{\r\n                  borderColor: '#2e7d32',\r\n                  color: '#2e7d32',\r\n                  '&:hover': {\r\n                    borderColor: '#1b5e20',\r\n                    backgroundColor: 'rgba(46, 125, 50, 0.04)'\r\n                  }\r\n                }}\r\n              >\r\n                {exportLoading.excel ? (\r\n                  <CircularProgress size={20} sx={{ color: '#2e7d32' }} />\r\n                ) : (\r\n                  'Excel'\r\n                )}\r\n              </Button>\r\n            </Box>\r\n\r\n            {/* Search Button */}\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<Search sx={{marginLeft: '10px'}} />}\r\n              onClick={() => setSearchModalOpen(true)}\r\n              sx={{\r\n                bgcolor: 'primary.main',\r\n                '&:hover': { bgcolor: 'primary.dark' },\r\n                minWidth: 120\r\n              }}\r\n            >\r\n              بحث\r\n            </Button>\r\n          </Box>\r\n\r\n          {/* Selected Account Info */}\r\n          {searchParams && (\r\n            <Box sx={{ mt: 2, p: 2, borderRadius: 1 }}>\r\n              <Grid container spacing={2} alignItems=\"center\">\r\n                <Grid item xs={12} md={6}>\r\n                  <Typography variant=\"h6\" fontWeight=\"bold\" color=\"primary.main\">\r\n                    {searchParams.account.name}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {searchParams.account.code} - {getAccountTypeArabic(searchParams.account.type)}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <Box sx={{ display: 'flex', gap: 2, justifyContent: 'flex-end' }}>\r\n                    <Chip \r\n                      label={`من: ${searchParams.fromDate ? dayjs(searchParams.fromDate).format('DD/MM/YYYY') : 'البداية'}`}\r\n                      variant=\"outlined\"\r\n                    />\r\n                    <Chip \r\n                      label={`إلى: ${searchParams.toDate ? dayjs(searchParams.toDate).format('DD/MM/YYYY') : 'النهاية'}`}\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n      </Box>\r\n\r\n      {/* Main Content */}\r\n      <Box sx={{ p: 3 }}>\r\n        {!searchParams ? (\r\n          // Show table header instead of empty state\r\n          <Paper sx={{ borderRadius: 2, boxShadow: '0 2px 12px rgba(0,0,0,0.1)', overflow: 'hidden' }}>\r\n            <TableContainer>\r\n              <Table>\r\n                <TableHead>\r\n                  <StyledTableRow>\r\n                    <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '150px' }}>\r\n                      التاريخ\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                      المرجع\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: '200px' }}>\r\n                      الوصف\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                      مدين\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                      دائن\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                      الرصيد\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '100px' }}>\r\n                      الحالة\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  <StyledTableRow>\r\n                    <StyledTableCell colSpan={7} align=\"center\" sx={{ py: 8 }}>\r\n                      <Search sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\r\n                      <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                        دفتر الأستاذ العام\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        اختر حساباً من خلال زر البحث لعرض القيود المحاسبية\r\n                      </Typography>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </Paper>\r\n        ) : isLoadingLedger ? (\r\n          // Loading State\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', p: 6 }}>\r\n            <CircularProgress size={60} />\r\n          </Box>\r\n        ) : error ? (\r\n          // Error State\r\n          <Alert severity=\"error\" sx={{ borderRadius: 2 }}>\r\n            حدث خطأ في تحميل بيانات الحساب: {error.message}\r\n          </Alert>\r\n        ) : (\r\n          // Data State\r\n          <Box>\r\n            {/* Summary Cards */}\r\n            <Grid container spacing={3} sx={{ mb: 3 }}>\r\n              <Grid item xs={12} md={3}>\r\n                <Card sx={{ borderRadius: 2, boxShadow: '0 2px 12px rgba(0,0,0,0.1)' }}>\r\n                  <CardContent sx={{ textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\" color=\"primary.main\">\r\n                      {totalDebit.toLocaleString('en-US')}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      إجمالي المدين\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={3}>\r\n                <Card sx={{ borderRadius: 2, boxShadow: '0 2px 12px rgba(0,0,0,0.1)' }}>\r\n                  <CardContent sx={{ textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\" color=\"success.main\">\r\n                      {totalCredit.toLocaleString('en-US')}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      إجمالي الدائن\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={3}>\r\n                <Card sx={{ borderRadius: 2, boxShadow: '0 2px 12px rgba(0,0,0,0.1)' }}>\r\n                  <CardContent sx={{ textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\" color=\"warning.main\">\r\n                      {ledgerData.journals?.length || 0}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      عدد القيود\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={3}>\r\n                <Card sx={{ borderRadius: 2, boxShadow: '0 2px 12px rgba(0,0,0,0.1)' }}>\r\n                  <CardContent sx={{ textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\" \r\n                      color={closingBalance >= 0 ? 'primary.main' : 'error.main'}>\r\n                      {closingBalance.toLocaleString('en-US')}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      الرصيد الختامي\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* Journals Table */}\r\n            <Paper sx={{ borderRadius: 2, boxShadow: '0 2px 12px rgba(0,0,0,0.1)', overflow: 'hidden' }}>\r\n              <TableContainer>\r\n                <Table>\r\n                  <TableHead>\r\n                    <StyledTableRow>\r\n                      <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '150px' }}>\r\n                        التاريخ\r\n                      </StyledTableCell>\r\n                      <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                        المرجع\r\n                      </StyledTableCell>\r\n                      <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', minWidth: '200px' }}>\r\n                        الوصف\r\n                      </StyledTableCell>\r\n                      <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                        مدين\r\n                      </StyledTableCell>\r\n                      <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                        دائن\r\n                      </StyledTableCell>\r\n                      <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '120px' }}>\r\n                        الرصيد\r\n                      </StyledTableCell>\r\n                      <StyledTableCell align=\"center\" sx={{ fontWeight: 'bold', width: '100px' }}>\r\n                        الحالة\r\n                      </StyledTableCell>\r\n                    </StyledTableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {ledgerData.journals?.map((journal) => (\r\n                      <StyledTableRow key={journal.id} hover>\r\n                        <StyledTableCell align=\"center\">\r\n                          <Typography variant=\"body2\">\r\n                            {dayjs(journal.date).format('DD/MM/YYYY')}\r\n                          </Typography>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            {dayjs(journal.date).format('HH:mm')}\r\n                          </Typography>\r\n                        </StyledTableCell>\r\n                        <StyledTableCell align=\"center\">\r\n                          <Typography variant=\"body2\" fontWeight=\"500\" color=\"primary\">\r\n                            {journal.reference}\r\n                          </Typography>\r\n                        </StyledTableCell>\r\n                        <StyledTableCell align=\"center\">\r\n                          <Typography variant=\"body2\" sx={{ mb: 0.5 }}>\r\n                            {journal.description}\r\n                          </Typography>\r\n                          {journal.postedBy && (\r\n                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                              بواسطة: {journal.postedBy}\r\n                            </Typography>\r\n                          )}\r\n                        </StyledTableCell>\r\n                        <StyledTableCell align=\"center\">\r\n                          {journal.debit > 0 ? (\r\n                            <Typography variant=\"body2\" fontWeight=\"bold\" color=\"success.main\">\r\n                              {journal.debit.toLocaleString('en-US')}\r\n                            </Typography>\r\n                          ) : (\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              0\r\n                            </Typography>\r\n                          )}\r\n                        </StyledTableCell>\r\n                        <StyledTableCell align=\"center\">\r\n                          {journal.credit > 0 ? (\r\n                            <Typography variant=\"body2\" fontWeight=\"bold\" color=\"error.main\">\r\n                              {journal.credit.toLocaleString('en-US')}\r\n                            </Typography>\r\n                          ) : (\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              0\r\n                            </Typography>\r\n                          )}\r\n                        </StyledTableCell>\r\n                        <StyledTableCell align=\"center\">\r\n                          <Typography variant=\"body2\" fontWeight=\"bold\"\r\n                            color={journal.balance >= 0 ? 'primary.main' : 'error.main'}>\r\n                            {journal.balance.toLocaleString('en-US')}\r\n                          </Typography>\r\n                        </StyledTableCell>\r\n                        <StyledTableCell align=\"center\">\r\n                          <Chip \r\n                            label={journal.status === 'POSTED' ? 'مرحل' : 'مسودة'} \r\n                            size=\"small\"\r\n                            color={journal.status === 'POSTED' ? 'success' : 'default'}\r\n                            variant=\"outlined\"\r\n                            sx={{ fontWeight: '500' }}\r\n                          />\r\n                        </StyledTableCell>\r\n                      </StyledTableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n\r\n              {(!ledgerData.journals || ledgerData.journals.length === 0) && (\r\n                <Box sx={{ textAlign: 'center', py: 6 }}>\r\n                  <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                    لا توجد قيود في الفترة المحددة\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    لم يتم تسجيل أي قيود للحساب في الفترة المحددة\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Paper>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Search Modal */}\r\n      <GeneralLedgerSearch\r\n        open={searchModalOpen}\r\n        onClose={() => setSearchModalOpen(false)}\r\n        onSearch={handleSearch}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst getAccountTypeArabic = (type) => {\r\n  const typeMap = {\r\n    'ASSET': 'أصول',\r\n    'LIABILITY': 'خصوم',\r\n    'EQUITY': 'حقوق ملكية',\r\n    'REVENUE': 'إيرادات',\r\n    'EXPENSE': 'مصروفات'\r\n  };\r\n  return typeMap[type] || type;\r\n};"],"names":["RestartAlt","createSvgIcon","_jsx","style","getAccounts","page","searchQuery","params","Api","searchAccounts","GeneralLedgerSearch","open","onClose","onSearch","accounts","setAccounts","useState","searchResults","setSearchResults","isLoading","setIsLoading","searchInput","setSearchInput","useEffect","data","error","timeoutId","results","formik","useFormik","values","handleReset","handleAccountChange","event","value","handleInputChange","options","jsx","Modal","jsxs","Box","Typography","Stack","Autocomplete","option","props","TextField","Fragment","CircularProgress","DatePicker","newValue","dayjs","Button","Search","registerArabicFonts","doc","exportGeneralLedgerToPDF","ledgerData","account","searchParams","resolve","reject","jsPDF","fromDate","toDate","yPosition","tableData","journal","autoTable","pageCount","i","fileName","exportGeneralLedgerToExcel","workbook","XLSX.utils","summaryData","getAccountTypeArabic","journalsData","getJournalStatusArabic","summarySheet","journalsSheet","wscols","excelBuffer","XLSX.write","blob","saveAs","status","type","getAccountLedger","accountId","queryString","GeneralLedger","searchModalOpen","setSearchModalOpen","setSearchParams","exportLoading","setExportLoading","isLoadingLedger","useQuery","handleSearch","handleExportPDF","prev","notifySuccess","notifyError","handleExportExcel","totalDebit","sum","totalCredit","closingBalance","Helmet","Paper","PictureAsPdf","TableChart","Grid","Chip","Alert","Card","CardContent","TableContainer","Table","TableHead","StyledTableRow","StyledTableCell","TableBody"],"mappings":"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","x_google_ignoreList":[0]}