{"version":3,"file":"Journals-VAjvZN3H.js","sources":["../../node_modules/@mui/icons-material/esm/Cancel.js","../../src/pages/Journals/journalsApi.js","../../src/components/modals/JournalTable.jsx","../../src/pages/Journals/Journals.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z\"\n}), 'Cancel');","import Api, { handleApiError } from '../../config/Api';\n\n// Get all journals with pagination\nexport const getJournals = async (page = 1, search = '') => {\n  try {\n    const url = search \n      ? `/api/journals/all/${page}?search=${encodeURIComponent(search)}`\n      : `/api/journals/all/${page}`;\n    const response = await Api.get(url);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Get specific journal by ID\nexport const getJournalById = async (journalId) => {\n  try {\n    const response = await Api.get(`/api/journals/${journalId}`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Update journal\nexport const updateJournal = async (journalId, journalData) => {\n  try {\n    const response = await Api.patch(`/api/journals/${journalId}`, journalData);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Delete journal\nexport const deleteJournal = async (journalId) => {\n  try {\n    const response = await Api.delete(`/api/journals/${journalId}`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Post journal\nexport const postJournal = async (journalId) => {\n  try {\n    const response = await Api.post(`/api/journals/${journalId}/post`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};\n\n// Unpost journal\nexport const unpostJournal = async (journalId) => {\n  try {\n    const response = await Api.post(`/api/journals/${journalId}/unpost`);\n    return response.data;\n  } catch (error) {\n    handleApiError(error);\n    throw error;\n  }\n};","import React, { useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  IconButton,\r\n  Chip,\r\n  Stack,\r\n  Typography,\r\n  CircularProgress,\r\n  InputBase,\r\n} from \"@mui/material\";\r\nimport { Visibility } from \"@mui/icons-material\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { getJournals } from \"../../pages/Journals/journalsApi\";\r\nimport { StyledTableCell, StyledTableRow } from \"../layouts/tableLayout\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst JournalTable = ({ onViewDetails }) => {\r\n  const [page, setPage] = useState(1);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const { data: journalsData, isLoading } = useQuery({\r\n    queryKey: [\"journals\", page, searchQuery],\r\n    queryFn: () => getJournals(page, searchQuery),\r\n  });\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearchQuery(event.target.value);\r\n    setPage(1);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage + 1);\r\n  };\r\n\r\n  // Journal Type Arabic translations\r\n  const getJournalTypeText = (type) => {\r\n    switch (type) {\r\n      case \"GENERAL\":\r\n        return \"عام\";\r\n      case \"OPENING\":\r\n        return \"افتتاحي\";\r\n      case \"CLOSING\":\r\n        return \"ختامي\";\r\n      case \"ADJUSTMENT\":\r\n        return \"تسوية\";\r\n      default:\r\n        return type;\r\n    }\r\n  };\r\n\r\n  // Journal Source Type Arabic translations\r\n  const getJournalSourceTypeText = (sourceType) => {\r\n    switch (sourceType) {\r\n      case \"LOAN\":\r\n        return \"سلفة\";\r\n      case \"REPAYMENT\":\r\n        return \"سداد\";\r\n      case \"PARTNER\":\r\n        return \"شريك\";\r\n      case \"PERIOD_CLOSING\":\r\n        return \"إقفال فترة\";\r\n      case \"PARTNER_TRANSACTION_WITHDRAWAL\":\r\n        return \"سحب مالي لشريك\";\r\n      case \"PARTNER_TRANSACTION_DEPOSIT\":\r\n        return \"إيداع مالي لشريك\";\r\n      case \"OTHER\":\r\n        return \"أخرى\";\r\n      default:\r\n        return sourceType || \"-\";\r\n    }\r\n  };\r\n\r\n  // Journal Status Arabic translations\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case \"DRAFT\":\r\n        return \"warning\";\r\n      case \"POSTED\":\r\n        return \"success\";\r\n      case \"CANCELLED\":\r\n        return \"error\";\r\n      default:\r\n        return \"default\";\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    switch (status) {\r\n      case \"DRAFT\":\r\n        return \"مسودة\";\r\n      case \"POSTED\":\r\n        return \"معتمد\";\r\n      case \"CANCELLED\":\r\n        return \"ملغي\";\r\n      default:\r\n        return status;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      {/* Search Bar */}\r\n      <Box\r\n        sx={{\r\n          p: 2,\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <InputBase\r\n          placeholder=\"ابحث برقم القيد أو الوصف...\"\r\n          value={searchQuery}\r\n          onChange={handleSearchChange}\r\n          sx={{\r\n            width: \"280px\",\r\n            borderRadius: \"6px\",\r\n            p: 1,\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      {/* Table */}\r\n      <Paper sx={{ flex: 1, width: \"100%\", overflow: \"hidden\" }}>\r\n        <TableContainer sx={{ height: \"100%\", width: \"100%\" }}>\r\n          <Table stickyHeader sx={{ width: \"100%\" }}>\r\n            <TableHead>\r\n              <StyledTableRow>\r\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                  رقم القيد\r\n                </StyledTableCell>\r\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                  النوع\r\n                </StyledTableCell>\r\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                  الحالة\r\n                </StyledTableCell>\r\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                  المصدر\r\n                </StyledTableCell>\r\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                  المعتمد بواسطة\r\n                </StyledTableCell>\r\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                  تاريخ الإنشاء\r\n                </StyledTableCell>\r\n                <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                  الإجراءات\r\n                </StyledTableCell>\r\n              </StyledTableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {isLoading ? (\r\n                <StyledTableRow>\r\n                  <StyledTableCell colSpan={8} align=\"center\">\r\n                    <CircularProgress size={20} />\r\n                  </StyledTableCell>\r\n                </StyledTableRow>\r\n              ) : journalsData?.journals?.length === 0 ? (\r\n                <StyledTableRow>\r\n                  <StyledTableCell colSpan={8} align=\"center\">\r\n                    <Typography>لا توجد قيود</Typography>\r\n                  </StyledTableCell>\r\n                </StyledTableRow>\r\n              ) : (\r\n                journalsData?.journals?.map((journal) => (\r\n                  <StyledTableRow \r\n                    key={journal.id} \r\n                    hover\r\n                    onClick={() => onViewDetails(journal.id)}\r\n                    sx={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <StyledTableCell align=\"center\">\r\n                      {journal.reference}\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                      {getJournalTypeText(journal.type)}\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                      <Chip\r\n                        label={getStatusText(journal.status)}\r\n                        color={getStatusColor(journal.status)}\r\n                        size=\"small\"\r\n                      />\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                      {getJournalSourceTypeText(journal.sourceType)}\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                      {journal.postedBy?.name || \"لم يتم الاعتماد \"}\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                      {dayjs(journal.createdAt).format(\"DD/MM/YYYY\")}\r\n                    </StyledTableCell>\r\n                    <StyledTableCell align=\"center\" sx={{ whiteSpace: \"nowrap\" }}>\r\n                      <Stack direction=\"row\" spacing={1} justifyContent=\"center\">\r\n                        <IconButton\r\n                          title=\"عرض التفاصيل\"\r\n                          size=\"small\"\r\n                          color=\"primary\"\r\n                          onClick={() => onViewDetails(journal.id)}\r\n                        >\r\n                          <Visibility fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Stack>\r\n                    </StyledTableCell>\r\n                  </StyledTableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Paper>\r\n\r\n      {/* Pagination */}\r\n      {journalsData && (\r\n        <TablePagination\r\n          component=\"div\"\r\n          count={journalsData.total || 0}\r\n          page={page - 1}\r\n          onPageChange={handleChangePage}\r\n          rowsPerPage={10}\r\n          rowsPerPageOptions={[10]}\r\n          labelDisplayedRows={({ from, to, count }) =>\r\n            `عرض ${from}-${to} من ${count}`\r\n          }\r\n          labelRowsPerPage=\"صفوف لكل صفحة:\"\r\n        />\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default JournalTable;","import React, { useState } from \"react\";\nimport {\n  Box,\n  Typography,\n  Tabs,\n  Tab,\n  Paper,\n  Grid,\n  TextField,\n  Button,\n  Stack,\n  Divider,\n  Alert,\n  Chip,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  MenuItem,\n  CircularProgress,\n} from \"@mui/material\";\nimport {\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  Check as CheckIcon,\n  Cancel as CancelIcon,\n  Save as SaveIcon,\n} from \"@mui/icons-material\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getJournalById, updateJournal, deleteJournal, postJournal, unpostJournal } from \"./journalsApi\";\nimport { notifySuccess, notifyError } from \"../../utilities/toastify\";\nimport JournalTable from \"../../components/modals/JournalTable\";\nimport DeleteModal from \"../../components/modals/DeleteModal\";\nimport {StyledTableCell, StyledTableRow} from '../../components/layouts/tableLayout';\nconst Journals = () => {\n  const [activeTab, setActiveTab] = useState(0);\n  const [selectedJournal, setSelectedJournal] = useState(null);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [journalToDelete, setJournalToDelete] = useState(null);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [editForm, setEditForm] = useState({\n    description: \"\",\n    date: \"\",\n    type: \"\",\n  });\n  const queryClient = useQueryClient();\n\n  const { data: journalData, isLoading: isJournalLoading } = useQuery({\n    queryKey: [\"journal\", selectedJournal],\n    queryFn: () => getJournalById(selectedJournal),\n    enabled: !!selectedJournal && activeTab === 1,\n    onSuccess: (data) => {\n      if (data) {\n        setEditForm({\n          description: data.description || \"\",\n          date: data.date ? data.date.split('T')[0] : \"\",\n          type: data.type || \"\",\n        });\n      }\n    },\n  });\n\n  const handleViewDetails = (journalId) => {\n    setSelectedJournal(journalId);\n    setActiveTab(1);\n    setIsEditMode(false);\n  };\n\n  const handleEditClick = () => {\n    setIsEditMode(true);\n  };\n\n  const handleCancelEdit = () => {\n    setIsEditMode(false);\n    // Reset form to original data\n    if (journalData) {\n      setEditForm({\n        description: journalData.description || \"\",\n        date: journalData.date ? journalData.date.split('T')[0] : \"\",\n        type: journalData.type || \"\",\n      });\n    }\n  };\n\n  const handleUpdateJournal = async () => {\n    try {\n      const updateData = {\n        description: editForm.description,\n        date: editForm.date,\n        type: editForm.type,\n      };\n      \n      await updateJournal(selectedJournal, updateData);\n      notifySuccess(\"تم تعديل القيد بنجاح\");\n      setIsEditMode(false);\n      queryClient.invalidateQueries([\"journal\", selectedJournal]);\n      queryClient.invalidateQueries([\"journals\"]);\n    } catch (error) {\n      notifyError(error.response?.data?.message || \"حدث خطأ أثناء تعديل القيد\");\n    }\n  };\n\n  const handleInputChange = (field, value) => {\n    setEditForm(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleDeleteJournal = async () => {\n    try {\n      await deleteJournal(journalToDelete);\n      notifySuccess(\"تم حذف القيد بنجاح\");\n      setIsDeleteModalOpen(false);\n      setJournalToDelete(null);\n      setSelectedJournal(null);\n      setActiveTab(0);\n      queryClient.invalidateQueries([\"journals\"]);\n    } catch (error) {\n      notifyError(error.response?.data?.message || \"حدث خطأ أثناء حذف القيد\");\n    }\n  };\n\n  const handlePostJournal = async () => {\n    try {\n      await postJournal(selectedJournal);\n      notifySuccess(\"تم اعتماد القيد بنجاح\");\n      queryClient.invalidateQueries([\"journal\", selectedJournal]);\n      queryClient.invalidateQueries([\"journals\"]);\n    } catch (error) {\n      notifyError(error.response?.data?.message || \"حدث خطأ أثناء اعتماد القيد\");\n    }\n  };\n\n  const handleUnpostJournal = async () => {\n    try {\n      await unpostJournal(selectedJournal);\n      notifySuccess(\"تم إلغاء اعتماد القيد بنجاح\");\n      queryClient.invalidateQueries([\"journal\", selectedJournal]);\n      queryClient.invalidateQueries([\"journals\"]);\n    } catch (error) {\n      notifyError(error.response?.data?.message || \"حدث خطأ أثناء إلغاء الاعتماد\");\n    }\n  };\n\n \n\n  // Journal Source Type Arabic translations\n  const getJournalSourceTypeText = (sourceType) => {\n    switch (sourceType) {\n      case \"LOAN\":\n        return \"سلفة\";\n      case \"REPAYMENT\":\n        return \"سداد\";\n      case \"PARTNER\":\n        return \"شريك\";\n      case \"PERIOD_CLOSING\":\n        return \"إقفال فترة\";\n      case \"PARTNER_TRANSACTION_WITHDRAWAL\":\n        return \"سحب مالي لشريك\";\n      case \"PARTNER_TRANSACTION_DEPOSIT\":\n        return \"إيداع مالي لشريك\";\n      case \"OTHER\":\n        return \"أخرى\";\n      default:\n        return sourceType || \"-\";\n    }\n  };\n\n\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case \"DRAFT\":\n        return \"مسودة\";\n      case \"POSTED\":\n        return \"معتمد\";\n      case \"CANCELLED\":\n        return \"ملغي\";\n      default:\n        return status;\n    }\n  };\n\n\n  const calculateTotals = () => {\n    if (!journalData?.lines) return { totalDebit: 0, totalCredit: 0 };\n    \n    const totalDebit = journalData.lines.reduce((sum, line) => sum + (line.debit || 0), 0);\n    const totalCredit = journalData.lines.reduce((sum, line) => sum + (line.credit || 0), 0);\n    \n    return { totalDebit, totalCredit };\n  };\n\n  const { totalDebit, totalCredit } = calculateTotals();\n\n  return (\n    <Box\n      sx={{\n        bgcolor: \"#f6f6f8\",\n        minHeight: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Box\n        sx={{\n          display: \"flex\",\n          flexDirection: \"row-reverse\",\n          flex: 1,\n          height: \"calc(100vh - 80px)\",\n          width: \"100%\",\n        }}\n      >\n        {activeTab === 1 && journalData && (\n          <Box\n            sx={{\n              width: \"350px\",\n              borderRight: \"1px solid #ddd\",\n              bgcolor: \"#fafafa\",\n              height: \"100%\",\n              overflowY: \"auto\",\n              flexShrink: 0,\n            }}\n          >\n            <Box sx={{ p: 3, borderBottom: \"1px solid #ddd\", bgcolor: \"#fafafa\" }}>\n              <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\" mb={3}>\n                معلومات القيد\n              </Typography>\n              <Stack spacing={2}>\n                <Box sx={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                  <Typography color=\"error\">إجمالي المدين:</Typography>\n                  <Typography fontWeight=\"bold\" color=\"error\">\n                    {totalDebit.toLocaleString()} \n                  </Typography>\n                </Box>\n                <Box sx={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                  <Typography color=\"success\">إجمالي الدائن:</Typography>\n                  <Typography fontWeight=\"bold\" color=\"success\">\n                    {totalCredit.toLocaleString()} \n                  </Typography>\n                </Box>\n                <Box sx={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                  <Typography color=\"black\">الاجمالي:</Typography>\n                  <Typography fontWeight=\"bold\" color=\"black\">\n                    {(totalDebit - totalCredit).toLocaleString()} \n                  </Typography>\n                </Box>\n              </Stack>\n            </Box>\n\n            <Box sx={{ p: 3 }}>\n              <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\" mb={3}>\n                الإجراءات\n              </Typography>\n              <Stack spacing={2}>\n                {journalData.status === \"DRAFT\" && !isEditMode && (\n                  <>\n                    <Button\n                      variant=\"contained\"\n                      startIcon={<EditIcon sx={{marginLeft:'10px'}}/>}\n                      onClick={handleEditClick}\n                      sx={{\n                        bgcolor: \"primary.main\",\n                        \"&:hover\": { bgcolor: \"primary.dark\" },\n                      }}\n                    >\n                      تعديل القيد\n                    </Button>\n                    <Button\n                      variant=\"contained\"\n                      startIcon={<CheckIcon sx={{marginLeft:'10px'}}/>}\n                      onClick={handlePostJournal}\n                      sx={{\n                        bgcolor: \"success.main\",\n                        \"&:hover\": { bgcolor: \"success.dark\" },\n                      }}\n                    >\n                      اعتماد القيد\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      startIcon={<DeleteIcon sx={{marginLeft:'10px'}}/>}\n                      onClick={() => {\n                        setJournalToDelete(selectedJournal);\n                        setIsDeleteModalOpen(true);\n                      }}\n                      sx={{\n                        borderColor: \"error.main\",\n                        color: \"error.main\",\n                        \"&:hover\": { bgcolor: \"rgba(211, 47, 47, 0.1)\" },\n                      }}\n                    >\n                      حذف القيد\n                    </Button>\n                  </>\n                )}\n\n                {journalData.status === \"DRAFT\" && isEditMode && (\n                  <>\n                    <Button\n                      variant=\"contained\"\n                      startIcon={<SaveIcon sx={{marginLeft:'10px'}}/>}\n                      onClick={handleUpdateJournal}\n                      sx={{\n                        bgcolor: \"success.main\",\n                        \"&:hover\": { bgcolor: \"success.dark\" },\n                      }}\n                    >\n                      حفظ التعديلات\n                    </Button>\n                    <Button\n                      variant=\"outlined\"\n                      onClick={handleCancelEdit}\n                      sx={{\n                        borderColor: \"grey.500\",\n                        color: \"grey.700\",\n                      }}\n                    >\n                      إلغاء التعديل\n                    </Button>\n                  </>\n                )}\n\n                {journalData.status === \"POSTED\" && (\n                  <Button\n                    variant=\"outlined\"\n                    startIcon={<CancelIcon sx={{marginLeft:'10px'}}/>}\n                    onClick={handleUnpostJournal}\n                    sx={{\n                      borderColor: \"error.main\",\n                      color: \"error.main\",\n                      \"&:hover\": { bgcolor: \"rgba(211, 47, 47, 0.1)\" },\n                    }}\n                  >\n                    إلغاء الاعتماد\n                  </Button>\n                )}\n              </Stack>\n            </Box>\n          </Box>\n        )}\n\n        <Box\n          sx={{\n            flex: 1,\n            p: 4,\n            bgcolor: \"#fff\",\n            overflowY: \"auto\",\n            width: \"100%\",\n          }}\n        >\n          <Box sx={{ width: \"100%\" }}>\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\", mb: 4 }}>\n              <Tabs\n                value={activeTab}\n                onChange={(e, newValue) => {\n                  setActiveTab(newValue);\n                  if (newValue === 0) {\n                    setSelectedJournal(null);\n                    setIsEditMode(false);\n                  }\n                }}\n              >\n                <Tab\n                  label=\"عرض جميع القيود\"\n                  sx={{\n                    fontWeight: \"bold\",\n                    borderBottom: activeTab === 0 ? \"3px solid #0d40a5\" : \"none\",\n                    color: activeTab === 0 ? \"#0d40a5\" : \"text.secondary\",\n                  }}\n                />\n                <Tab\n                  label={selectedJournal ? \"تفاصيل القيد\" : \"قيد محدد\"}\n                  sx={{\n                    fontWeight: \"bold\",\n                    borderBottom: activeTab === 1 ? \"3px solid #0d40a5\" : \"none\",\n                    color: activeTab === 1 ? \"#0d40a5\" : \"text.secondary\",\n                  }}\n                />\n              </Tabs>\n            </Box>\n\n            {activeTab === 0 ? (\n              <JournalTable onViewDetails={handleViewDetails} />\n            ) : (\n              <Box>\n                {!selectedJournal ? (\n                  <Alert severity=\"info\" sx={{ mt: 2 }}>\n                    يرجى اختيار قيد لعرض تفاصيله\n                  </Alert>\n                ) : isJournalLoading ? (\n                  <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%' }}>\n                  <CircularProgress size={20} />\n                  </Box>\n                ) : journalData ? (\n                  <Paper sx={{ p: 4, borderRadius: 2 }}>\n                    <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\" mb={3} textAlign={'center'}>\n                      تفاصيل القيد\n                    </Typography>\n\n                    <Grid container spacing={3} mb={4} justifyContent={'center'}>\n                      <Grid item xs={12} md={6}>\n                        <TextField\n                          fullWidth\n                          label=\"رقم القيد\"\n                          value={journalData.reference || \"\"}\n                          disabled\n                          InputLabelProps={{ shrink: true }}\n                          sx={{\n                            \"& .MuiOutlinedInput-root\": {\n                              width: \"200px\",\n                            },\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12} md={6}>\n                        <TextField\n                          fullWidth\n                          label=\"التاريخ\"\n                          type=\"date\"\n                          value={isEditMode ? editForm.date : (journalData.date ? journalData.date.split('T')[0] : \"\")}\n                          onChange={(e) => handleInputChange(\"date\", e.target.value)}\n                          disabled={!isEditMode}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{\n                            \"& .MuiOutlinedInput-root\": {\n                              width: \"200px\",\n                            },\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12} md={6}>\n                        <TextField\n                          fullWidth\n                          label=\"نوع القيد\"\n                          select\n                          value={isEditMode ? editForm.type : journalData.type || \"\"}\n                          onChange={(e) => handleInputChange(\"type\", e.target.value)}\n                          disabled={!isEditMode}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{\n                            \"& .MuiOutlinedInput-root\": {\n                              width: \"200px\",\n                            },\n                          }}\n                        >\n                          <MenuItem value=\"GENERAL\">عام</MenuItem>\n                          <MenuItem value=\"OPENING\">افتتاحي</MenuItem>\n                          <MenuItem value=\"CLOSING\">ختامي</MenuItem>\n                          <MenuItem value=\"ADJUSTMENT\">تسوية</MenuItem>\n                        </TextField>\n                      </Grid>\n                      <Grid item xs={12} md={6}>\n                        <TextField\n                          fullWidth\n                          label=\"نوع المصدر\"\n                          value={journalData.sourceType ? getJournalSourceTypeText(journalData.sourceType) : \"لا يوجد\"}\n                          disabled\n                          InputLabelProps={{ shrink: true }}\n                          sx={{\n                            \"& .MuiOutlinedInput-root\": {\n                              width: \"200px\",\n                            },\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12} md={6}>\n                        <TextField\n                          fullWidth\n                          label=\"الحالة\"\n                          value={getStatusText(journalData.status)}\n                          disabled\n                          InputLabelProps={{ shrink: true }}\n                          sx={{\n                            \"& .MuiOutlinedInput-root\": {\n                              width: \"200px\",\n                            },\n                          }}\n                          />\n                      </Grid>\n                      <Grid item xs={12} md={6}>\n                        <TextField\n                          fullWidth\n                          label=\"المعتمد بواسطة\"\n                          value={journalData.postedBy?.name || \"لم يتم الاعتماد \"}\n                          disabled\n                          InputLabelProps={{ shrink: true }}\n                          sx={{\n                            \"& .MuiOutlinedInput-root\": {\n                              width: \"200px\",\n                            },\n                          }}\n                          />\n                      </Grid>\n                      <Grid item xs={12}>\n                        <TextField\n                          fullWidth\n                          label=\"الوصف\"\n                          value={isEditMode ? editForm.description : journalData.description || \"\"}\n                          onChange={(e) => handleInputChange(\"description\", e.target.value)}\n                          disabled={!isEditMode}\n                          multiline\n                          rows={2}\n                          InputLabelProps={{ shrink: true }}\n                          sx={{\n                            \"& .MuiOutlinedInput-root\": {\n                              width: \"650px\",\n                            },\n                          }}\n                        />\n                      </Grid>\n                    </Grid>\n\n                    <Divider sx={{ my: 3 }} />\n\n                    <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\" mb={3} textAlign={'center'}>\n                      بنود القيد\n                    </Typography>\n\n                    <TableContainer component={Paper} variant=\"outlined\">\n                      <Table>\n                        <TableHead>\n                          <StyledTableRow>\n                            <StyledTableCell align=\"center\">الحساب</StyledTableCell>\n                            <StyledTableCell align=\"center\">العميل</StyledTableCell>\n                            <StyledTableCell align=\"center\">الطبيعة</StyledTableCell>\n                            <StyledTableCell align=\"center\">مدين</StyledTableCell>\n                            <StyledTableCell align=\"center\">دائن</StyledTableCell>\n                            <StyledTableCell align=\"center\">الإجمالي</StyledTableCell>\n                          </StyledTableRow>\n                        </TableHead>\n                        <TableBody>\n                          {journalData.lines?.map((line) => (\n                            <StyledTableRow key={line.id}>\n                              <StyledTableCell align=\"center\">\n                                {line.account?.code} - {line.account?.name}\n                              </StyledTableCell>\n                              <StyledTableCell align=\"center\">\n                                {line.client?.name || \"لا يوجد عميل\"}\n                              </StyledTableCell>\n                              <StyledTableCell \n                                align=\"center\"\n                                style={{\n                                  color: line.account?.nature === \"DEBIT\" ? \"#d32f2f\" : \n                                         line.account?.nature === \"CREDIT\" ? \"#2e7d32\" : \"#000000\",\n                                  fontWeight: \"bold\"\n                                }}\n                              >\n                                {line.account?.nature ? (line.account.nature === \"DEBIT\" ? \"مدين\" : \"دائن\") : \"-\"}\n                              </StyledTableCell>\n                              <StyledTableCell align=\"center\">\n                                {line.debit.toLocaleString() || 0}\n                              </StyledTableCell>\n                              <StyledTableCell align=\"center\">\n                                {line.credit.toLocaleString() || 0}\n                              </StyledTableCell>\n                              <StyledTableCell align=\"center\">\n                                {line.balance.toLocaleString() || 0}\n                              </StyledTableCell>\n                            </StyledTableRow>\n                          ))}\n                          <StyledTableRow sx={{ backgroundColor: '#f5f5f5' }}>\n                            <StyledTableCell colSpan={3} align=\"center\">\n                              <Typography fontWeight=\"bold\">الإجمالي</Typography>\n                            </StyledTableCell>\n                            <StyledTableCell align=\"center\">\n                              <Typography fontWeight=\"bold\">\n                                {totalDebit.toLocaleString()} \n                              </Typography>\n                            </StyledTableCell>\n                            <StyledTableCell align=\"center\">\n                              <Typography fontWeight=\"bold\">\n                                {totalCredit.toLocaleString()} \n                              </Typography>\n                            </StyledTableCell>\n                            <StyledTableCell align=\"center\">\n                              <Typography fontWeight=\"bold\">\n                                {(totalDebit - totalCredit).toLocaleString()} \n                              </Typography>\n                            </StyledTableCell>\n                          </StyledTableRow>\n                          </TableBody>\n                        </Table>\n                      </TableContainer>\n                    </Paper>\n                  ) : (\n                    <Alert severity=\"error\">حدث خطأ في تحميل بيانات القيد</Alert>\n                  )}\n                </Box>\n              )}\n            </Box>\n          </Box>\n        </Box>\n\n      <DeleteModal\n        open={isDeleteModalOpen}\n        onClose={() => {\n          setIsDeleteModalOpen(false);\n          setJournalToDelete(null);\n        }}\n        onConfirm={handleDeleteJournal}\n        title=\"حذف القيد\"\n        message=\"هل أنت متأكد من حذف هذا القيد؟\"\n        ButtonText=\"حذف\"\n      />\n    </Box>\n  );\n};\n\nexport default Journals;"],"names":["CancelIcon","createSvgIcon","_jsx","getJournals","page","search","url","Api","error","handleApiError","getJournalById","journalId","updateJournal","journalData","deleteJournal","postJournal","unpostJournal","JournalTable","onViewDetails","setPage","useState","searchQuery","setSearchQuery","journalsData","isLoading","useQuery","handleSearchChange","event","handleChangePage","newPage","getJournalTypeText","type","getJournalSourceTypeText","sourceType","getStatusColor","status","getStatusText","jsxs","Box","jsx","InputBase","Paper","TableContainer","Table","TableHead","StyledTableRow","StyledTableCell","TableBody","CircularProgress","Typography","journal","Chip","Stack","IconButton","Visibility","TablePagination","from","to","count","Journals","activeTab","setActiveTab","selectedJournal","setSelectedJournal","isEditMode","setIsEditMode","journalToDelete","setJournalToDelete","isDeleteModalOpen","setIsDeleteModalOpen","editForm","setEditForm","queryClient","useQueryClient","isJournalLoading","data","handleViewDetails","handleEditClick","handleCancelEdit","handleUpdateJournal","updateData","notifySuccess","notifyError","handleInputChange","field","value","prev","handleDeleteJournal","handlePostJournal","handleUnpostJournal","calculateTotals","totalDebit","sum","line","totalCredit","Fragment","Button","EditIcon","CheckIcon","DeleteIcon","SaveIcon","Tabs","e","newValue","Tab","Grid","TextField","MenuItem","Divider","Alert","DeleteModal"],"mappings":"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","x_google_ignoreList":[0]}